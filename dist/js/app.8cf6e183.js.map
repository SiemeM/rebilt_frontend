{"version":3,"file":"js/app.8cf6e183.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/components/DynamicStyle.vue","webpack://frontend/./src/components/DynamicStyle.vue?0edb","webpack://frontend/./src/views/LoginPage.vue","webpack://frontend/./src/views/LoginPage.vue?fce3","webpack://frontend/./src/views/ForgotPassword.vue","webpack://frontend/./src/views/ForgotPassword.vue?1314","webpack://frontend/./src/views/VerificationCode.vue","webpack://frontend/./src/views/VerificationCode.vue?4302","webpack://frontend/./src/views/NewPassword.vue","webpack://frontend/./src/views/NewPassword.vue?f536","webpack://frontend/./src/services/fileService.js","webpack://frontend/./src/services/productService.js","webpack://frontend/./src/services/authService.js","webpack://frontend/./src/views/Collections.vue","webpack://frontend/./src/views/Collections.vue?31bb","webpack://frontend/./src/components/FaceTracking.vue","webpack://frontend/./src/components/FaceTracking.vue?f590","webpack://frontend/./src/views/DetailsProduct.vue","webpack://frontend/./src/views/DetailsProduct.vue?22e4","webpack://frontend/./src/components/navComponent.vue","webpack://frontend/./src/components/navComponent.vue?b925","webpack://frontend/./src/components/ProfilePicture.vue","webpack://frontend/./src/components/ProfilePicture.vue?a2f3","webpack://frontend/./src/views/admin/HomePage.vue","webpack://frontend/./src/views/admin/HomePage.vue?0670","webpack://frontend/./src/services/apiService.js","webpack://frontend/./src/services/configurationService.js","webpack://frontend/./src/components/DropdownToggle.vue","webpack://frontend/./src/components/DropdownToggle.vue?37d3","webpack://frontend/./src/components/DropdownToggleColor.vue","webpack://frontend/./src/components/DropdownToggleColor.vue?1995","webpack://frontend/./src/components/ColorSelectionToggle.vue","webpack://frontend/./src/components/ColorSelectionToggle.vue?b276","webpack://frontend/./src/components/ImageUpload.vue","webpack://frontend/./src/components/ImageUpload.vue?68da","webpack://frontend/./src/views/admin/AddNewProductPage.vue","webpack://frontend/./src/views/admin/AddNewProductPage.vue?473b","webpack://frontend/./src/views/admin/EditProduct.vue","webpack://frontend/./src/views/admin/EditProduct.vue?c69e","webpack://frontend/./src/views/admin/PartnersPage.vue","webpack://frontend/./src/views/admin/PartnersPage.vue?734d","webpack://frontend/./src/views/admin/AddNewPartnerPage.vue","webpack://frontend/./src/views/admin/AddNewPartnerPage.vue?735f","webpack://frontend/./src/views/admin/EditPartner.vue","webpack://frontend/./src/views/admin/EditPartner.vue?6254","webpack://frontend/./src/views/admin/OrdersPage.vue","webpack://frontend/./src/views/admin/OrdersPage.vue?2d24","webpack://frontend/./src/views/admin/EditOrder.vue","webpack://frontend/./src/views/admin/EditOrder.vue?a2d4","webpack://frontend/./src/views/admin/StylingPage.vue","webpack://frontend/./src/views/admin/StylingPage.vue?ccb1","webpack://frontend/./src/views/admin/UsersPage.vue","webpack://frontend/./src/views/admin/UsersPage.vue?713f","webpack://frontend/./src/views/admin/AddNewUserPage.vue","webpack://frontend/./src/views/admin/AddNewUserPage.vue?1662","webpack://frontend/./src/views/admin/EditUser.vue","webpack://frontend/./src/views/admin/EditUser.vue?515a","webpack://frontend/./src/views/admin/AddNewConfigurationPage.vue","webpack://frontend/./src/views/admin/AddNewConfigurationPage.vue?3434","webpack://frontend/./src/views/admin/EditConfigurationPage.vue","webpack://frontend/./src/views/admin/EditConfigurationPage.vue?5cd8","webpack://frontend/./src/views/admin/MyConfigurationsPage.vue","webpack://frontend/./src/views/admin/MyConfigurationsPage.vue?9acd","webpack://frontend/./src/views/admin/ManageConfigurationsPage.vue","webpack://frontend/./src/views/admin/ManageConfigurationsPage.vue?aecc","webpack://frontend/./src/views/admin/SettingsPage.vue","webpack://frontend/./src/views/admin/SettingsPage.vue?8b88","webpack://frontend/./src/router.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<script setup></script>\r\n\r\n<template>\r\n  <router-view />\r\n</template>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./App.vue?vue&type=template&id=b4742da8\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\n// Router en JWT-token ophalen\r\nconst router = useRouter();\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nlet partnerId = tokenPayload.companyId;\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Definieer fallback stijlen\r\nconst fallbackStyle = {\r\n  primary_color: \"rgb(151, 71, 255)\",\r\n  secondary_color: \"rgb(26, 26, 26)\",\r\n  text_color: \"rgb(255, 255, 255)\",\r\n  titles_color: \"rgb(0, 113, 227)\",\r\n  background_color: \"rgb(0, 0, 0)\",\r\n  button_color: \"#146ef5\",\r\n  logo_url: \"../assets/images/rebilt-favicon.svg\",\r\n  fontFamilyTitles: \"Syne, serif\",\r\n  fontFamilyBodyText: \"DM Sans, sans-serif\",\r\n  black: \"#080808\",\r\n  white: \"#fff\",\r\n  blue_600: \"#0055d4\",\r\n  gray_100: \"#f0f0f0\",\r\n  gray_200: \"#d8d8d8\",\r\n  gray_300: \"#ababab\",\r\n  gray_400: \"#898989\",\r\n  gray_500: \"#757575\",\r\n  gray_600: \"#5a5a5a\",\r\n  gray_700: \"#363636\",\r\n  gray_800: \"#222\",\r\n  gray_900: \"#171717\",\r\n};\r\n\r\n// Refs voor partnerId en foutmeldingen\r\nconst error = ref(null);\r\n\r\n// Functie om partnerId op te halen\r\nconst getPartnerId = async () => {\r\n  if (jwtToken) {\r\n    const tokenPayload = JSON.parse(atob(jwtToken.split(\".\")[1]));\r\n    return tokenPayload?.companyId || null;\r\n  } else {\r\n    const partnerName = router.currentRoute.value.query.partner;\r\n    if (partnerName) {\r\n      return fetchPartnerID(partnerName);\r\n    }\r\n  }\r\n};\r\n\r\n// Functie om huisstijl op te halen\r\nconst getHouseStyleFromDatabase = async (id) => {\r\n  if (!id) {\r\n    applyFallbackStyles();\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n    const huisstijlData = response.data.data.partner || fallbackStyle;\r\n    document.documentElement.style.setProperty(\r\n      \"--primary-color\",\r\n      huisstijlData.primary_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--secondary-color\",\r\n      huisstijlData.secondary_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--text-color\",\r\n      huisstijlData.text_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--titles-color\",\r\n      huisstijlData.titles_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--background-color\",\r\n      huisstijlData.background_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--button-color\",\r\n      huisstijlData.button_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--background-image\",\r\n      `url(${huisstijlData.logo_url})`\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--title-font\",\r\n      huisstijlData.fontFamilyTitles\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--body-font\",\r\n      huisstijlData.fontFamilyBodyText\r\n    );\r\n    document.documentElement.style.setProperty(\"--black\", huisstijlData.black);\r\n    document.documentElement.style.setProperty(\"--white\", huisstijlData.white);\r\n    document.documentElement.style.setProperty(\r\n      \"--blue-600\",\r\n      huisstijlData.blue_600\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-100\",\r\n      huisstijlData.gray_100\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-200\",\r\n      huisstijlData.gray_200\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-300\",\r\n      huisstijlData.gray_300\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-400\",\r\n      huisstijlData.gray_400\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-500\",\r\n      huisstijlData.gray_500\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-600\",\r\n      huisstijlData.gray_600\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-700\",\r\n      huisstijlData.gray_700\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-800\",\r\n      huisstijlData.gray_800\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-900\",\r\n      huisstijlData.gray_900\r\n    );\r\n\r\n    // Fonts laden\r\n    loadFonts(huisstijlData.fontFamilyBodyText, huisstijlData.fontFamilyTitles);\r\n  } catch (error) {\r\n    applyFallbackStyles();\r\n  }\r\n};\r\n\r\n// Asynchrone functie om partnerId op te halen uit de naam\r\nconst fetchPartnerID = async (partnerName) => {\r\n  try {\r\n    const formattedPartnerName = partnerName.replace(/([A-Z])/g, \" $1\").trim();\r\n    const response = await axios.get(\r\n      `${baseURL}/partners?partnerName=${formattedPartnerName}`\r\n    );\r\n\r\n    const partner = response.data.data.partners.find(\r\n      (p) => p.name.toLowerCase() === formattedPartnerName.toLowerCase()\r\n    );\r\n\r\n    return partner?._id || null;\r\n  } catch (err) {\r\n    error.value = \"Er is een fout opgetreden bij het ophalen van de partner.\";\r\n    return null;\r\n  }\r\n};\r\n\r\n// Fallback stijlen toepassen\r\nconst applyFallbackStyles = () => {\r\n  document.documentElement.style.setProperty(\r\n    \"--primary-color\",\r\n    fallbackStyle.primary_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--secondary-color\",\r\n    fallbackStyle.secondary_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--text-color\",\r\n    fallbackStyle.text_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--titles-color\",\r\n    fallbackStyle.titles_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--background-color\",\r\n    fallbackStyle.background_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--button-color\",\r\n    fallbackStyle.button_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--background-image\",\r\n    `url(${fallbackStyle.logo_url})`\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--title-font\",\r\n    fallbackStyle.fontFamilyTitles\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--body-font\",\r\n    fallbackStyle.fontFamilyBodyText\r\n  );\r\n  document.documentElement.style.setProperty(\"--black\", fallbackStyle.black);\r\n  document.documentElement.style.setProperty(\"--white\", fallbackStyle.white);\r\n  document.documentElement.style.setProperty(\r\n    \"--blue-600\",\r\n    fallbackStyle.blue_600\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-100\",\r\n    fallbackStyle.gray_100\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-200\",\r\n    fallbackStyle.gray_200\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-300\",\r\n    fallbackStyle.gray_300\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-400\",\r\n    fallbackStyle.gray_400\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-500\",\r\n    fallbackStyle.gray_500\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-600\",\r\n    fallbackStyle.gray_600\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-700\",\r\n    fallbackStyle.gray_700\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-800\",\r\n    fallbackStyle.gray_800\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--gray-900\",\r\n    fallbackStyle.gray_900\r\n  );\r\n\r\n  loadFonts(fallbackStyle.fontFamilyBodyText, fallbackStyle.fontFamilyTitles);\r\n};\r\n\r\n// Fonts laden\r\nconst loadFonts = (bodyFont, titleFont) => {\r\n  const addFontToDocument = (fontUrl) => {\r\n    const existingLink = document.head.querySelector(`link[href=\"${fontUrl}\"]`);\r\n    if (!existingLink) {\r\n      const link = document.createElement(\"link\");\r\n      link.rel = \"stylesheet\";\r\n      link.href = fontUrl;\r\n      document.head.appendChild(link);\r\n    }\r\n  };\r\n\r\n  if (bodyFont)\r\n    addFontToDocument(\r\n      `https://fonts.googleapis.com/css2?family=${bodyFont.replace(\r\n        / /g,\r\n        \"+\"\r\n      )}:wght@400;700&display=swap`\r\n    );\r\n  if (titleFont)\r\n    addFontToDocument(\r\n      `https://fonts.googleapis.com/css2?family=${titleFont.replace(\r\n        / /g,\r\n        \"+\"\r\n      )}:wght@400;700&display=swap`\r\n    );\r\n};\r\n\r\n// Component laden\r\nonMounted(async () => {\r\n  partnerId = await getPartnerId();\r\n  if (partnerId) {\r\n    await getHouseStyleFromDatabase(partnerId.value);\r\n  } else {\r\n    console.warn(\"Geen partner ID gevonden, fallback stijlen toepassen.\");\r\n    applyFallbackStyles();\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div></div>\r\n</template>\r\n","import script from \"./DynamicStyle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DynamicStyle.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { ref } from \"vue\";\r\nimport router from \"../router\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst login = () => {\r\n  errorMessage.value = \"\";\r\n\r\n  if (!email.value || !password.value) {\r\n    errorMessage.value = \"Gelieve alle velden in te vullen.\";\r\n    return;\r\n  }\r\n\r\n  fetch(`${baseURL}/users/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email: email.value,\r\n      password: password.value,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw new Error(\"Login failed\");\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (data.status === \"success\") {\r\n        localStorage.setItem(\"jwtToken\", data.data.token);\r\n        const decodedToken = JSON.parse(atob(data.data.token.split(\".\")[1]));\r\n        const userRole = decodedToken.role;\r\n        if (userRole === \"partner_admin\" || userRole === \"partner_owner\") {\r\n          router.push(\"/admin\");\r\n        } else {\r\n          errorMessage.value = \"Geen toegang tot de admin sectie.\";\r\n        }\r\n        if (userRole === \"platform_admin\") {\r\n          router.push(\"/admin/partners\");\r\n        }\r\n      } else {\r\n        errorMessage.value = data.message || \"Inloggen mislukt.\";\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      errorMessage.value = \"Er is een fout opgetreden. Probeer het opnieuw.\";\r\n    });\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Welcome back</h1>\r\n        <form>\r\n          <div class=\"column\">\r\n            <label for=\"email\">Email</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"email\"\r\n              type=\"text\"\r\n              placeholder=\"johndoe@gmail.com\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"column\">\r\n            <label for=\"password\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"●●●●●●●●\"\r\n              @focus=\"showPlaceholder = false\"\r\n              @blur=\"showPlaceholder = password === ''\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"rememberMe\">\r\n              <input type=\"checkbox\" id=\"rememberMeCheckbox\" />\r\n              <label for=\"rememberMeCheckbox\">Remember me</label>\r\n            </div>\r\n\r\n            <router-link exact to=\"./ForgotPassword\">\r\n              Forgot password?\r\n            </router-link>\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n          <button class=\"btn active\" type=\"submit\" @click.prevent=\"login\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.row .rememberMe {\r\n  visibility: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.row .rememberMe input {\r\n  width: auto;\r\n}\r\n\r\n.row .rememberMe i,\r\n.row a {\r\n  color: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.row a {\r\n  text-decoration: underline;\r\n}\r\n\r\n.rememberMe label,\r\n.row a {\r\n  font-size: 14px;\r\n}\r\n\r\nlabel,\r\ninput {\r\n  color: var(--text-color);\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n\r\ninput::placeholder {\r\n  color: rgba(255, 255, 255, 0.4);\r\n  font-weight: 400;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .elements {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: auto;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    width: 50%;\r\n    padding: 3rem;\r\n    margin: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=516a90d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-516a90d0\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\n// Variabelen voor e-mail, verificatiecode en foutmeldingen\r\nconst email = ref(\"\");\r\nconst verificationCode = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\n// Functie voor e-mailvalidatie\r\nconst isValidEmail = (email) => {\r\n  if (!email || typeof email !== \"string\") {\r\n    return false;\r\n  }\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailPattern.test(email);\r\n};\r\n\r\n// Haal de 'email' queryparameter op via Vue Router\r\nonMounted(() => {\r\n  const routeEmail = route.query.email;\r\n  if (routeEmail) {\r\n    email.value = routeEmail;\r\n  }\r\n});\r\n\r\n// Controle of we in de productieomgeving draaien\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\" // Zorg dat dit HTTPS is voor productie\r\n  : \"http://localhost:3000/api/v1\"; // Gebruik HTTP voor lokaal\r\n\r\n// Functie om de e-mail te versturen naar de backend\r\nconst sendMail = async () => {\r\n  if (!isValidEmail(email.value)) {\r\n    errorMessage.value = \"Voer een geldig e-mailadres in.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/forgot-password`, {\r\n      email: email.value,\r\n    });\r\n\r\n    // Controleer of het antwoord succesvol is\r\n    if (response && response.status >= 200 && response.status < 300) {\r\n      errorMessage.value = \"\";\r\n      router.push({ path: \"/verificationCode\", query: { email: email.value } });\r\n    } else {\r\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\r\n    }\r\n  } catch (error) {\r\n    // Specifieke foutmelding voor een 404 of andere netwerkfouten\r\n    if (error.response) {\r\n      if (error.response.status === 404) {\r\n        errorMessage.value = \"Gebruiker niet gevonden.\";\r\n      } else if (error.response.status === 500) {\r\n        errorMessage.value =\r\n          \"Er is een serverfout opgetreden. Probeer het later opnieuw.\";\r\n        console.error(\"500 Error:\", error.response.data);\r\n      } else {\r\n        errorMessage.value = \"Er is een onbekende fout opgetreden.\";\r\n      }\r\n    } else {\r\n      errorMessage.value = \"Er is een probleem met het netwerk.\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Forgot password</h1>\r\n        <form @submit.prevent=\"sendMail\">\r\n          <div class=\"column\">\r\n            <label for=\"email\">Email</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"johndoe@gmail.com\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n          <button class=\"btn active\" type=\"submit\">Send mail</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* CSS-stijlen voor je formulier */\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .elements {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: auto;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    width: 50%;\r\n    padding: 3rem;\r\n    margin: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ForgotPassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ForgotPassword.vue?vue&type=style&index=0&id=1b2fe415&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b2fe415\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst email = ref(\"\");\r\nconst verificationCode = ref(\"\");\r\nconst successMessage = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst isValidEmail = (email) => {\r\n  // Controleer eerst of het emailadres leeg is\r\n  if (!email || typeof email !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  // Reguliere expressie voor e-mailvalidatie\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n  // Test de e-mail tegen de reguliere expressie\r\n  return emailPattern.test(email);\r\n};\r\n\r\nconst isValidCode = (code) => {\r\n  // Controleer of de code een geldige string is\r\n  if (typeof code !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  // Trim de string en controleer of deze niet leeg is\r\n  return code.trim().length > 0;\r\n};\r\n\r\nonMounted(() => {\r\n  const emailQuery = route.query.email;\r\n\r\n  if (typeof emailQuery === \"string\") {\r\n    email.value = emailQuery;\r\n  } else if (emailQuery) {\r\n    console.warn(\"Unexpected email query type:\", typeof emailQuery);\r\n  }\r\n});\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst sendMail = async () => {\r\n  if (!isValidEmail(email.value)) {\r\n    errorMessage.value = \"Voer een geldig e-mailadres in.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/forgot-password`, {\r\n      email: email.value,\r\n    });\r\n\r\n    if (response && response.status >= 200 && response.status < 300) {\r\n      errorMessage.value = \"\";\r\n      router.push({ path: \"/verificationCode\", query: { email: email.value } });\r\n    } else {\r\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\r\n    }\r\n    successMessage.value = \"De mail is succesvol opnieuw verstuurd.\";\r\n  } catch (error) {\r\n    if (error.response && error.response.status === 404) {\r\n      errorMessage.value = \"Gebruiker niet gevonden.\";\r\n    } else {\r\n      errorMessage.value =\r\n        \"Er is een fout opgetreden bij het versturen van de e-mail.\";\r\n    }\r\n  }\r\n};\r\n\r\nconst verifyCode = async () => {\r\n  if (!isValidCode(verificationCode.value)) {\r\n    errorMessage.value = \"Voer een geldige verificatiecode in.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/verify-code`, {\r\n      code: verificationCode.value,\r\n      email: email.value,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      router.push({ path: \"/newPassword\", query: { email: email.value } });\r\n    } else {\r\n      errorMessage.value = \"De verificatiecode is ongeldig.\";\r\n    }\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      switch (error.response.status) {\r\n        case 400:\r\n          errorMessage.value = \"Ongeldige verificatiecode.\";\r\n          break;\r\n        case 404:\r\n          errorMessage.value = \"Verificatiecode niet gevonden.\";\r\n          break;\r\n        default:\r\n          errorMessage.value =\r\n            \"Er is een fout opgetreden bij het verifiëren van de code.\";\r\n          break;\r\n      }\r\n    } else {\r\n      errorMessage.value = \"Er is een netwerkfout opgetreden.\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Forgot password</h1>\r\n        <form @submit.prevent=\"verifyCode\">\r\n          <div class=\"column\">\r\n            <label for=\"verificationCode\">Verification code</label>\r\n            <input\r\n              id=\"verificationCode\"\r\n              v-model=\"verificationCode\"\r\n              type=\"text\"\r\n              placeholder=\"HFDQ2FDQL4\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n          <p v-if=\"successMessage\" class=\"success\">{{ successMessage }}</p>\r\n\r\n          <button class=\"btn\" type=\"button\" @click=\"sendMail\">\r\n            Send mail again\r\n          </button>\r\n          <button class=\"btn active\" type=\"submit\">Verify code</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Jouw bestaande CSS-stijlen */\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.success {\r\n  color: #008000;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n\r\n.btn {\r\n  background-color: transparent;\r\n}\r\n\r\n.btn.active {\r\n  background-color: var(--button-color);\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .elements {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: auto;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    width: 50%;\r\n    padding: 3rem;\r\n    margin: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VerificationCode.vue?vue&type=style&index=0&id=b93c90b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b93c90b0\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst email = ref(\"\");\r\nconst newPassword = ref(\"\");\r\nconst repeatNewPassword = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nonMounted(() => {\r\n  const emailQuery = route.query.email;\r\n\r\n  if (typeof emailQuery === \"string\") {\r\n    email.value = emailQuery;\r\n  } else if (emailQuery) {\r\n    console.warn(\"Email query parameter is not a string:\", emailQuery);\r\n  } else {\r\n    console.info(\"No email query parameter provided.\");\r\n  }\r\n});\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst updatePassword = async () => {\r\n  if (newPassword.value !== repeatNewPassword.value) {\r\n    errorMessage.value = \"Wachtwoorden komen niet overeen.\";\r\n    return;\r\n  }\r\n\r\n  if (newPassword.value.length < 8) {\r\n    errorMessage.value = \"Het wachtwoord moet minimaal 8 tekens lang zijn.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/reset-password`, {\r\n      email: email.value,\r\n      newPassword: newPassword.value,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      router.push(\"/login\");\r\n    } else {\r\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\r\n    }\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      switch (error.response.status) {\r\n        case 400:\r\n          errorMessage.value = \"Ongeldig verzoek.\";\r\n          break;\r\n        case 404:\r\n          errorMessage.value = \"Gebruiker niet gevonden.\";\r\n          break;\r\n        default:\r\n          errorMessage.value =\r\n            \"Er is een fout opgetreden bij het instellen van het wachtwoord.\";\r\n          break;\r\n      }\r\n    } else {\r\n      errorMessage.value = \"Netwerkfout.\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Nieuw wachtwoord instellen</h1>\r\n        <form @submit.prevent=\"updatePassword\">\r\n          <div class=\"column\">\r\n            <label for=\"newPassword\">Nieuw wachtwoord</label>\r\n            <input\r\n              id=\"newPassword\"\r\n              v-model=\"newPassword\"\r\n              type=\"password\"\r\n              placeholder=\"●●●●●●●●\"\r\n              required\r\n            />\r\n          </div>\r\n          <div class=\"column\">\r\n            <label for=\"repeatNewPassword\">Herhaal nieuw wachtwoord</label>\r\n            <input\r\n              id=\"repeatNewPassword\"\r\n              v-model=\"repeatNewPassword\"\r\n              type=\"password\"\r\n              placeholder=\"●●●●●●●●\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n          <button class=\"btn active\" type=\"submit\">Wachtwoord instellen</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Jouw bestaande CSS-stijlen */\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import script from \"./NewPassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NewPassword.vue?vue&type=style&index=0&id=298ebca1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-298ebca1\"]])\n\nexport default __exports__","/* Bestandsbeheer, zoals bestanduploads */\r\nimport { ref } from \"vue\";\r\n\r\n// Voeg foutmeldingen en status toe aan de data\r\nconst uploadError = ref(\"\");\r\nconst uploadStatus = ref(\"\");\r\n\r\nexport const uploadFileToCloudinary = async (\r\n  file,\r\n  productName,\r\n  partnerName\r\n) => {\r\n  try {\r\n    // Controleer of het bestand en de naam aanwezig zijn\r\n    if (!file || !file.name) {\r\n      throw new Error(\"No file provided or file name is missing.\");\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"upload_preset\", \"ycy4zvmj\");\r\n    formData.append(\"cloud_name\", \"dzempjvto\");\r\n\r\n    const sanitizeFolderName = (name) => name.replace(/[^a-zA-Z0-9/_-]/g, \"\");\r\n\r\n    const folderName = sanitizeFolderName(\r\n      `${partnerName || \"DefaultFolder\"}/products/${productName}`\r\n    );\r\n    formData.append(\"folder\", folderName);\r\n\r\n    // Bepaal het uploadEndpoint op basis van het bestandstype\r\n    const fileExtension = file.name.split(\".\").pop().toLowerCase();\r\n    let uploadEndpoint;\r\n\r\n    if (\r\n      [\"jpg\", \"jpeg\", \"svg\", \"png\", \"gif\", \"bmp\", \"webp\"].includes(\r\n        fileExtension\r\n      )\r\n    ) {\r\n      uploadEndpoint = \"https://api.cloudinary.com/v1_1/dzempjvto/image/upload\"; // Afbeelding upload\r\n    } else if ([\"glb\", \"obj\", \"gltf\"].includes(fileExtension)) {\r\n      uploadEndpoint = \"https://api.cloudinary.com/v1_1/dzempjvto/raw/upload\"; // 3D-bestand upload\r\n    } else {\r\n      throw new Error(\"Unsupported file type\");\r\n    }\r\n\r\n    // Upload bestand naar Cloudinary\r\n    const response = await fetch(uploadEndpoint, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(`Cloudinary upload failed: ${errorData.error.message}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    if (!data.secure_url) {\r\n      throw new Error(\"No secure_url found in Cloudinary response\");\r\n    }\r\n\r\n    // Retourneer de secure_url van de upload\r\n    return data.secure_url;\r\n  } catch (error) {\r\n    // Fout wordt naar de console gelogd en de foutmelding wordt gegooid\r\n    console.error(\"Error uploading file:\", error);\r\n    throw error;\r\n  }\r\n};\r\n","/* Productgerelateerde functies */\r\nimport { ref, toRaw } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { uploadFileToCloudinary } from \"./fileService\"; // Assuming the path is correct\r\n\r\nconst router = useRouter();\r\n\r\n// Setup loaders\r\nconst dracoLoader = new DRACOLoader();\r\ndracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\r\nconst gltfLoader = new GLTFLoader();\r\ngltfLoader.setDRACOLoader(dracoLoader);\r\nconst objLoader = new OBJLoader();\r\n\r\n// Export loaders\r\nexport { objLoader, gltfLoader, dracoLoader };\r\nlet scene, camera, renderer, model;\r\n\r\nconst selectedType = ref(\"\");\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst errorMessage = ref(\"\");\r\nconst colors = ref([]);\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nconst partnerId = tokenPayload.companyId;\r\nconst filteredProducts = ref([]); // Correct initialiseren als lege array\r\nconst partnerConfigurations = ref([]);\r\nlet isMouseDown = false;\r\nlet prevMouseX = 0;\r\nlet prevMouseY = 0;\r\n\r\nexport const filterProductsByType = (\r\n  partnerId,\r\n  selectedType,\r\n  filteredProductsRef\r\n) => {\r\n  // Access the value of filteredProductsRef (which is a ref)\r\n  const filteredProducts = filteredProductsRef.value; // Correctly access the value of the ref\r\n\r\n  if (!Array.isArray(filteredProducts)) {\r\n    console.error(\r\n      \"filteredProducts is not properly initialized or is not an array.\"\r\n    );\r\n    return []; // Return an empty array if it's not properly initialized\r\n  }\r\n\r\n  // Continue with filtering\r\n  let filteredResults = [...filteredProducts]; // Make a copy of filteredProducts\r\n\r\n  if (selectedType) {\r\n    filteredResults = filteredResults.filter(\r\n      (product) => product.productType === selectedType\r\n    );\r\n  }\r\n\r\n  return filteredResults;\r\n};\r\n\r\nexport const fetchProductById = async (id) => {\r\n  if (!id) {\r\n    console.error(\"Product ID is required!\");\r\n    return null; // Return null if no ID is provided\r\n  }\r\n\r\n  try {\r\n    // Gebruik baseURL voor productie of lokaal\r\n    const response = await axios.get(`${baseURL}/products/${id}`);\r\n\r\n    if (response.status === 200) {\r\n      return response.data?.data || null; // Return the product data or null if not found\r\n    } else {\r\n      console.error(\"Failed to fetch product:\", response.status);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching product by ID:\", error);\r\n    return null; // Return null in case of an error\r\n  }\r\n};\r\n\r\nexport const fetchProducts = async (partnerId) => {\r\n  // Controleer of partnerId bestaat\r\n  if (!partnerId) {\r\n    console.error(\"partnerId is undefined or null!\");\r\n    return []; // Return een lege array als partnerId ontbreekt\r\n  }\r\n\r\n  try {\r\n    const partnerResponse = await axios.get(`${baseURL}/partners/${partnerId}`);\r\n\r\n    const partnerName = partnerResponse.data.data.partner.name;\r\n\r\n    if (!partnerName) {\r\n      throw new Error(\"Partner name not found\");\r\n    }\r\n\r\n    const apiUrl = `${baseURL}/products?partnerName=${partnerName}`;\r\n\r\n    const productResponse = await axios.get(apiUrl);\r\n\r\n    const products = productResponse.data?.data?.products || [];\r\n    return products; // Return de producten als alles goed gaat\r\n  } catch (error) {\r\n    console.error(\"Error fetching products:\", error);\r\n    return []; // Return een lege array als er iets misgaat\r\n  }\r\n};\r\n\r\nexport const fetchProductTypes = async (partnerId) => {\r\n  // Controleer of partnerId bestaat\r\n  if (!partnerId) {\r\n    console.error(\"partnerId is undefined or null!\");\r\n    return []; // Return een lege array als partnerId ontbreekt\r\n  }\r\n\r\n  try {\r\n    // Haal partnergegevens op via partnerId\r\n    const partnerResponse = await axios.get(`${baseURL}/partners/${partnerId}`);\r\n\r\n    // Haal de partnernaam op uit het antwoord\r\n    const partnerName = partnerResponse.data?.data?.partner?.name;\r\n\r\n    if (!partnerName) {\r\n      throw new Error(\"Partner name not found\");\r\n    }\r\n\r\n    // Bouw de API URL om producten op te halen op basis van de partnernaam\r\n    const apiUrl = `${baseURL}/products?partnerName=${partnerName}`;\r\n\r\n    // Haal producten op via de API\r\n    const productResponse = await axios.get(apiUrl);\r\n\r\n    // Haal de producten op uit het antwoord\r\n    const products = productResponse.data?.data?.products || [];\r\n\r\n    // Haal alleen de unieke productType's uit de productenlijst\r\n    const productTypesSet = new Set(\r\n      products.map((product) => product.productType)\r\n    );\r\n\r\n    // Convert the Set to an array before returning\r\n    const productTypes = Array.from(productTypesSet);\r\n    // Return de productTypes (Altijd als array)\r\n    return productTypes || []; // Ensure it returns an array, even if no product types are found\r\n  } catch (error) {\r\n    console.error(\"Error fetching products:\", error);\r\n    return []; // Return een lege array als er iets misgaat\r\n  }\r\n};\r\n\r\nexport async function getcolors(partnerId) {\r\n  try {\r\n    const configResponse = await axios.get(\r\n      `${baseURL}/partnerConfigurations?partnerId=${partnerId}`\r\n    );\r\n\r\n    if (configResponse.data.status !== \"success\" || !configResponse.data.data) {\r\n      throw new Error(\"❌ Geen configuraties gevonden voor deze partner.\");\r\n    }\r\n\r\n    const configurations = configResponse.data.data;\r\n\r\n    const selectedColors = [];\r\n\r\n    configurations.forEach((config) => {\r\n      if (config.options.length > 0) {\r\n        config.options.forEach((option) => {\r\n          const optionId = option.optionId?._id;\r\n          const colorName = option.optionId?.name; // Naam of hex-waarde van de kleur\r\n\r\n          if (\r\n            optionId &&\r\n            !selectedColors.some((o) => o.optionId === optionId)\r\n          ) {\r\n            selectedColors.push({\r\n              optionId,\r\n              color: colorName || \"Unnamed Color\",\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    return selectedColors;\r\n  } catch (error) {\r\n    console.error(\"❌ Fout in getcolors:\", error);\r\n    return []; // Retourneer een lege array bij een fout\r\n  }\r\n}\r\n\r\nconst fetchedColors = ref([]); // Gebruik een ref voor reactieve kleuren\r\n\r\n// Zorg ervoor dat `fetchcolors` de `colors.value` goed bijwerkt:\r\n\r\nexport const load3DModel = async (filePath) => {\r\n  if (!isSceneInitialized) {\r\n    console.error(\"Scene is not initialized.\");\r\n    return;\r\n  }\r\n\r\n  const fileExtension = filePath.split(\".\").pop().toLowerCase();\r\n\r\n  if (fileExtension === \"obj\") {\r\n    loadOBJModel(filePath); // Laad .obj bestand\r\n  } else if (fileExtension === \"glb\" || fileExtension === \"gltf\") {\r\n    loadGLBModel(filePath); // Laad .glb of .gltf bestand\r\n  } else {\r\n    console.error(\"Unsupported file type:\", fileExtension);\r\n  }\r\n};\r\n\r\n// In productService.js\r\nexport function loadOBJModel(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const loader = new OBJLoader();\r\n    loader.load(\r\n      url,\r\n      (object) => {\r\n        resolve(object); // Retourneer het geladen model\r\n      },\r\n      undefined,\r\n      (error) => {\r\n        reject(error); // Foutafhandeling\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport function loadGLBModel(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const loader = new GLTFLoader().setDRACOLoader(dracoLoader);\r\n    loader.load(\r\n      url,\r\n      (gltf) => {\r\n        resolve(gltf.scene); // Retourneer de scène van het GLTF-model\r\n      },\r\n      undefined,\r\n      (error) => {\r\n        reject(error); // Foutafhandeling\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\n// Functies voor touch-events\r\nexport function onTouchStart(event) {\r\n  event.preventDefault(); // Voorkomt scrollen bij touch\r\n  isMouseDown = true;\r\n  const touch = event.touches ? event.touches[0] : event;\r\n  prevMouseX = touch.clientX;\r\n  prevMouseY = touch.clientY;\r\n}\r\n\r\nexport function onTouchMove(event) {\r\n  if (!isMouseDown) return;\r\n\r\n  const touch = event.touches ? event.touches[0] : event;\r\n  const deltaX = touch.clientX - prevMouseX;\r\n  const deltaY = touch.clientY - prevMouseY;\r\n\r\n  if (model) {\r\n    model.rotation.y += deltaX * rotationSpeed;\r\n    model.rotation.x += deltaY * rotationSpeed;\r\n  }\r\n\r\n  prevMouseX = touch.clientX;\r\n  prevMouseY = touch.clientY;\r\n}\r\n\r\nexport function onTouchEnd() {\r\n  isMouseDown = false;\r\n}\r\n\r\n// Functies voor muis-events (Desktop)\r\nexport function onMouseDown(event) {\r\n  isMouseDown = true;\r\n  prevMouseX = event.clientX;\r\n  prevMouseY = event.clientY;\r\n}\r\n\r\nexport function onMouseMove(event) {\r\n  if (!isMouseDown) return;\r\n\r\n  const deltaX = event.clientX - prevMouseX;\r\n  const deltaY = event.clientY - prevMouseY;\r\n\r\n  if (model) {\r\n    model.rotation.y += deltaX * rotationSpeed;\r\n    model.rotation.x += deltaY * rotationSpeed;\r\n  }\r\n\r\n  prevMouseX = event.clientX;\r\n  prevMouseY = event.clientY;\r\n}\r\n\r\nexport function onMouseUp() {\r\n  isMouseDown = false;\r\n}\r\n\r\nexport const fetchcolors = async (partnerId) => {\r\n  try {\r\n    const selectedOptions = await getcolors(partnerId);\r\n\r\n    if (\r\n      !selectedOptions ||\r\n      !Array.isArray(selectedOptions) ||\r\n      selectedOptions.length === 0\r\n    ) {\r\n      console.error(\"❌ Geen geldige kleuren ontvangen\");\r\n      return;\r\n    }\r\n\r\n    // Ensure that fetchedColors.value is properly updated\r\n    fetchedColors.value = selectedOptions.map((option) => {\r\n      return {\r\n        optionId: option.optionId || \"\",\r\n        name: option.color || \"Unnamed Color\",\r\n        images: option.images || [], // Ensure images are assigned here\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error(\"❌ Fout in fetchcolors:\", error);\r\n  }\r\n};\r\n\r\nexport const addProductType = (productTypes, newType) => {\r\n  if (!Array.isArray(productTypes)) {\r\n    console.error(\"productTypes is not an array\", productTypes);\r\n    return;\r\n  }\r\n\r\n  if (!productTypes.includes(newType)) {\r\n    productTypes.push(newType);\r\n  } else {\r\n    console.warn(\"This product type already exists!\");\r\n  }\r\n};\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport async function add2DProduct({\r\n  productCode,\r\n  productName,\r\n  productType,\r\n  productPrice,\r\n  description,\r\n  brand,\r\n  file,\r\n  configurationId,\r\n  configurations, // Je ontvangt nu een reguliere array van configuraties\r\n  images,\r\n}) {\r\n  try {\r\n    // Log de ontvangen gegevens voor debugging\r\n    console.log(\r\n      \"Received selectedConfigurationId in add2DProduct:\",\r\n      configurationId\r\n    );\r\n    console.log(\"Received configurations:\", productCode); // Debug de ontvangen configuraties\r\n    console.log(\"Received images:\", images); // Debug de ontvangen afbeeldingen\r\n\r\n    // Controleer of configurations correct is gedefinieerd\r\n    if (!configurations || configurations.length === 0) {\r\n      console.error(\"❌ Geen geldige configuraties ontvangen in add2DProduct!\");\r\n      return;\r\n    }\r\n\r\n    // Controleer of selectedConfigurationId geldig is\r\n    if (!configurationId) {\r\n      console.error(\"❌ selectedConfigurationId is niet gedefinieerd!\");\r\n      throw new Error(\"❌ selectedConfigurationId is niet gedefinieerd!\");\r\n    }\r\n\r\n    // Verwerk de afbeeldingen naar een array indien nodig\r\n    let imageArray = [];\r\n    if (Array.isArray(images)) {\r\n      imageArray = images;\r\n    } else if (typeof images === \"string\" && images.trim()) {\r\n      imageArray = [images]; // Maak een array met de enkele afbeelding\r\n    }\r\n\r\n    // Controleer of er afbeeldingen zijn en of ze geldig zijn\r\n    if (imageArray.length === 0) {\r\n      console.error(\"❌ Geen afbeeldingen om te uploaden!\");\r\n      throw new Error(\"❌ Geen afbeeldingen om te uploaden!\");\r\n    }\r\n\r\n    // Verwerk de 2D afbeeldingen naar een formaat met URL en configuratie ID\r\n    const processedImages = imageArray.map((imageUrl) => ({\r\n      url: imageUrl,\r\n      configurationId: configurationId,\r\n    }));\r\n\r\n    // Zoek naar de juiste configuratie in de ontvangen configuraties\r\n    const configuration = configurations.find((config) => {\r\n      const configId = config.configurationId?._id || config.configurationId;\r\n      return configId === configurationId;\r\n    });\r\n\r\n    if (!configuration) {\r\n      console.error(`❌ Configuratie met ID ${configurationId} niet gevonden!`);\r\n      return;\r\n    }\r\n\r\n    // Controleer of de geselecteerde opties een array zijn\r\n    if (\r\n      !configuration.selectedOptions ||\r\n      !Array.isArray(configuration.selectedOptions)\r\n    ) {\r\n      console.warn(\r\n        \"⚠️ selectedOptions ontbreekt of is geen array. Voeg lege array toe.\"\r\n      );\r\n      configuration.selectedOptions = [];\r\n    }\r\n\r\n    // Gebruik de eerste optie als default\r\n    let optionId = configuration.options?.[0]?._id;\r\n\r\n    if (!optionId) {\r\n      console.error(\r\n        `❌ Geen optionId gevonden voor configuratie ID: ${configurationId}`\r\n      );\r\n      return;\r\n    }\r\n\r\n    let existingOption = configuration.selectedOptions.find(\r\n      (opt) => opt.optionId === optionId\r\n    );\r\n\r\n    if (!existingOption) {\r\n      existingOption = { _id: uuidv4(), optionId: optionId, images: [] };\r\n      configuration.selectedOptions.push(existingOption);\r\n    }\r\n\r\n    // Voeg de nieuwe afbeeldingen toe aan de geselecteerde optie\r\n    if (existingOption.images) {\r\n      existingOption.images.push(...processedImages.map((img) => img.url));\r\n    } else {\r\n      existingOption.images = [...processedImages.map((img) => img.url)];\r\n    }\r\n\r\n    // Format de productdata voor verzending\r\n    const formattedProductData = {\r\n      productCode: productCode || \"\",\r\n      productName: productName || \"\",\r\n      productType: productType || \"\",\r\n      productPrice: productPrice || 0,\r\n      description: description || \"\",\r\n      brand: brand || \"\",\r\n      activeInactive: \"active\", // Default waarde\r\n      partnerId,\r\n      configurations: configurations.map((config) => ({\r\n        _id: uuidv4(),\r\n        configurationId: config.configurationId._id,\r\n        selectedOptions: Array.isArray(config.selectedOptions)\r\n          ? config.selectedOptions.map((opt) => ({\r\n              _id: opt._id || uuidv4(),\r\n              optionId: opt.optionId,\r\n              images: opt.images || [],\r\n            }))\r\n          : [],\r\n      })),\r\n    };\r\n\r\n    // Verstuur de data naar de backend\r\n    const token = localStorage.getItem(\"jwtToken\") || null;\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(formattedProductData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      console.error(\"❌ Server response error:\", errorData);\r\n      throw new Error(errorData.message || \"Onbekende serverfout\");\r\n    }\r\n\r\n    // Verwerk de serverrespons\r\n    const responseBody = await response.json();\r\n    return responseBody;\r\n  } catch (error) {\r\n    console.error(\"❌ Algemene fout:\", error.message);\r\n    console.error(\"Fout in add2DProduct:\", error);\r\n  }\r\n}\r\n\r\nexport const add3DProduct = async ({\r\n  productCode,\r\n  productName,\r\n  productType,\r\n  productPrice,\r\n  description,\r\n  brand,\r\n  activeInactive,\r\n  partnerId,\r\n  configurations,\r\n  file, // 3D file (in File object format)\r\n  thumbnail, // Thumbnail image (in File object format)\r\n}) => {\r\n  try {\r\n    // Upload de bestanden naar Cloudinary en verkrijg de URL's\r\n    const modelUrl = await uploadFileToCloudinary(file, productName, partnerId);\r\n    const thumbnailUrl = await uploadFileToCloudinary(\r\n      thumbnail,\r\n      productName,\r\n      partnerId\r\n    );\r\n\r\n    // Stap 3: Valideer de URLs\r\n    if (!modelUrl || !modelUrl.startsWith(\"https://\")) {\r\n      console.error(\"❌ Ongeldige 3D-model URL:\", modelUrl);\r\n      return;\r\n    }\r\n\r\n    if (!thumbnailUrl || !thumbnailUrl.startsWith(\"https://\")) {\r\n      console.error(\"❌ Ongeldige thumbnail URL:\", thumbnailUrl);\r\n      return;\r\n    }\r\n\r\n    // Stap 4: Verwerk de configuraties\r\n    let validConfigurations = [];\r\n\r\n    for (const config of configurations) {\r\n      let selectedOptions = [];\r\n\r\n      // Controleer of de configuratie opties aanwezig zijn\r\n      if (!Array.isArray(config.options) || config.options.length === 0) {\r\n        console.warn(\r\n          \"⚠️ Geen opties beschikbaar voor configuratie:\",\r\n          config.configurationId\r\n        );\r\n        continue;\r\n      }\r\n\r\n      selectedOptions = config.options.map((option) => {\r\n        const optionId = option.optionId?._id || \"onbekend-option-id\";\r\n\r\n        return {\r\n          optionId,\r\n          images: [modelUrl], // De 3D model URL wordt hier opgeslagen\r\n          _id: `${optionId}-${Date.now()}`, // Unieke ID voor elke optie\r\n        };\r\n      });\r\n\r\n      if (selectedOptions.length > 0) {\r\n        validConfigurations.push({\r\n          configurationId: config.configurationId?._id || \"onbekend-config-id\",\r\n          selectedOptions,\r\n        });\r\n      }\r\n    }\r\n\r\n    // Als er geen geldige configuraties zijn, stop\r\n    if (validConfigurations.length === 0) {\r\n      console.error(\"❌ Geen geldige configuraties gevonden\");\r\n      return;\r\n    }\r\n\r\n    // Stap 5: Maak het productdata object\r\n    const productData = {\r\n      productCode,\r\n      productName,\r\n      productType,\r\n      brand,\r\n      description,\r\n      productPrice,\r\n      activeInactive,\r\n      partnerId,\r\n      configurations: validConfigurations,\r\n      modelFile: modelUrl, // De model file URL wordt hier opgeslagen\r\n      thumbnail: thumbnailUrl, // De thumbnail URL wordt hier opgeslagen\r\n    };\r\n\r\n    // Stap 6: Verstuur de data naar de server\r\n    const token = localStorage.getItem(\"jwtToken\") || null;\r\n\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(productData), // De juiste productdata wordt verzonden\r\n    });\r\n\r\n    // Foutcontrole op de server respons\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      console.error(\"❌ Server response error:\", errorData);\r\n      throw new Error(errorData.message || \"Onbekende serverfout\");\r\n    }\r\n\r\n    // Ontvang en verwerk de serverresponse\r\n    const responseBody = await response.json();\r\n    return responseBody;\r\n  } catch (error) {\r\n    console.error(\"❌ Algemene fout in add3DProduct:\", error);\r\n  }\r\n};\r\n","/* Functies voor authenticatie (checkToken) */\r\nimport { ref } from \"vue\";\r\nimport router from \"../router\"; // Zorg ervoor dat de router correct is geïmporteerd\r\nimport axios from \"axios\";\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst partnerPackage = ref(\"\");\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\n\r\nexport const checkToken = () => {\r\n  if (!jwtToken || !tokenPayload) {\r\n    console.warn(\"Geen geldig JWT token gevonden. Doorverwijzen naar login...\");\r\n    router.push(\"/login\");\r\n  }\r\n};\r\n\r\nexport async function fetchPartnerPackage(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n    const packageData = data.data?.partner?.package || null; // Verifieer de structuur\r\n    return packageData; // Retourneer het partner package\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner package:\", err);\r\n    return null; // Zorg voor een fallback\r\n  }\r\n}\r\n\r\nexport async function fetchPartnerByName(partnerName) {\r\n  if (!partnerName || typeof partnerName !== \"string\") {\r\n    console.error(\"Partnernaam is ongeldig of ontbreekt.\");\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `${baseURL}/partners/partner/${partnerName}`, // We zoeken op naam\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      const partner = response.data?.data || null; // Haal het gehele partnerobject op\r\n\r\n      if (partner) {\r\n        return partner; // Hier geven we de partner met de ID terug\r\n      } else {\r\n        console.warn(\"Geen partner gevonden met deze naam.\");\r\n        return null;\r\n      }\r\n    } else {\r\n      console.error(`Onverwachte statuscode ontvangen: ${response.status}`);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Fout tijdens het ophalen van de partner:\", error.message);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function fetchPartnerById(partnerId) {\r\n  if (!partnerId || typeof partnerId !== \"string\") {\r\n    console.error(\"Partner ID is ongeldig of ontbreekt.\");\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `${baseURL}/partners/${partnerId}`, // Hier gebruiken we het partner-ID om de gegevens op te halen\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      const partner = response.data?.data || null; // Haal het gehele partnerobject op\r\n\r\n      if (partner) {\r\n        return partner; // Return de partner\r\n      } else {\r\n        console.warn(\"Geen partner gevonden met dit ID.\");\r\n        return null;\r\n      }\r\n    } else {\r\n      console.error(`Onverwachte statuscode ontvangen: ${response.status}`);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Fout tijdens het ophalen van de partner:\", error.message);\r\n    return null;\r\n  }\r\n}\r\n","<script setup>\r\nimport { ref, onMounted, computed } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { fetchProducts, fetchProductTypes } from \"../services/productService\";\r\nimport { fetchPartnerByName, fetchPartnerById } from \"../services/authService\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst route = useRoute();\r\n// Haal partnernaam op uit de URL en zet eventuele verbindingstekens (zoals streepjes of underscores) om naar spaties\r\n\r\nconst partnerId = ref(null); // Partner ID van de opgegeven naam\r\nconst products = ref([]); // Alle producten\r\nconst loading = ref(false); // Laadstatus\r\nconst error = ref(null); // Foutstatus\r\nconst filters = ref([\"All\"]); // Dynamische filters, standaard met \"All\"\r\nconst activeFilter = ref(\"All\"); // Actieve filterstatus\r\n\r\n// Functie om producten op te halen\r\nconst fetchAndSetProducts = async (partnerId) => {\r\n  try {\r\n    const filteredProducts = await fetchProducts(partnerId);\r\n    products.value = filteredProducts; // Sla producten op in de state\r\n  } catch (err) {\r\n    console.error(\"Error fetching products:\", err);\r\n    throw new Error(\"Er is een fout opgetreden bij het ophalen van producten.\");\r\n  }\r\n};\r\n\r\n// Functie om producttypes op te halen\r\nconst fetchAndSetProductTypes = async (partnerId) => {\r\n  try {\r\n    const productTypes = await fetchProductTypes(partnerId);\r\n    filters.value = [\"All\", ...productTypes]; // Voeg filters toe\r\n  } catch (err) {\r\n    console.error(\"Error fetching product types:\", err);\r\n    throw new Error(\r\n      \"Er is een fout opgetreden bij het ophalen van producttypes.\"\r\n    );\r\n  }\r\n};\r\n\r\n// onMounted: Controleer partnernaam en laad gegevens\r\nonMounted(async () => {\r\n  try {\r\n    loading.value = true;\r\n\r\n    // Stel de partnernaam in als queryparameter, bijv. 'OdetteLunettes'\r\n    const partnerName = route.query.partner\r\n      ? route.query.partner.replace(/([A-Z])/g, \" $1\").trim()\r\n      : null;\r\n\r\n    // Zoek de partner op naam\r\n    const partner = await fetchPartnerByName(partnerName);\r\n    if (partner) {\r\n      const partnerId = partner._id; // Haal het ID uit de gevonden partner\r\n      // Nu kun je de partner ophalen op basis van het ID\r\n      const detailedPartner = await fetchPartnerById(partnerId);\r\n      await fetchAndSetProducts(partnerId); // Haal producten op\r\n      await fetchAndSetProductTypes(partnerId); // Haal filters op\r\n    } else {\r\n      console.error(\"Partner niet gevonden.\");\r\n    }\r\n  } catch (err) {\r\n    error.value = err.message;\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n});\r\n\r\n// Filter producten op basis van actieve filter\r\nconst filteredProducts = computed(() => {\r\n  if (!activeFilter.value || activeFilter.value === \"All\") {\r\n    return products.value; // Geef alle producten terug als er geen filter is\r\n  }\r\n  return products.value.filter(\r\n    (product) =>\r\n      product.productType?.toLowerCase() === activeFilter.value.toLowerCase()\r\n  );\r\n});\r\n\r\nconst setActiveFilter = (filter) => {\r\n  activeFilter.value = filter;\r\n};\r\n\r\nfunction getFirstImage(product) {\r\n  // Zoek naar de eerste afbeelding in de configuraties\r\n  for (const config of product.configurations) {\r\n    for (const option of config.selectedOptions) {\r\n      if (option.images && option.images.length > 0) {\r\n        return option.images[0]; // Retourneer de eerste afbeelding die gevonden wordt\r\n      }\r\n    }\r\n  }\r\n  return \"\"; // Retourneer een lege string als geen afbeelding gevonden is\r\n}\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"content\">\r\n    <div class=\"top\">\r\n      <h1>Collections</h1>\r\n      <nav class=\"collection-nav\">\r\n        <p\r\n          v-for=\"filter in filters\"\r\n          :key=\"filter\"\r\n          :class=\"{ active: activeFilter === filter }\"\r\n          @click=\"setActiveFilter(filter)\"\r\n        >\r\n          {{ filter }}\r\n        </p>\r\n      </nav>\r\n    </div>\r\n\r\n    <!-- Laden en foutafhandeling -->\r\n    <div v-if=\"loading\">Laden...</div>\r\n    <div v-if=\"error\">{{ error }}</div>\r\n\r\n    <!-- Producten tonen -->\r\n    <div v-if=\"!loading && !error\" class=\"products\">\r\n      <div class=\"row\">\r\n        <h2>{{ activeFilter }}</h2>\r\n        <p>\r\n          <span>{{ filteredProducts ? filteredProducts.length : 0 }}</span>\r\n          items\r\n        </p>\r\n      </div>\r\n      <div class=\"product-grid\">\r\n        <router-link\r\n          v-for=\"product in filteredProducts\"\r\n          :key=\"product._id\"\r\n          :to=\"`/product/${product._id}`\"\r\n          :class=\"['product-card', product.productType]\"\r\n        >\r\n          <div class=\"product-image-container\">\r\n            <div\r\n              v-if=\"\r\n                product.configurations?.length > 0 &&\r\n                product.configurations[0].selectedOptions?.length > 0\r\n              \"\r\n              class=\"product-image\"\r\n              :style=\"{\r\n                backgroundImage:\r\n                  'url(' + (product.thumbnail || getFirstImage(product)) + ')',\r\n              }\"\r\n            ></div>\r\n\r\n            <div v-else class=\"no-image-message\">\r\n              Geen afbeelding beschikbaar\r\n            </div>\r\n          </div>\r\n          <div class=\"product-info\">\r\n            <p class=\"product-name\">{{ product.productName }}</p>\r\n            <p class=\"product-price\">€ {{ product.productPrice }},00</p>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  align-items: center;\r\n}\r\n\r\n.content .top {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.collection-nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.collection-nav p {\r\n  cursor: pointer;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.collection-nav .active {\r\n  color: var(--text-color);\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid var(--text-color);\r\n}\r\n\r\n.products {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.products .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.products .product-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  justify-content: center;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.product-card {\r\n  background: var(--secondary-color);\r\n  border-radius: 10px;\r\n  box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.5);\r\n  overflow: hidden;\r\n  text-align: center;\r\n  position: relative;\r\n  transition: transform 0.3s, box-shadow 0.3s;\r\n  width: 100%;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: scale(1.05);\r\n  box-shadow: 0px 12px 25px rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n.product-image-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 200px;\r\n  background: var(--secondary-color);\r\n  padding: 20px;\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  border-bottom: 1px solid var(--secondary-color);\r\n}\r\n\r\n.product-info {\r\n  padding: 16px 24px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.product-price {\r\n  color: var(--primary-color);\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .products .product-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .collection-nav {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    gap: 3rem;\r\n  }\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  .content {\r\n    padding: 108px 1.5rem 1.5rem 1.5rem;\r\n  }\r\n  .products {\r\n    padding: 0 200px;\r\n  }\r\n  .products .product-grid {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n}\r\n\r\n@media (min-width: 2000px) {\r\n  .products {\r\n    padding: 0 600px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Collections.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Collections.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Collections.vue?vue&type=style&index=0&id=67e69018&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67e69018\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"ar-container\">\r\n    <video ref=\"videoElement\" autoplay playsinline></video>\r\n    <canvas ref=\"canvasElement\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport { FaceMesh } from \"@mediapipe/face_mesh\";\r\n\r\nexport default {\r\n  server: {\r\n    proxy: {\r\n      \"/mediapipe\": {\r\n        target: \"https://www.gstatic.com/mediapipe\",\r\n        changeOrigin: true,\r\n        rewrite: (path) => path.replace(/^\\/mediapipe/, \"\"),\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      video: null,\r\n      canvas: null,\r\n      faceMesh: null,\r\n      scene: null,\r\n      camera: null,\r\n      renderer: null,\r\n      model: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    console.log(\"FaceTracking component gemonteerd\");\r\n    this.initializeCamera();\r\n    this.setupFaceMesh();\r\n    this.setup3DScene();\r\n    window.addEventListener(\"resize\", this.onResize);\r\n  },\r\n  methods: {\r\n    async initializeCamera() {\r\n      this.video = this.$refs.videoElement;\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: true,\r\n        });\r\n        this.video.srcObject = stream;\r\n      } catch (error) {\r\n        console.error(\"Fout bij het starten van de camera:\", error);\r\n      }\r\n    },\r\n\r\n    async setupFaceMesh() {\r\n      window.Module = window.Module || {}; // Fix voor WebAssembly fout\r\n\r\n      this.canvas = this.$refs.canvasElement;\r\n      this.faceMesh = new FaceMesh({\r\n        locateFile: (file) =>\r\n          `https://www.gstatic.com/mediapipe/face_mesh/${file}`,\r\n      });\r\n\r\n      this.faceMesh.setOptions({ maxNumFaces: 1, refineLandmarks: true });\r\n      this.faceMesh.onResults(this.onFaceMeshResults);\r\n\r\n      try {\r\n        await this.faceMesh.initialize();\r\n        this.detectFaces();\r\n      } catch (error) {\r\n        console.error(\"Fout bij het initialiseren van FaceMesh:\", error);\r\n      }\r\n    },\r\n\r\n    async detectFaces() {\r\n      if (!this.video || !this.faceMesh) return;\r\n\r\n      try {\r\n        await this.faceMesh.send({ image: this.video });\r\n      } catch (error) {\r\n        console.error(\"Fout bij gezichtsdetectie:\", error);\r\n      }\r\n\r\n      requestAnimationFrame(() => this.detectFaces());\r\n    },\r\n\r\n    onFaceMeshResults(results) {\r\n      if (\r\n        !results.multiFaceLandmarks ||\r\n        results.multiFaceLandmarks.length === 0\r\n      )\r\n        return;\r\n      const landmarks = results.multiFaceLandmarks[0];\r\n      this.updateModelPosition(landmarks);\r\n    },\r\n\r\n    setup3DScene() {\r\n      this.scene = new THREE.Scene();\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        75,\r\n        window.innerWidth / window.innerHeight,\r\n        0.1,\r\n        1000\r\n      );\r\n      this.renderer = new THREE.WebGLRenderer({\r\n        canvas: this.canvas,\r\n        alpha: true,\r\n      });\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n      // Set up DRACOLoader to decode Draco compressed models\r\n      const dracoLoader = new DRACOLoader();\r\n      dracoLoader.setDecoderPath(\"https://www.gstatic.com/threejs/r121/draco/\");\r\n\r\n      const loader = new GLTFLoader();\r\n      loader.setDRACOLoader(dracoLoader); // Link DRACOLoader with GLTFLoader\r\n\r\n      loader.load(\r\n        \"https://res.cloudinary.com/dzempjvto/raw/upload/v1739183774/Products/222233/k4du4mi1q2uvou11dfvy.glb\",\r\n        (gltf) => {\r\n          this.model = gltf.scene;\r\n          this.scene.add(this.model);\r\n        },\r\n        undefined,\r\n        (error) => {\r\n          console.error(\"Fout bij het laden van het 3D-model:\", error);\r\n        }\r\n      );\r\n\r\n      this.camera.position.z = 1;\r\n    },\r\n\r\n    updateModelPosition(landmarks) {\r\n      const nose = landmarks[1]; // Neusbrug als referentiepunt\r\n      if (this.model) {\r\n        this.model.position.set(nose.x - 0.5, nose.y - 0.5, 0);\r\n      }\r\n      this.renderer.render(this.scene, this.camera);\r\n    },\r\n\r\n    onResize() {\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.camera.updateProjectionMatrix();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.ar-container {\r\n  position: fixed;\r\n  z-index: 9999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n\r\nvideo {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  transform: scaleX(-1);\r\n}\r\n\r\ncanvas {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n}\r\n</style>\r\n","import { render } from \"./FaceTracking.vue?vue&type=template&id=5322d3e5\"\nimport script from \"./FaceTracking.vue?vue&type=script&lang=js\"\nexport * from \"./FaceTracking.vue?vue&type=script&lang=js\"\n\nimport \"./FaceTracking.vue?vue&type=style&index=0&id=5322d3e5&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted, onUnmounted, computed, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport * as THREE from \"three\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nimport FaceTracking from \"../components/FaceTracking.vue\";\r\nimport ModelViewer from \"../components/ModelViewer.vue\";\r\n\r\nconst showModel = ref(false);\r\nconst isFaceTrackingVisible = ref(false); // Zorg ervoor dat deze reactive is\r\n\r\n// Functie die de zichtbaarheid van FaceTracking toggelt\r\nfunction toggleFaceTracking() {\r\n  isFaceTrackingVisible.value = !isFaceTrackingVisible.value; // Toggle de waarde\r\n}\r\n\r\n// Functies voor touch-events\r\nfunction onTouchStart(event) {\r\n  event.preventDefault(); // Voorkomt scrollen bij touch\r\n  isMouseDown = true;\r\n  const touch = event.touches ? event.touches[0] : event;\r\n  prevMouseX = touch.clientX;\r\n  prevMouseY = touch.clientY;\r\n}\r\n\r\nfunction onTouchMove(event) {\r\n  if (!isMouseDown) return;\r\n\r\n  const touch = event.touches ? event.touches[0] : event;\r\n  const deltaX = touch.clientX - prevMouseX;\r\n  const deltaY = touch.clientY - prevMouseY;\r\n\r\n  if (model) {\r\n    model.rotation.y += deltaX * rotationSpeed;\r\n    model.rotation.x += deltaY * rotationSpeed;\r\n  }\r\n\r\n  prevMouseX = touch.clientX;\r\n  prevMouseY = touch.clientY;\r\n}\r\n\r\nfunction onTouchEnd() {\r\n  isMouseDown = false;\r\n}\r\n\r\n// Functies voor muis-events (Desktop)\r\nfunction onMouseDown(event) {\r\n  isMouseDown = true;\r\n  prevMouseX = event.clientX;\r\n  prevMouseY = event.clientY;\r\n}\r\n\r\nfunction onMouseMove(event) {\r\n  if (!isMouseDown) return;\r\n\r\n  const deltaX = event.clientX - prevMouseX;\r\n  const deltaY = event.clientY - prevMouseY;\r\n\r\n  if (model) {\r\n    model.rotation.y += deltaX * rotationSpeed;\r\n    model.rotation.x += deltaY * rotationSpeed;\r\n  }\r\n\r\n  prevMouseX = event.clientX;\r\n  prevMouseY = event.clientY;\r\n}\r\n\r\nfunction onMouseUp() {\r\n  isMouseDown = false;\r\n}\r\n\r\nconst sizes = ref([]);\r\nconst materials = ref([]);\r\nconst layers = ref([]);\r\nconst layersColors = ref([]);\r\nconst selectedThingsInLayers = ref([]);\r\nconst colors = ref([]);\r\nconst selectedLayerColor = ref(null);\r\nconst currentPageIndex = ref(0);\r\nconst productImages = ref([]);\r\nconst selectedImage = ref(null);\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst productId = ref(null);\r\nconst productData = ref({\r\n  productName: \"\",\r\n  productCode: \"\",\r\n  productPrice: 0,\r\n  productModelFile: \"\",\r\n});\r\nconst productName = ref(\"\");\r\nconst productModelFile = ref(\"\");\r\n\r\nconst isLoading = ref(true);\r\nconst error = ref(null);\r\nconst logoUrl = ref(\"\");\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst options = computed(() => optionNames.value);\r\nconst partnerName = ref(\"\");\r\nconst partnerPackage = ref(\"\");\r\nlet scene = new THREE.Scene();\r\n\r\nlet camera, rendererMobile, rendererDesktop;\r\nconst objLoader = new OBJLoader();\r\nconst dracoLoader = new DRACOLoader();\r\nconst gltfLoader = new GLTFLoader();\r\ndracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\r\ngltfLoader.setDRACOLoader(dracoLoader);\r\nconst fieldName = ref(null);\r\nlet isModelLoaded = false;\r\nlet model = null;\r\nlet isSceneInitialized = false;\r\nlet isRendererInitialized = false;\r\nlet isMouseDown = false;\r\nlet prevMouseX = 0;\r\nlet prevMouseY = 0;\r\nconst rotationSpeed = 0.005;\r\nconst selectedOption = ref(0);\r\nconst selectedOptionName = ref(null);\r\nconst optionNames = ref([]);\r\nconst selectedItems = ref([]);\r\nconst productConfigs = ref([]);\r\nconst partnerConfigurationsCount = ref([]);\r\n\r\nasync function fetchPartnerName(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n    partnerName.value = data.data.partner.name || \"\";\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner package:\", err);\r\n  }\r\n}\r\n\r\nasync function fetchPartnerPackage(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch partner package\");\r\n    }\r\n    const data = await response.json();\r\n\r\n    // Controleer eerst of de gegevens beschikbaar zijn voordat je probeert 'package' te lezen\r\n    if (data && data.data && data.data.partner) {\r\n      partnerPackage.value = data.data.partner.package;\r\n    } else {\r\n      console.error(\"Partner data is incomplete:\", data);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner package:\", error);\r\n  }\r\n}\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener(\"resize\", onWindowResize);\r\n});\r\n\r\nfunction onWindowResize() {\r\n  const container = document.querySelector(\".model\");\r\n  if (container && rendererDesktop) {\r\n    rendererDesktop.setSize(container.offsetWidth, container.offsetHeight);\r\n    camera.aspect = container.offsetWidth / container.offsetHeight;\r\n    camera.updateProjectionMatrix();\r\n  }\r\n}\r\n\r\nfunction logSceneLayers() {\r\n  if (!scene) {\r\n    console.error(\"Scene is niet geïnitialiseerd!\");\r\n    return; // Stop als de scene niet bestaat\r\n  }\r\n}\r\n\r\nfunction initializeScene() {\r\n  if (isSceneInitialized) {\r\n    return; // Voorkom herinitialisatie\r\n  }\r\n\r\n  try {\r\n    // Initialiseer de scene, camera en renderer\r\n    scene = new THREE.Scene();\r\n    camera = new THREE.PerspectiveCamera(\r\n      75,\r\n      window.innerWidth / window.innerHeight,\r\n      0.1,\r\n      1000\r\n    );\r\n    camera.position.set(0, 0, 40);\r\n    camera.lookAt(0, 0, 0);\r\n\r\n    // Verkrijg de container voor mobiel en desktop\r\n    const containerModelMobile = document.querySelector(\r\n      \".mobileElements .model\"\r\n    );\r\n    const containerModelDesktop = document.querySelector(\".model.desktop\");\r\n\r\n    if (!containerModelMobile && !containerModelDesktop) {\r\n      console.error(\"3D container element niet gevonden!\");\r\n      return;\r\n    }\r\n\r\n    // Renderers alleen toevoegen als ze nog niet bestaan\r\n    if (!rendererMobile && window.innerWidth <= 768 && containerModelMobile) {\r\n      rendererMobile = new THREE.WebGLRenderer();\r\n      rendererMobile.setSize(\r\n        containerModelMobile.offsetWidth,\r\n        containerModelMobile.offsetHeight\r\n      );\r\n      if (!containerModelMobile.contains(rendererMobile.domElement)) {\r\n        containerModelMobile.appendChild(rendererMobile.domElement);\r\n      }\r\n    }\r\n\r\n    if (!rendererDesktop && window.innerWidth > 768 && containerModelDesktop) {\r\n      rendererDesktop = new THREE.WebGLRenderer();\r\n      rendererDesktop.setSize(\r\n        containerModelDesktop.offsetWidth,\r\n        containerModelDesktop.offsetHeight\r\n      );\r\n      if (!containerModelDesktop.contains(rendererDesktop.domElement)) {\r\n        containerModelDesktop.appendChild(rendererDesktop.domElement);\r\n      }\r\n    }\r\n\r\n    // Voeg lichten toe aan de scene\r\n    const light = new THREE.PointLight(0xffffff, 1, 100);\r\n    light.position.set(50, 50, 50);\r\n    scene.add(light);\r\n\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.4);\r\n    directionalLight.position.set(10, 20, 10);\r\n    directionalLight.target.position.set(0, 0, 0);\r\n    scene.add(directionalLight);\r\n    scene.add(directionalLight.target);\r\n\r\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.8);\r\n    scene.add(ambientLight);\r\n\r\n    // Voeg eventlisteners toe voor zowel mobiele als desktop\r\n    if (containerModelMobile) {\r\n      containerModelMobile.addEventListener(\"mousedown\", onMouseDown, false);\r\n      containerModelMobile.addEventListener(\"touchstart\", onTouchStart, false);\r\n    }\r\n\r\n    if (containerModelDesktop) {\r\n      containerModelDesktop.addEventListener(\"mousedown\", onMouseDown, false);\r\n      containerModelDesktop.addEventListener(\"touchstart\", onTouchStart, false);\r\n    }\r\n\r\n    window.addEventListener(\"mousemove\", onMouseMove, false);\r\n    window.addEventListener(\"touchmove\", onTouchMove, false);\r\n    window.addEventListener(\"mouseup\", onMouseUp, false);\r\n    window.addEventListener(\"touchend\", onTouchEnd, false);\r\n\r\n    // Laad het model (zorg ervoor dat je het juiste pad gebruikt)\r\n\r\n    // Initialiseer de scene en renderer\r\n    isRendererInitialized = true;\r\n    isSceneInitialized = true;\r\n\r\n    // Start de animatie\r\n    animate();\r\n  } catch (err) {\r\n    console.error(\"Fout bij initialisatie van de scene:\", err);\r\n  }\r\n}\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n\r\n  if (rendererMobile) {\r\n    rendererMobile.render(scene, camera);\r\n  } else if (rendererDesktop) {\r\n    rendererDesktop.render(scene, camera);\r\n  }\r\n}\r\n\r\nfunction extractMaterials(object) {\r\n  materials.value = [];\r\n  layers.value = [];\r\n  layersColors.value = [];\r\n\r\n  object.traverse((child) => {\r\n    if (child.isMesh) {\r\n      // Controleer of het een array van materialen is\r\n      if (Array.isArray(child.material)) {\r\n        child.material.forEach((material) => {\r\n          materials.value.push(material);\r\n          if (!layers.value.includes(material.name)) {\r\n            layers.value.push(material.name);\r\n            layersColors.value.push(\"#ffffff\"); // Default kleur voor het materiaal\r\n          }\r\n        });\r\n      } else {\r\n        materials.value.push(child.material);\r\n        if (!layers.value.includes(child.material.name)) {\r\n          layers.value.push(child.material.name);\r\n          layersColors.value.push(\"#ffffff\"); // Default kleur voor het materiaal\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Verwijder dubbele materialen\r\n  layers.value = [...new Set(layers.value)];\r\n}\r\n\r\nfunction load3DModel(filePath) {\r\n  if (!isSceneInitialized) {\r\n    console.error(\"Scene is not initialized.\");\r\n    return;\r\n  }\r\n\r\n  const fileExtension = filePath.split(\".\").pop().toLowerCase();\r\n  if (fileExtension === \"obj\") {\r\n    loadOBJModel(filePath); // Laad .obj bestand\r\n  } else if (fileExtension === \"glb\" || fileExtension === \"gltf\") {\r\n    loadGLBModel(filePath); // Laad .glb of .gltf bestand\r\n  } else {\r\n    console.error(\"Unsupported file type:\", fileExtension);\r\n  }\r\n}\r\n\r\nfunction loadGLBModel(filePath) {\r\n  gltfLoader.load(\r\n    filePath, // Gebruik het bestandspad voor .glb of .gltf\r\n    (gltf) => {\r\n      const object = gltf.scene;\r\n\r\n      // Verplaats het model naar het midden van de scene\r\n      const box = new THREE.Box3().setFromObject(object);\r\n      const center = box.getCenter(new THREE.Vector3());\r\n      object.position.set(-center.x, -center.y, -center.z);\r\n      object.scale.set(100, 100, 100); // Vergroot het model\r\n\r\n      // Voeg het object toe aan de scene\r\n      scene.add(object);\r\n      model = object;\r\n      isModelLoaded = true;\r\n      extractMaterials(object);\r\n\r\n      // Log de lagen na het toevoegen van het model en materialen\r\n      logSceneLayers(); // Verplaats deze lijn hier\r\n    }\r\n  );\r\n}\r\n\r\nfunction loadOBJModel(filePath) {\r\n  objLoader.load(filePath, (object) => {\r\n    object.scale.set(10, 10, 10); // Pas de schaal aan\r\n    scene.add(object);\r\n    model = object;\r\n    isModelLoaded = true;\r\n    extractMaterials(object);\r\n    logSceneLayers(); // Verplaats deze lijn hier\r\n  });\r\n}\r\n\r\n// Zoek de kleur voor een bepaalde laag\r\n// Zoek de kleur voor een bepaalde laag\r\nfunction getColorForLayer(newOption) {\r\n  let productConfigs = productData.value.configurations || [];\r\n\r\n  let config = productConfigs.find((config) =>\r\n    config.selectedOptions.some((option) => option.optionId?.name === newOption)\r\n  );\r\n\r\n  if (config) {\r\n    const fieldName = config.configurationId?.fieldName;\r\n\r\n    const selectedOption = config.selectedOptions.find(\r\n      (option) => option.optionId?.name === newOption\r\n    );\r\n\r\n    if (selectedOption) {\r\n      const color = selectedOption.optionId?.name; // Pas eventueel aan op de structuur van je data\r\n      if (color) {\r\n        return color; // Laag is zichtbaar, retourneer kleur\r\n      }\r\n    } else {\r\n      console.warn(`Geen geselecteerde optie gevonden voor ${newOption}`);\r\n    }\r\n  } else {\r\n    console.warn(`Geen configuratie gevonden voor ${newOption}`);\r\n  }\r\n\r\n  // Fallback kleur als geen kleur is gevonden\r\n  return \"#FFFFFF\"; // Standaard kleur\r\n}\r\n\r\n// Functie om de kleur toe te passen op de actieve laag\r\nfunction applyColorToActiveLayer(color) {\r\n  if (!scene) {\r\n    console.error(\"Scene is niet geïnitialiseerd!\");\r\n    return;\r\n  }\r\n\r\n  // Zoek de zichtbare config-ui__page (deze heeft de klasse 'active')\r\n  const activePage = document.querySelector(\".config-ui__page.active\");\r\n\r\n  // Als er geen actieve pagina is, stop de functie\r\n  if (!activePage) {\r\n    console.error(\"Geen actieve pagina gevonden.\");\r\n    return;\r\n  }\r\n\r\n  // Haal de naam van het veld uit de <h2> van de actieve pagina\r\n  const fieldNameElement = activePage.querySelector(\"h2.fieldName\");\r\n  let fieldName = fieldNameElement.textContent.trim();\r\n\r\n  // Gebruik een reguliere expressie om alles vóór \"for\" te verwijderen\r\n  const match = fieldName.match(/for\\s+(.+)/);\r\n  if (match) {\r\n    fieldName = match[1].trim(); // Haal de tekst na \"for\" en verwijder extra spaties\r\n  }\r\n\r\n  if (!fieldName || typeof fieldName !== \"string\") {\r\n    console.error(\"Ongeldig fieldName opgegeven.\");\r\n    return;\r\n  }\r\n\r\n  // Valideer kleur (kleur moet een hex-code zijn)\r\n  const validColor = /^#[0-9A-Fa-f]{6}$/i.test(color);\r\n  if (!validColor) {\r\n    console.warn(`Ongeldige kleur: ${color}, standaardkleur wordt toegepast.`);\r\n    color = \"#FFFFFF\"; // Gebruik een standaardkleur als de kleur ongeldig is\r\n  }\r\n\r\n  let colorApplied = false;\r\n\r\n  // Traverse door de scène en zoek naar het juiste object\r\n  scene.traverse((object) => {\r\n    // Controleer of het object overeenkomt met de geselecteerde laag (fieldName)\r\n    if (\r\n      object instanceof THREE.Mesh &&\r\n      object.name.toLowerCase() === fieldName.toLowerCase()\r\n    ) {\r\n      // Zorg ervoor dat we alleen de kleur toepassen als het materiaal geschikt is\r\n      if (object.material) {\r\n        if (object.material instanceof THREE.MeshStandardMaterial) {\r\n          object.material.color.set(color);\r\n          colorApplied = true;\r\n        } else if (Array.isArray(object.material)) {\r\n          object.material.forEach((mat) => {\r\n            if (mat instanceof THREE.MeshStandardMaterial) {\r\n              mat.color.set(color);\r\n            }\r\n          });\r\n          colorApplied = true;\r\n        } else {\r\n          console.warn(\r\n            `Object '${object.name}' heeft een niet-ondersteund materiaaltype.`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Als geen object is gevonden om de kleur toe te passen\r\n  if (!colorApplied) {\r\n    console.warn(\r\n      `Geen object gevonden met naam '${fieldName}' om de kleur toe te passen.`\r\n    );\r\n  }\r\n}\r\n\r\nasync function selectOption(optionId) {\r\n  const productId = route.params.productId;\r\n\r\n  if (!productId) {\r\n    console.error(\"productId is undefined!\");\r\n    return;\r\n  }\r\n\r\n  selectedOption.value = optionId;\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/products/${productId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Product fetch error! Status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const product = result.data.product;\r\n\r\n    // Haal de configuraties op\r\n    const configurations = product.configurations || [];\r\n\r\n    // Zoek de kleur voor de laag op basis van de geselecteerde optie\r\n    const color = getColorForLayer(optionId);\r\n    if (color) {\r\n      applyColorToActiveLayer(color); // Pas de kleur toe op de actieve laag\r\n    }\r\n\r\n    productData.value = {\r\n      productName: product.productName,\r\n      productCode: product.productCode,\r\n      productPrice: product.productPrice,\r\n      productModelFile: product.productModelFile,\r\n      configurations: configurations,\r\n    };\r\n  } catch (err) {\r\n    console.error(\"Error fetching product data:\", err.message);\r\n  }\r\n}\r\n\r\nfunction findFieldNameForOption(optionName) {\r\n  const productConfigs = productData.value.configurations || [];\r\n\r\n  // Zoek de configuratie die overeenkomt met de optie\r\n  const config = productConfigs.find((config) =>\r\n    config.selectedOptions.some(\r\n      (option) => option.optionId?.name === optionName\r\n    )\r\n  );\r\n\r\n  if (config) {\r\n    return config.configurationId?.fieldName || null; // Geef de fieldName terug of null als deze ontbreekt\r\n  }\r\n\r\n  console.warn(`Geen fieldName gevonden voor optie: ${optionName}`);\r\n  return null;\r\n}\r\n\r\nwatch(selectedOptionName, (newOption) => {\r\n  if (newOption) {\r\n    const fieldName = findFieldNameForOption(newOption);\r\n    const color = getColorForLayer(newOption);\r\n    if (color && fieldName) {\r\n      applyColorToActiveLayer(color);\r\n    }\r\n  }\r\n});\r\n\r\nonMounted(async () => {\r\n  const productId = route.params.productId; // Verkrijg productId uit route parameters\r\n  if (!productId) return; // Als er geen productId is, doe dan niets\r\n\r\n  try {\r\n    isLoading.value = true; // Zet laadtijdindicator aan\r\n    error.value = null; // Reset eventuele foutmeldingen\r\n\r\n    // Haal productgegevens op\r\n    await fetchProductData(productId); // Gebruik de fetchProductData functie om productinformatie te laden\r\n\r\n    // Controleer of er een partnerId is en haal partnerinformatie op\r\n    const partnerId = productData.value.partnerId;\r\n    if (partnerId) {\r\n      await fetchPartnerPackage(partnerId); // Haal partnerpakket op\r\n    }\r\n\r\n    // Als het partnerpakket \"pro\" is en er een geselecteerde afbeelding is, laad dan het 3D-model\r\n    if (partnerPackage.value === \"pro\" && selectedImage.value) {\r\n      const container = document.querySelector(\".model\");\r\n\r\n      if (container) {\r\n        initializeScene(); // Initialiseer de scène voor het 3D-model\r\n\r\n        const filePath = `${selectedImage.value}`; // Dynamisch pad op basis van geselecteerde afbeelding\r\n\r\n        load3DModel(filePath); // Laad het 3D-model met het pad\r\n      } else {\r\n        console.error(\"3D container not found!\"); // Foutmelding als de container niet wordt gevonden\r\n      }\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching product data:\", err.message);\r\n    error.value = \"Error occurred while fetching product data.\"; // Zet foutmelding\r\n  } finally {\r\n    isLoading.value = false; // Zet laadtijdindicator uit\r\n  }\r\n});\r\n\r\n/* ---- 2D ---- */\r\nasync function fetchNumberOfPartnerConfigurations(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partnerConfigurations`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n\r\n    const count = data.data.filter(\r\n      (config) => config.partnerId === partnerId\r\n    ).length;\r\n\r\n    partnerConfigurationsCount.value = count;\r\n    return count;\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner configurations:\", err);\r\n  }\r\n}\r\n\r\n// Aangenomen dat je productgegevens en partnerconfiguraties al hebt\r\n\r\nasync function fetchPartnerConfigurations(partnerId, product) {\r\n  try {\r\n    // Fetch partner configurations\r\n    const response = await fetch(\r\n      `${baseURL}/partnerConfigurations?partnerId=${partnerId}`\r\n    );\r\n\r\n    if (!response.ok) throw new Error(\"Unable to fetch partner configurations\");\r\n\r\n    const data = await response.json();\r\n\r\n    // Check if the fetched data is an array\r\n    if (!Array.isArray(data.data)) {\r\n      console.error(\"Fetched data is not an array:\", data.data);\r\n      return [];\r\n    }\r\n\r\n    const partnerConfigs = data.data.filter(\r\n      (config) => config.partnerId === partnerId\r\n    );\r\n\r\n    // Ensure product configurations exist\r\n    if (product.configurations && product.configurations.length > 0) {\r\n      productConfigs.value = product.configurations;\r\n    } else {\r\n      console.error(\"No configurations available for the product.\");\r\n      productConfigs.value = [];\r\n    }\r\n\r\n    const productConfigurationId = product.configurations?.[0]?.configurationId;\r\n\r\n    if (!productConfigurationId) {\r\n      console.error(\"ConfigurationId for product is not available.\");\r\n      return [];\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner configurations:\", err);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Function to fetch the option name by optionId\r\nasync function optionNameById(optionId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/options/${optionId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n\r\n    // Check if the name already exists in the optionNames array, if not, push it\r\n    const existing = optionNames.value.find(\r\n      (item) => item.optionId === optionId\r\n    );\r\n    if (!existing) {\r\n      optionNames.value.push({ optionId, name: data.data.name }); // Push the optionId and name pair\r\n    }\r\n\r\n    return data.data.name; // Return the name for use\r\n  } catch (error) {\r\n    console.error(\"Error fetching option by ID:\", error);\r\n    return null; // Return null in case of an error\r\n  }\r\n}\r\n\r\n// Function to load options for a given configuration ID\r\nasync function loadOptionsForConfig(configId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/configurations/${configId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n    // For each option in the config, fetch its name\r\n    for (const option of data.data.options) {\r\n      await optionNameById(option.optionId);\r\n    }\r\n\r\n    // After fetching all names, log optionNames\r\n    return data.data.options; // Return the fetched options\r\n  } catch (error) {\r\n    console.error(\"Error fetching configuration options:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function fetchProductData(productCode) {\r\n  try {\r\n    isLoading.value = true;\r\n    error.value = null;\r\n\r\n    const response = await fetch(`${baseURL}/products/${productCode}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const product = result.data.product;\r\n    console.log(result.data.product);\r\n    productName.value = product.productName;\r\n    productModelFile.value = product.modelFile;\r\n    console.log(product.modelFile);\r\n\r\n    const configurations = product.configurations || [];\r\n    optionNames.value = [];\r\n\r\n    let selectedOptionImages = [];\r\n\r\n    const enrichedConfigurations = await Promise.all(\r\n      configurations.map(async (config) => {\r\n        let selectedConfigId = config.configurationId;\r\n\r\n        if (typeof selectedConfigId === \"object\" && selectedConfigId._id) {\r\n          selectedConfigId = selectedConfigId._id;\r\n        }\r\n\r\n        await loadOptionsForConfig(selectedConfigId);\r\n\r\n        const configUrl = `${baseURL}/configurations/${selectedConfigId}`;\r\n\r\n        try {\r\n          const configResponse = await fetch(configUrl, {\r\n            method: \"GET\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          });\r\n\r\n          if (!configResponse.ok) {\r\n            throw new Error(\r\n              `Configuration fetch error! Status: ${configResponse.status}`\r\n            );\r\n          }\r\n\r\n          const configResult = await configResponse.json();\r\n          const options = configResult.data.options || [];\r\n\r\n          const selectedOptionData = config.selectedOptions[0];\r\n\r\n          let optionName = selectedOptionData?.name;\r\n\r\n          if (!optionName && selectedOptionData?.optionId) {\r\n            const optionUrl = `${baseURL}/options/${selectedOptionData.optionId._id}`;\r\n            const optionResponse = await fetch(optionUrl);\r\n            const optionResult = await optionResponse.json();\r\n            optionName = optionResult.data?.name || \"Option 1\";\r\n          }\r\n\r\n          // Voeg de geselecteerde afbeeldingen toe aan de array\r\n          if (selectedOptionData?.images) {\r\n            selectedOptionImages.push(...selectedOptionData.images); // voeg toe i.p.v. overschrijven\r\n          }\r\n\r\n          const existingConfigIndex = selectedItems.value.findIndex(\r\n            (item) => item.configurationId === selectedConfigId\r\n          );\r\n\r\n          if (existingConfigIndex !== -1) {\r\n            selectedItems.value[existingConfigIndex].selectedItem = {\r\n              optionName: optionName,\r\n              images: selectedOptionImages,\r\n            };\r\n          } else {\r\n            selectedItems.value.push({\r\n              configurationId: selectedConfigId,\r\n              selectedItem: {\r\n                optionName: optionName,\r\n                images: selectedOptionImages,\r\n              },\r\n            });\r\n          }\r\n\r\n          return {\r\n            ...config,\r\n            options,\r\n          };\r\n        } catch (err) {\r\n          console.error(\r\n            `Error fetching configuration for ID ${selectedConfigId}:`,\r\n            err.message\r\n          );\r\n          return { ...config, options: [] };\r\n        }\r\n      })\r\n    );\r\n\r\n    if (selectedOptionImages.length > 0) {\r\n      productImages.value = selectedOptionImages;\r\n      selectedImage.value = selectedOptionImages[0];\r\n    } else {\r\n      console.warn(\"No images found for the selected option\");\r\n    }\r\n\r\n    productData.value = {\r\n      productName: product.productName,\r\n      productCode: product.productCode,\r\n      productPrice: product.productPrice,\r\n      productModelFile: product.productModelFile,\r\n      images: selectedOptionImages,\r\n      configurations: enrichedConfigurations,\r\n    };\r\n\r\n    const optionNamesList = enrichedConfigurations.flatMap((config) =>\r\n      config.selectedOptions.map((selectedOption) => selectedOption.optionName)\r\n    );\r\n    optionNames.value = optionNamesList;\r\n\r\n    const partnerId = product.partnerId;\r\n    if (partnerId) {\r\n      await fetchPartnerName(partnerId);\r\n      await fetchPartnerPackage(partnerId);\r\n      await fetchNumberOfPartnerConfigurations(partnerId);\r\n      await fetchLogoUrl(partnerId);\r\n      await fetchPartnerConfigurations(partnerId, product);\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching product data:\", err.message);\r\n    error.value =\r\n      \"Er is een fout opgetreden bij het ophalen van de productgegevens.\";\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n}\r\n\r\nasync function previousPage() {\r\n  const pages = document.querySelectorAll(\".config-ui__page\");\r\n  const overview = document.querySelector(\".overview\");\r\n  const summary = document.querySelector(\".summary\");\r\n  const nextButton = document.querySelector(\".nextButton\");\r\n  const backButton = document.querySelector(\".backButton\");\r\n\r\n  // Zorg ervoor dat er pagina's zijn\r\n  if (!pages || pages.length === 0) {\r\n    console.warn(\"No config-ui__page elements found.\");\r\n    return;\r\n  }\r\n\r\n  // Als we op de overzichtspagina zitten (pagina 0)\r\n  if (currentPageIndex.value === 0) {\r\n    // Maak de overzichtspagina zichtbaar\r\n    if (overview) {\r\n      overview.style.display = \"flex\"; // 'overview' wordt zichtbaar\r\n      pages.forEach((page) => page.classList.remove(\"active\"));\r\n    }\r\n\r\n    // Maak de 'next' knop zichtbaar\r\n    if (nextButton) {\r\n      nextButton.style.visibility = \"visible\"; // 'next' knop zichtbaar\r\n    }\r\n\r\n    // Verberg de 'back' knop\r\n    if (backButton) {\r\n      backButton.style.visibility = \"hidden\"; // 'back' knop wordt verborgen\r\n    }\r\n\r\n    if (summary && summary.style.display == \"flex\") {\r\n      overview.style.display = \"none\"; // 'overview' wordt zichtbaar\r\n      pages.forEach((page) => page.classList.remove(\"active\"));\r\n      pages[currentPageIndex.value].classList.add(\"active\");\r\n      backButton.style.visibility = \"visible\"; // 'back' knop wordt verborgen\r\n    }\r\n\r\n    // Verberg de samenvatting\r\n    if (summary) {\r\n      summary.style.display = \"none\"; // Verberg summary als we terug naar overview gaan\r\n    }\r\n  }\r\n\r\n  // Als we op de summary pagina zitten, verberg de summary en ga naar de vorige pagina\r\n  if (summary) {\r\n    summary.style.display = \"none\"; // Verberg de summary pagina\r\n    // Log naar de console als we van summary naar configuratiepagina gaan\r\n  }\r\n\r\n  // Als we op een configuratiepagina zitten, toon de vorige configuratiepagina\r\n  if (currentPageIndex.value > 0) {\r\n    // Verwijder de 'active' klasse van de huidige configuratiepagina\r\n    pages[currentPageIndex.value].classList.remove(\"active\");\r\n\r\n    // Ga naar de vorige pagina\r\n    currentPageIndex.value--;\r\n\r\n    // Zet de 'active' klasse op de vorige configuratiepagina\r\n    pages[currentPageIndex.value].classList.add(\"active\");\r\n\r\n    // Verberg de overzichtspagina\r\n    if (overview) {\r\n      overview.style.display = \"none\"; // 'overview' wordt verborgen\r\n    }\r\n\r\n    // Maak de 'back' knop zichtbaar\r\n    if (backButton) {\r\n      backButton.style.visibility = \"visible\"; // Toon de 'back' knop\r\n    }\r\n\r\n    // Als we op de eerste configuratiepagina zitten, verberg de 'back' knop\r\n    if (currentPageIndex.value === 0) {\r\n      if (backButton) {\r\n        backButton.style.visibility = \"hidden\"; // Verberg de 'back' knop op de eerste pagina\r\n      }\r\n    }\r\n\r\n    // Maak de 'next' knop zichtbaar (tenzij we op de laatste pagina zitten)\r\n    if (nextButton) {\r\n      nextButton.style.visibility = \"visible\"; // 'next' knop wordt zichtbaar\r\n    }\r\n  }\r\n}\r\n\r\nasync function nextPage() {\r\n  const overview = document.querySelector(\".overview\");\r\n  const summary = document.querySelector(\".summary\");\r\n  const pages = document.querySelectorAll(\".config-ui__page\");\r\n\r\n  // Controleer of er pagina's zijn\r\n  if (!pages || pages.length === 0) {\r\n    console.warn(\"No config-ui__page elements found.\");\r\n    return;\r\n  }\r\n\r\n  // Als we op de overzichtspagina zitten\r\n  if (overview && overview.style.display !== \"none\") {\r\n    // Verberg overzicht en zet de eerste pagina als actief\r\n    overview.style.display = \"none\";\r\n    currentPageIndex.value = 0;\r\n    pages.forEach((page) => page.classList.remove(\"active\"));\r\n    pages[currentPageIndex.value].classList.add(\"active\");\r\n\r\n    // Maak de back-knop zichtbaar\r\n    document.querySelector(\".backButton\").style.visibility = \"visible\";\r\n  } else {\r\n    // Verwijder de 'active' klasse van de huidige pagina\r\n    pages[currentPageIndex.value].classList.remove(\"active\");\r\n\r\n    // Verhoog de pagina-index en toon de volgende pagina\r\n    if (currentPageIndex.value < pages.length - 1) {\r\n      currentPageIndex.value++;\r\n      pages[currentPageIndex.value].classList.add(\"active\");\r\n    } else {\r\n      // Haal productId op uit de URL\r\n      const productId = route.params.productId;\r\n\r\n      // Controleer of productId beschikbaar is\r\n      if (!productId) {\r\n        console.error(\"productId is undefined!\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Haal productgegevens op\r\n        const response = await fetch(`${baseURL}/products/${productId}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            `Failed to fetch product data. Status: ${response.status}`\r\n          );\r\n        }\r\n\r\n        const result = await response.json();\r\n        const product = result.data.product; // Zorg ervoor dat 'product' hier wordt gedefinieerd\r\n\r\n        // Haal partnerId van het product\r\n        const partnerId = product.partnerId;\r\n\r\n        // Haal het aantal configuraties op voor de partner\r\n        const count = await fetchNumberOfPartnerConfigurations(partnerId);\r\n\r\n        // Als er meerdere configuraties zijn, toon de samenvatting\r\n        if (count <= 1) {\r\n          summary.style.display = \"flex\";\r\n          document.querySelector(\".nextButton\").style.visibility = \"hidden\";\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching product data:\", err.message);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nasync function fetchLogoUrl(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) throw new Error(\"Unable to fetch logo URL\");\r\n    const data = await response.json();\r\n    if (data?.data?.partner) {\r\n      logoUrl.value = data.data.partner.logo_url;\r\n    } else {\r\n      console.warn(\"Partner not found in the response.\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching logo URL:\", err);\r\n  }\r\n}\r\n\r\nfunction showPreviousImage() {\r\n  const currentIndex = productImages.value.indexOf(selectedImage.value);\r\n  if (currentIndex > 0) {\r\n    selectedImage.value = productImages.value[currentIndex - 1];\r\n  }\r\n}\r\n\r\nfunction showNextImage() {\r\n  const currentIndex = productImages.value.indexOf(selectedImage.value);\r\n  if (currentIndex < productImages.value.length - 1) {\r\n    selectedImage.value = productImages.value[currentIndex + 1];\r\n  }\r\n}\r\n\r\nfunction setSelectedImage(image) {\r\n  selectedImage.value = image; // Zorg dat dit een object is\r\n}\r\n\r\nwatch(\r\n  () => route.params.productId,\r\n  async (newCode) => {\r\n    if (newCode && newCode !== productId.value) {\r\n      productId.value = newCode;\r\n      await fetchProductData(newCode);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"logoConfigurator\"\r\n      :style=\"{ backgroundImage: `url(${logoUrl})` }\"\r\n    ></div>\r\n\r\n    <div class=\"carousel\" v-if=\"productModelFile == null\">\r\n      <div class=\"top\">\r\n        <div\r\n          class=\"icon\"\r\n          :class=\"{ disabled: selectedImage === productImages[0] }\"\r\n          @click=\"selectedImage !== productImages[0] && showPreviousImage()\"\r\n        >\r\n          <i class=\"fa fa-angle-left\"></i>\r\n        </div>\r\n        <div\r\n          class=\"image\"\r\n          :style=\"{ backgroundImage: `url(${selectedImage})` }\"\r\n        ></div>\r\n        <div\r\n          class=\"icon\"\r\n          :class=\"{\r\n            disabled: selectedImage === productImages[productImages.length - 1],\r\n          }\"\r\n          @click=\"\r\n            selectedImage !== productImages[productImages.length - 1] &&\r\n              showNextImage()\r\n          \"\r\n        >\r\n          <i class=\"fa fa-angle-right\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"processbar\">\r\n        <div class=\"long-bar\"></div>\r\n        <div\r\n          class=\"short-bar\"\r\n          :style=\"{\r\n            width: `${\r\n              ((productImages.indexOf(selectedImage) + 1) /\r\n                productImages.length) *\r\n              100\r\n            }%`,\r\n          }\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"model desktop\" v-if=\"productModelFile\"></div>\r\n    <div class=\"icons desktop\">\r\n      <a @click=\"$router.go(-1)\">\r\n        <div class=\"icon\">\r\n          <div>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"26\"\r\n              height=\"26\"\r\n              viewBox=\"0 0 256 256\"\r\n            >\r\n              <path\r\n                d=\"M104,216V152h48v64h64V120a8,8,0,0,0-2.34-5.66l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,40,120v96Z\"\r\n                fill=\"none\"\r\n                stroke=\"white\"\r\n                stroke-width=\"8\"\r\n              ></path>\r\n            </svg>\r\n          </div>\r\n          <p>Home</p>\r\n        </div>\r\n      </a>\r\n      <div class=\"icon\" v-if=\"partnerPackage === 'pro'\">\r\n        <div @click=\"showModel = !showModel\" class=\"AR\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path\r\n              d=\"M11.98 2.36a.75.75 0 00-.33.1L8.3 4.11H8.3a.08.08 0 00-.01.01.76.76 0 00-.31 1c.09.18.24.31.43.38.19.06.4.05.57-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.54V4.34L15 5.47h.01a.76.76 0 001.03-.91.75.75 0 00-.34-.42l-.01-.01a.08.08 0 00-.01 0l-3.34-1.68a.75.75 0 00-.37-.09zm-5.57 2.8a.76.76 0 00-.34.08L2.72 6.9a.76.76 0 00-.42.7v3.9c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V8.81l2.26 1.13a.76.76 0 001.05-.91.76.76 0 00-.35-.42.08.08 0 00-.02-.02l-2-1 2-1c.3-.16.48-.52.4-.85a.77.77 0 00-.74-.58zm11.18 0a.77.77 0 00-.73.58c-.08.32.08.67.37.83l.02.02 2 1-2 1a.08.08 0 00-.02.02c-.17.1-.3.24-.35.42a.76.76 0 00.47.95c.19.06.4.05.58-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V7.6a.76.76 0 00-.42-.69l-3.35-1.67a.76.76 0 00-.34-.08zm-2.24 4.47a.75.75 0 00-.33.08L12 11.2l-3.02-1.5a.76.76 0 00-1.05.91c.06.18.2.33.36.42a.08.08 0 000 .01h.01a.08.08 0 000 .01l2.94 1.47v2.89c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.53v-2.9l2.93-1.46.02-.02c.3-.16.45-.5.37-.83a.77.77 0 00-.73-.58zM3.01 14.11a.75.75 0 00-.7.75v3.9c-.01.29.15.56.41.69l3.35 1.67a.76.76 0 001.05-.91.76.76 0 00-.34-.42.08.08 0 00-.03-.02l-2-1 2-1 .02-.02c.17-.1.3-.24.35-.42a.76.76 0 00-.47-.95.77.77 0 00-.58.04l-2.26 1.13v-2.7c0-.2-.08-.4-.24-.55a.76.76 0 00-.56-.2zm17.88 0a.76.76 0 00-.7.75v2.69l-2.26-1.13a.76.76 0 00-1.05.91c.06.18.18.33.35.42a.08.08 0 00.01 0v.02a.08.08 0 00.01 0l2 1-2 1h-.01a.08.08 0 000 .01h-.01a.76.76 0 00.13 1.37c.18.07.39.06.57-.03l3.35-1.67c.26-.13.42-.4.42-.69v-3.9a.76.76 0 00-.8-.75zm-8.94 4.47a.08.08 0 00-.03 0 .75.75 0 00-.47.23.76.76 0 00-.2.52v2.69l-2.26-1.13a.08.08 0 00-.01 0 .76.76 0 00-1.03.91c.05.18.18.33.34.42l.01.01a.08.08 0 00.01.01l3.34 1.67c.22.12.49.11.7 0l3.34-1.67.02-.01a.76.76 0 00.31-1 .76.76 0 00-1-.34l-2.26 1.13v-2.7a.76.76 0 00-.8-.74z\"\r\n            ></path>\r\n          </svg>\r\n        </div>\r\n        <p>AR</p>\r\n      </div>\r\n\r\n      <!-- <ModelViewer v-if=\"showModel\" /> -->\r\n\r\n      <!-- FaceTracking Component Tonen -->\r\n      <FaceTracking v-if=\"isFaceTrackingVisible\" @close=\"toggleFaceTracking\" />\r\n    </div>\r\n    <div class=\"rotate-informer desktop\" v-if=\"productModelFile != null\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        fill=\"#ffffff\"\r\n        viewBox=\"0 0 256 256\"\r\n      >\r\n        <path\r\n          d=\"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z\"\r\n        ></path>\r\n      </svg>\r\n      <p>Drag to rotate</p>\r\n    </div>\r\n\r\n    <div class=\"mobileElements\">\r\n      <router-link :to=\"`/`\" class=\"back\">\r\n        <i class=\"fa fa-angle-left\"></i>\r\n        <p>Back to collections</p>\r\n      </router-link>\r\n      <div class=\"row\">\r\n        <p class=\"name\">{{ productName }}</p>\r\n        <div class=\"icons\">\r\n          <div class=\"icon\" v-if=\"partnerPackage === 'pro'\">\r\n            <div @click=\"showModel = !showModel\" class=\"AR\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  d=\"M11.98 2.36a.75.75 0 00-.33.1L8.3 4.11H8.3a.08.08 0 00-.01.01.76.76 0 00-.31 1c.09.18.24.31.43.38.19.06.4.05.57-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.54V4.34L15 5.47h.01a.76.76 0 001.03-.91.75.75 0 00-.34-.42l-.01-.01a.08.08 0 00-.01 0l-3.34-1.68a.75.75 0 00-.37-.09zm-5.57 2.8a.76.76 0 00-.34.08L2.72 6.9a.76.76 0 00-.42.7v3.9c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V8.81l2.26 1.13a.76.76 0 001.05-.91.76.76 0 00-.35-.42.08.08 0 00-.02-.02l-2-1 2-1c.3-.16.48-.52.4-.85a.77.77 0 00-.74-.58zm11.18 0a.77.77 0 00-.73.58c-.08.32.08.67.37.83l.02.02 2 1-2 1a.08.08 0 00-.02.02c-.17.1-.3.24-.35.42a.76.76 0 00.47.95c.19.06.4.05.58-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V7.6a.76.76 0 00-.42-.69l-3.35-1.67a.76.76 0 00-.34-.08zm-2.24 4.47a.75.75 0 00-.33.08L12 11.2l-3.02-1.5a.76.76 0 00-1.05.91c.06.18.2.33.36.42a.08.08 0 000 .01h.01a.08.08 0 000 .01l2.94 1.47v2.89c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.53v-2.9l2.93-1.46.02-.02c.3-.16.45-.5.37-.83a.77.77 0 00-.73-.58zM3.01 14.11a.75.75 0 00-.7.75v3.9c-.01.29.15.56.41.69l3.35 1.67a.76.76 0 001.05-.91.76.76 0 00-.34-.42.08.08 0 00-.03-.02l-2-1 2-1 .02-.02c.17-.1.3-.24.35-.42a.76.76 0 00-.47-.95.77.77 0 00-.58.04l-2.26 1.13v-2.7c0-.2-.08-.4-.24-.55a.76.76 0 00-.56-.2zm17.88 0a.76.76 0 00-.7.75v2.69l-2.26-1.13a.76.76 0 00-1.05.91c.06.18.18.33.35.42a.08.08 0 00.01 0v.02a.08.08 0 00.01 0l2 1-2 1h-.01a.08.08 0 000 .01h-.01a.76.76 0 00.13 1.37c.18.07.39.06.57-.03l3.35-1.67c.26-.13.42-.4.42-.69v-3.9a.76.76 0 00-.8-.75zm-8.94 4.47a.08.08 0 00-.03 0 .75.75 0 00-.47.23.76.76 0 00-.2.52v2.69l-2.26-1.13a.08.08 0 00-.01 0 .76.76 0 00-1.03.91c.05.18.18.33.34.42l.01.01a.08.08 0 00.01.01l3.34 1.67c.22.12.49.11.7 0l3.34-1.67.02-.01a.76.76 0 00.31-1 .76.76 0 00-1-.34l-2.26 1.13v-2.7a.76.76 0 00-.8-.74z\"\r\n                ></path>\r\n              </svg>\r\n            </div>\r\n            <p>AR</p>\r\n          </div>\r\n\r\n          <!-- <ModelViewer v-if=\"showModel\" /> -->\r\n          <!-- FaceTracking Component Tonen -->\r\n          <FaceTracking\r\n            v-if=\"isFaceTrackingVisible\"\r\n            @close=\"toggleFaceTracking\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"model\" v-if=\"productModelFile != null\"></div>\r\n      <div class=\"bigImageWithImages\" v-if=\"productModelFile == null\">\r\n        <!-- Big Image Display -->\r\n        <div\r\n          class=\"bigImage\"\r\n          :style=\"{ backgroundImage: `url(${selectedImage})` }\"\r\n        ></div>\r\n\r\n        <!-- Thumbnail Images -->\r\n        <div class=\"images\">\r\n          <div\r\n            v-for=\"(image, index) in productImages\"\r\n            :key=\"image._id\"\r\n            class=\"image\"\r\n            :class=\"{ active: image === selectedImage }\"\r\n            :style=\"{ backgroundImage: `url(${image})` }\"\r\n            @click=\"setSelectedImage(image)\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rotate-informer desktop\" v-if=\"productModelFile != null\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          fill=\"#ffffff\"\r\n          viewBox=\"0 0 256 256\"\r\n        >\r\n          <path\r\n            d=\"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z\"\r\n          ></path>\r\n        </svg>\r\n        <p>Drag to rotate</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"config-wrapper\">\r\n      <div class=\"overview\">\r\n        <h2>Overview</h2>\r\n        <ul v-if=\"productConfigs.length > 0\">\r\n          <li v-for=\"(configuration, index) in productConfigs\" :key=\"index\">\r\n            <p>\r\n              {{ configuration.configurationId?.fieldName }}\r\n            </p>\r\n            <i class=\"fa fa-angle-right\"></i>\r\n          </li>\r\n        </ul>\r\n\r\n        <p v-else>No configurations found for this product.</p>\r\n      </div>\r\n      <div\r\n        v-for=\"(configuration, index) in productConfigs\"\r\n        :key=\"index\"\r\n        class=\"config-ui__page\"\r\n        v-show=\"currentPageIndex === index\"\r\n      >\r\n        <h2 class=\"fieldName\">\r\n          {{\r\n            configuration.configurationId?.fieldType === \"color\"\r\n              ? \"Choose the color for\"\r\n              : \"Choose an option for\"\r\n          }}\r\n          {{ configuration.configurationId?.fieldName || `Layer ${index}` }}\r\n        </h2>\r\n\r\n        <div class=\"row\">\r\n          <div\r\n            v-for=\"(selectedOption, index) in configuration.selectedOptions\"\r\n            :key=\"index\"\r\n            :class=\"{\r\n              active: selectedOption.optionId?.name === selectedOptionName,\r\n            }\"\r\n            @click=\"selectOption(selectedOption.optionId?.name)\"\r\n            :style=\"{ backgroundColor: selectedOption.optionId?.name }\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"summary\">\r\n        <h2>Summary</h2>\r\n        <ul v-if=\"productConfigs.length > 0\">\r\n          <li\r\n            v-for=\"(configuration, index) in productConfigs\"\r\n            :key=\"index\"\r\n            class=\"borderBottom\"\r\n          >\r\n            <p>{{ configuration.configurationId?.fieldName }}</p>\r\n\r\n            <!-- Controleer of er geselecteerde items zijn -->\r\n            <ul>\r\n              <li\r\n                v-if=\"\r\n                  selectedItems.length > 0 &&\r\n                  selectedItems.some(\r\n                    (item) =>\r\n                      item.configurationId ===\r\n                      configuration.configurationId?._id\r\n                  )\r\n                \"\r\n                v-for=\"(item, index) in selectedItems\"\r\n                :key=\"index\"\r\n              >\r\n                <p\r\n                  class=\"border\"\r\n                  :style=\"{\r\n                    backgroundColor:\r\n                      item.selectedItem?.optionName || 'transparent',\r\n                  }\"\r\n                ></p>\r\n              </li>\r\n\r\n              <!-- Als er geen geselecteerde optie is, toon dan een transparante border met configuratienaam -->\r\n              <li v-else>\r\n                <p class=\"border\" style=\"background-color: transparent\">\r\n                  <span>No option selected</span>\r\n                </p>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"links\">\r\n        <a\r\n          href=\"#\"\r\n          class=\"backButton\"\r\n          @click=\"previousPage\"\r\n          style=\"visibility: hidden\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 320 512\"\r\n            style=\"transform: rotate(180deg)\"\r\n          >\r\n            <path\r\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\r\n            ></path>\r\n          </svg>\r\n          <p>Back</p>\r\n        </a>\r\n\r\n        <a class=\"nextButton\" @click=\"nextPage\" style=\"visibility: visible\">\r\n          <p>Next</p>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\r\n            ></path>\r\n          </svg>\r\n        </a>\r\n\r\n        <a href=\"#\" class=\"summaryButton\" style=\"display: none\">\r\n          <p>Summary</p>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\r\n            ></path>\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style src=\"../assets/css/detailsProduct.css\"></style>\r\n","import script from \"./DetailsProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DetailsProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"../assets/css/detailsProduct.css?vue&type=style&index=0&lang=css&external\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch, provide, computed } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\nprovide(\"user\", user);\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\nif (!tokenPayload || !userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\r\n\r\n// Base URL depending on environment\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Function to extract user data from the JWT token (kan mogelijk overbodig zijn als we al `user` injecteren)\r\nconst getUserDataFromToken = () => {\r\n  const token = localStorage.getItem(\"jwtToken\");\r\n  if (token) {\r\n    const payload = token.split(\".\")[1];\r\n    const decodedPayload = JSON.parse(atob(payload));\r\n    const userId = decodedPayload.userId;\r\n    const firstName = decodedPayload.firstname;\r\n    const lastName = decodedPayload.lastname;\r\n    const role = decodedPayload.role;\r\n    const profilePicture = decodedPayload.profilePicture || \"\";\r\n\r\n    return { userId, firstName, lastName, role, profilePicture }; // Return updated fields\r\n  }\r\n  console.error(\"No token found in localStorage\");\r\n  return null;\r\n};\r\n\r\n// Function to fetch user data via API (kan eventueel worden vervangen door data in `user` injecteren)\r\nconst fetchUserData = async (userId) => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`);\r\n    const userData = response.data?.data?.user || {};\r\n    if (userData) {\r\n      // Dynamically update the reactive user data\r\n      user.firstName = userData.firstname || \"\";\r\n      user.lastName = userData.lastname || \"\";\r\n      user.role = userData.role || \"\";\r\n      user.profilePicture = userData.profilePicture || \"\";\r\n    } else {\r\n      console.error(\"No user found in the response.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user data:\", error);\r\n  }\r\n};\r\n\r\n// Definieer de huisstijl data\r\nconst huisstijlData = reactive({\r\n  primaryColor: \"#d4af37\",\r\n  secondaryColor: \"#f0edea\",\r\n  backgroundColor: \"#ffffff\",\r\n  textColor: \"#ffffff\",\r\n  fontFamilyBodyText: \"Work Sans\",\r\n  fontFamilyTitles: \"Libre Barcode 128\",\r\n  logo_url: \"../../src/assets/images/rebilt-favicon.svg\",\r\n});\r\n\r\n// Fetch user data when component is mounted\r\nonMounted(() => {\r\n  const userData = getUserDataFromToken();\r\n  if (userData) {\r\n    // If user data is found in the token, fetch the full user data\r\n    fetchUserData(userData.userId);\r\n  }\r\n});\r\n\r\n// Function to handle logout\r\nconst logout = () => {\r\n  localStorage.removeItem(\"jwtToken\");\r\n  router.push(\"/login\");\r\n};\r\n\r\n// Function to dynamically select the icon based on the active route\r\nconst getActiveIcon = (routeName, defaultIcon) => {\r\n  const currentRoute = router.currentRoute.value.path;\r\n\r\n  switch (routeName) {\r\n    case \"products\":\r\n      return currentRoute === \"/admin\"\r\n        ? \"../src/assets/icons/tag_active.svg\"\r\n        : \"../src/assets/icons/tag.svg\";\r\n    case \"orders\":\r\n      return currentRoute === \"/admin/orders\"\r\n        ? \"../src/assets/icons/inbox_active.svg\"\r\n        : \"../src/assets/icons/inbox.svg\";\r\n    case \"partners\":\r\n      return currentRoute === \"/admin/partners\"\r\n        ? \"../src/assets/icons/partners_active.svg\"\r\n        : \"../src/assets/icons/partners.svg\";\r\n    case \"styling\":\r\n      return currentRoute === \"/admin/styling\"\r\n        ? \"../src/assets/icons/styling_active.svg\"\r\n        : \"../src/assets/icons/styling.svg\";\r\n    case \"users\":\r\n      return currentRoute === \"/admin/users\"\r\n        ? \"../src/assets/icons/users_active.svg\"\r\n        : \"../src/assets/icons/users.svg\";\r\n    case \"settings\":\r\n      return currentRoute === \"/admin/settings\"\r\n        ? \"../src/assets/icons/settings_active.svg\"\r\n        : \"../src/assets/icons/settings.svg\";\r\n    case \"logout\":\r\n      return \"../assets/icons/logout.svg\"; // Logout icon is always static\r\n    default:\r\n      return defaultIcon; // Return the default icon for all other routes\r\n  }\r\n};\r\n\r\nconst profileImage = computed(() => {\r\n  return (\r\n    user.profilePicture ||\r\n    new URL(\"../assets/images/Odette_lunettes.webp\", import.meta.url).href\r\n  );\r\n});\r\n\r\n// Reactieve variabele om bij te houden welk label moet worden weergegeven\r\nconst hoveredLabel = ref(\"\");\r\n\r\nfunction showLabel(label) {\r\n  hoveredLabel.value = label;\r\n}\r\n\r\nfunction hideLabel() {\r\n  hoveredLabel.value = \"\";\r\n}\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const userData = response.data?.data?.user || {};\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\nprovide(\"user\", user);\r\nprovide(\"baseURL\", baseURL);\r\nprovide(\"partnerId\", partnerId);\r\nprovide(\"userId\", userId);\r\nprovide(\"token\", token);\r\n\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <nav class=\"mobileNav\">\r\n    <router-link\r\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n      to=\"/admin\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Products')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('products', '../assets/icons/tag.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Products</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Products'\">Products</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link\r\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n      to=\"/admin/orders\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Orders')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('orders', '../assets/icons/inbox.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Orders</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Orders'\">Orders</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link\r\n      v-if=\"user.role === 'platform_admin'\"\r\n      to=\"/admin/partners\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Partners')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('partners', '../assets/icons/partners.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Partners</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Partners'\">Partners</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link\r\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n      to=\"/admin/users\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Users')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('users', '../assets/icons/users.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Users</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Users'\">Users</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link to=\"/admin/settings\" exact-active-class=\"active\">\r\n      <div\r\n        class=\"menu-item profilePicture\"\r\n        @mouseover=\"showLabel('Settings')\"\r\n        @mouseleave=\"hideLabel\"\r\n        :style=\"{ backgroundImage: 'url(' + profileImage + ')' }\"\r\n      >\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Settings'\">Settings</span>\r\n      </div>\r\n    </router-link>\r\n  </nav>\r\n\r\n  <nav class=\"desktopNav\">\r\n    <div class=\"elements\">\r\n      <div\r\n        class=\"logo\"\r\n        :style=\"{ backgroundImage: 'url(' + huisstijlData.logo_url + ')' }\"\r\n      ></div>\r\n      <div class=\"menu\">\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Products')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('products', '../assets/icons/package.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Products'\"\r\n              >Products</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin/orders\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Orders')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('orders', '../assets/icons/order.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Orders'\">Orders</span>\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner'\"\r\n          to=\"/admin/styling\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Styling')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('styling', '../assets/icons/styling.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Styling'\"\r\n              >Styling</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'platform_admin'\"\r\n          to=\"/admin/partners\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Partners')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('partners', '../assets/icons/users.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Partners'\"\r\n              >Partners</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin/users\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Users')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('users', '../assets/icons/users.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Users'\">Users</span>\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin/myconfigurations\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Configurations')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('settings', '../assets/icons/settings.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Configurations'\"\r\n              >Configurations</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <a @click.prevent=\"logout\">\r\n      <img src=\"../assets/icons/logout.svg\" alt=\"icon\" />\r\n    </a>\r\n  </nav>\r\n</template>\r\n\r\n<style scoped>\r\n/* background: linear-gradient(-45deg, #473c5d, #000000); */\r\n.mobileNav {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  background-color: var(--secondary-color);\r\n  box-shadow: 0px -4px 8px rgba(0, 0, 0, 0.1);\r\n  padding: 16px 24px 32px 24px;\r\n  position: fixed;\r\n  z-index: 999;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n\r\n.mobileNav a {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.mobileNav a p {\r\n  display: none;\r\n}\r\n\r\nnav .profile {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.profilePicture {\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  border: 1px solid #dadbdd;\r\n}\r\n\r\n.desktopNav .profile div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.desktopNav {\r\n  display: none;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: linear-gradient(\r\n    -45deg,\r\n    var(--primary-color),\r\n    var(--background-color)\r\n  );\r\n  height: calc(100vh - 48px);\r\n  margin: 24px 0px 24px 24px;\r\n  padding: 24px;\r\n  position: fixed;\r\n  border-radius: 1rem;\r\n}\r\n\r\n.desktopNav .elements {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 64px;\r\n}\r\n\r\n.desktopNav .logo {\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: left;\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.desktopNav .menu {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 48px;\r\n}\r\n\r\n.desktopNav .profile div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.desktopNav .menu a img {\r\n  width: 24px;\r\n}\r\n\r\n.desktopNav .menu a p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu-item {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.menu-item .label {\r\n  position: absolute;\r\n  left: 64px;\r\n  top: 0; /* Past de afstand onder de afbeelding aan */\r\n  background-color: var(--primary-color);\r\n  color: #fff;\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  line-height: 14px;\r\n  margin: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.4s ease;\r\n  letter-spacing: 1px;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.icons .icon:hover p {\r\n  opacity: 1;\r\n}\r\n\r\n.menu-item:hover .label {\r\n  opacity: 1;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .mobileNav {\r\n    display: none;\r\n  }\r\n  .desktopNav {\r\n    display: flex;\r\n  }\r\n  .profilePicture {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./navComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./navComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./navComponent.vue?vue&type=style&index=0&id=837f2d1a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-837f2d1a\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profileImage: \"\", // Store the profile picture\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  const base64Url = token.split(\".\")[1];\r\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  const jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split(\"\")\r\n      .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n      .join(\"\")\r\n  );\r\n  return JSON.parse(jsonPayload);\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object with the fetched data\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profileImage = userData.profileImage || \"\"; // Fetch the profile picture\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n    console.log(userData);\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Load the user profile when the component is mounted\r\nonMounted(() => {\r\n  fetchUserProfile();\r\n});\r\n\r\n// Ref for the profile image URL (will be dynamically updated)\r\nconst profileImage = ref(\"\");\r\n\r\n// Watch for changes in the user profile picture to update the profileImage ref\r\nwatch(\r\n  () => user.profileImage,\r\n  (newprofileImage) => {\r\n    // Set the profile image to the fetched picture or a default if none exists\r\n    profileImage.value = newprofileImage\r\n      ? newprofileImage\r\n      : \"https://via.placeholder.com/150\"; // Default image\r\n  }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <router-link to=\"/admin/settings\" exact-active-class=\"active\">\r\n    <div\r\n      class=\"menu-item profileImage\"\r\n      :style=\"{ backgroundImage: 'url(' + profileImage + ')' }\"\r\n    ></div>\r\n  </router-link>\r\n</template>\r\n\r\n<style scoped>\r\n.profileImage {\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  border: 1px solid #dadbdd;\r\n  cursor: pointer;\r\n}\r\n\r\n.desktopNav .profile div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .profileImage {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ProfilePicture.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProfilePicture.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProfilePicture.vue?vue&type=style&index=0&id=3e757442&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e757442\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\nimport ProfilePicture from \"../../components/ProfilePicture.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId;\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n\r\n    if (\r\n      userData.role !== \"partner_admin\" &&\r\n      userData.role !== \"partner_owner\"\r\n    ) {\r\n      router.push(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Provide the user data to all components\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Fetch products data\r\n// Fetch products data\r\n// Fetch products data\r\nconst fetchData = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\");\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const userCompanyId = getUserCompanyId(token);\r\n\r\n    // Filter products based on the partnerId (companyId in the token payload)\r\n    data.value = result.data.products.filter(\r\n      (product) => product.partnerId === partnerId\r\n    );\r\n\r\n    // Bereken het aantal varianten voor elk product\r\n    // Bereken het aantal varianten op basis van selectedOptions lengte\r\n    data.value.forEach((product) => {\r\n      if (product.configurations && Array.isArray(product.configurations)) {\r\n        // Aantal varianten (op basis van geselecteerde opties)\r\n        product.variantsCount = product.configurations.reduce(\r\n          (count, config) => {\r\n            return (\r\n              count +\r\n              (config.selectedOptions ? config.selectedOptions.length : 0)\r\n            );\r\n          },\r\n          0\r\n        );\r\n      } else {\r\n        product.variantsCount = 0; // Geen varianten\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\n\r\n// Arrays to store configurations\r\nconst partnerConfigurations = ref([]);\r\nconst selectedConfigurations = ref([]);\r\n\r\n// Nieuwe API-aanroep om configuraties op te halen\r\nconst fetchConfigurations = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const configurations = response.data?.data || [];\r\n    return configurations;\r\n  } catch (error) {\r\n    console.error(\"Error fetching configurations:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Fetch partner configurations\r\n// Haal de partnerconfiguraties en configuraties op en koppel ze\r\nconst fetchPartnerConfigurations = async () => {\r\n  if (!partnerId) {\r\n    console.warn(\"No partnerId provided.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Haal de partnerconfiguraties op\r\n    const partnerResponse = await axios.get(\r\n      `${baseURL}/partnerConfigurations`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: { partnerId },\r\n      }\r\n    );\r\n\r\n    const partnerConfigs = partnerResponse.data?.data || [];\r\n    partnerConfigurations.value = partnerConfigs.filter(\r\n      (config) => String(config.partnerId) === String(partnerId)\r\n    );\r\n\r\n    // Haal de algemene configuraties op\r\n    const configurations = await fetchConfigurations();\r\n\r\n    // Koppel de configuraties aan de partnerconfiguraties\r\n    partnerConfigurations.value.forEach((partnerConfig) => {\r\n      const matchingConfig = configurations.find(\r\n        (config) => config._id === partnerConfig.configurationId\r\n      );\r\n      if (matchingConfig) {\r\n        partnerConfig.fieldName = matchingConfig.fieldName; // Voeg het fieldName toe\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations:\", error);\r\n  }\r\n};\r\n\r\n// Computed properties\r\nconst selectedTypeFilter = ref(\"All\");\r\nconst data = ref([]);\r\nconst searchTerm = ref(\"\");\r\nconst selectedProducts = ref([]);\r\nconst isDeleteButtonVisible = computed(() => selectedProducts.value.length > 0);\r\nconst isPopupVisible = ref(false);\r\n\r\n// Get user company ID from JWT token\r\nconst getUserCompanyId = (token) => {\r\n  if (!token) return null;\r\n  const decoded = JSON.parse(atob(token.split(\".\")[1]));\r\n  return decoded.companyId;\r\n};\r\n\r\n// Select or deselect a product\r\nconst toggleSelection = (productId) => {\r\n  const index = selectedProducts.value.indexOf(productId);\r\n  if (index === -1) {\r\n    selectedProducts.value.push(productId);\r\n  } else {\r\n    selectedProducts.value.splice(index, 1);\r\n  }\r\n};\r\n\r\n// Select or deselect all products\r\nconst toggleSelectAll = (event) => {\r\n  selectedProducts.value = event.target.checked\r\n    ? data.value.map((product) => product._id)\r\n    : [];\r\n};\r\n\r\n// Start the delete process for selected products\r\nconst deleteSelectedProducts = () => {\r\n  if (selectedProducts.value.length === 0) return;\r\n  showPopup();\r\n};\r\n\r\n// Confirm the deletion of selected products\r\nconst confirmDelete = async () => {\r\n  await deleteProducts();\r\n  hidePopup();\r\n};\r\n\r\n// Extract public_id from Cloudinary URL\r\nconst extractPublicId = (imageUrl) => {\r\n  try {\r\n    const parts = imageUrl.split(\"/image/upload/\");\r\n    if (parts.length < 2) {\r\n      console.error(\"Invalid URL structure:\", imageUrl);\r\n      return null;\r\n    }\r\n\r\n    let publicIdWithVersion = parts[1];\r\n    const publicIdParts = publicIdWithVersion.split(\"/\");\r\n\r\n    if (\r\n      publicIdParts[0].startsWith(\"v\") &&\r\n      !isNaN(Number(publicIdParts[0].slice(1)))\r\n    ) {\r\n      publicIdParts.shift();\r\n    }\r\n\r\n    const publicIdWithoutExtension = publicIdParts.join(\"/\").split(\".\")[0];\r\n    return publicIdWithoutExtension;\r\n  } catch (error) {\r\n    console.error(\"Error extracting public_id:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Delete image from Cloudinary\r\nconst deleteImageFromCloudinary = async (imageUrl) => {\r\n  const publicId = extractPublicId(imageUrl);\r\n  if (!publicId) {\r\n    console.error(\"No valid public_id found for image:\", imageUrl);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const timestamp = Math.floor(Date.now() / 1000);\r\n    const signature = generateSignature(timestamp, publicId);\r\n\r\n    const response = await fetch(\r\n      \"https://api.cloudinary.com/v1_1/dzempjvto/image/destroy\",\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          public_id: publicId,\r\n          api_key: \"496836855294519\",\r\n          timestamp: timestamp,\r\n          signature: signature,\r\n        }),\r\n      }\r\n    );\r\n\r\n    const result = await response.json();\r\n    if (result.result !== \"ok\") {\r\n      throw new Error(\"Cloudinary delete failed: \" + result.result);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error deleting image from Cloudinary:\", error);\r\n  }\r\n};\r\n\r\n// Delete products\r\n// Delete products\r\nconst deleteProducts = async () => {\r\n  try {\r\n    for (const id of selectedProducts.value) {\r\n      const response = await fetch(`${baseURL}/products/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n    }\r\n    await fetchData();\r\n    selectedProducts.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting products:\", error);\r\n  }\r\n};\r\n\r\n// Show popup\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\n\r\n// Hide popup\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\n// Generate signature for Cloudinary deletion\r\nconst generateSignature = (timestamp, publicId) => {\r\n  const secret = \"adA9j34J6UeMpoZwMcHzKNfuWoY\";\r\n  return md5(\r\n    `public_id=${publicId}&timestamp=${timestamp}&api_secret=${secret}`\r\n  );\r\n};\r\n\r\n// Verander deze regel van 'reactive' naar 'ref' voor de optie-namen\r\nconst optionNames = ref({});\r\n\r\nasync function fetchOptionNames(product) {\r\n  if (!product || !product.configurations) {\r\n    console.warn(\"Product or configurations missing\", product);\r\n    return 0; // Return 0 if no configurations are available\r\n  }\r\n\r\n  const customConfigs = product.configurations;\r\n\r\n  let totalOptionsCount = 0; // To accumulate the total number of options\r\n\r\n  try {\r\n    await Promise.all(\r\n      customConfigs.map(async (config) => {\r\n        if (config.configurationId) {\r\n          try {\r\n            // Fetch the configuration details based on configurationId\r\n            const response = await axios.get(\r\n              `${baseURL}/configurations/${config.configurationId}`,\r\n              { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n\r\n            // Assuming response.data.data.options contains the options array\r\n            const optionsCount = response.data.data?.options?.length || 0;\r\n\r\n            // Add the options count for this configuration to the total\r\n            totalOptionsCount += optionsCount;\r\n\r\n            // Update the optionNames object (you can customize this part further if needed)\r\n            optionNames.value = {\r\n              ...optionNames.value,\r\n              [config._id]: optionsCount,\r\n            };\r\n          } catch (error) {\r\n            console.error(\r\n              `Error fetching configuration options with ID ${config.configurationId}:`,\r\n              error\r\n            );\r\n          }\r\n        }\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error fetching options:\", error);\r\n  }\r\n\r\n  return totalOptionsCount; // Return the total options count for the product\r\n}\r\n\r\nonMounted(async () => {\r\n  await fetchData();\r\n  await fetchPartnerConfigurations();\r\n\r\n  // Load option names for each product after the data fetch\r\n  data.value.forEach((product) => {\r\n    fetchOptionNames(product); // Pass the product to fetch options\r\n  });\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Products</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link exact to=\"/admin/add-new-product\" class=\"btn active\">\r\n          <p>Add new</p>\r\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          @click=\"deleteSelectedProducts\"\r\n          class=\"btn display\"\r\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n\r\n      <select class=\"filter\" v-model=\"selectedTypeFilter\">\r\n        <option value=\"All\">All</option>\r\n        <option value=\"optical\">Optical</option>\r\n        <option value=\"sun\">Sun</option>\r\n      </select>\r\n\r\n      <ProfilePicture />\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"products mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"data.length\"\r\n          v-for=\"product in data\"\r\n          :key=\"product._id\"\r\n          :to=\"{ name: 'EditProduct', params: { id: product._id } }\"\r\n        >\r\n          <div\r\n            class=\"image\"\r\n            :style=\"{\r\n              backgroundImage:\r\n                'url(' +\r\n                product.configurations[0].selectedOptions[0].images[0] +\r\n                ')',\r\n            }\"\r\n          ></div>\r\n\r\n          <div class=\"elements\">\r\n            <div class=\"text\">\r\n              <p class=\"name\">{{ product.productName }}</p>\r\n              <p>\r\n                {{ product.configurations[0].selectedOptions.length }} variant{{\r\n                  product.configurations[0].selectedOptions.length > 1\r\n                    ? \"s\"\r\n                    : \"\"\r\n                }}\r\n              </p>\r\n              <!-- Weergeven van het aantal varianten -->\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              :class=\"{ active: product.activeInactive === 'active' }\"\r\n            >\r\n              <p>{{ product.activeInactive }}</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"products desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedProducts.length === selectedProducts.length &&\r\n            selectedProducts.length > 0\r\n          \"\r\n        />\r\n        <p>Product Code</p>\r\n        <p>Product name</p>\r\n        <p>Type of product</p>\r\n        <p>Brand</p>\r\n        <p>Description</p>\r\n        <p>Status</p>\r\n      </div>\r\n\r\n      <ul v-if=\"data.length\" class=\"list\">\r\n        <li v-for=\"product in data\" :key=\"product._id\">\r\n          <input\r\n            type=\"checkbox\"\r\n            @change=\"toggleSelection(product._id)\"\r\n            :checked=\"selectedProducts.includes(product._id)\"\r\n          />\r\n          <router-link\r\n            :to=\"{ name: 'EditProduct', params: { id: product._id } }\"\r\n          >\r\n            <p>{{ product.productCode }}</p>\r\n            <p>{{ product.productName }}</p>\r\n            <p>{{ product.productType }}</p>\r\n            <p>{{ product.brand }}</p>\r\n            <p>{{ product.description }}</p>\r\n            <div\r\n              class=\"btn\"\r\n              :class=\"{ active: product.activeInactive === 'active' }\"\r\n            >\r\n              <p>{{ product.activeInactive }}</p>\r\n            </div>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n\r\n      <div v-else class=\"no-products\">\r\n        <p>Geen producten gevonden voor de huidige zoekopdracht of filter.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  display: none;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.no-products {\r\n  text-align: center;\r\n  color: #fff;\r\n  padding: 20px;\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.products .top {\r\n  display: flex; /* Keep the flexbox layout */\r\n  gap: 20px; /* Space between items */\r\n  border-radius: 4px 8px 0 0;\r\n  padding: 16px;\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  overflow-x: auto; /* Allow horizontal scrolling */\r\n  -webkit-overflow-scrolling: touch; /* Smooth scrolling on mobile */\r\n}\r\n\r\n.products .top::-webkit-scrollbar {\r\n  display: none; /* Hide scrollbar */\r\n}\r\n\r\n.products .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  gap: 16px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.products .list li {\r\n  display: flex;\r\n  flex-direction: row; /* Align items in a row */\r\n  align-items: center;\r\n  gap: 20px; /* Space between columns */\r\n  padding: 16px;\r\n}\r\n\r\n.products .list li:nth-child(even) {\r\n  background-color: rgb(\r\n    var(--primary-color),\r\n    0.1\r\n  ); /* Alternate background color */\r\n}\r\n\r\n.products .top p,\r\n.products .list li p {\r\n  color: var(--text-color);\r\n  min-width: 150px; /* Minimum width for each column */\r\n  box-sizing: border-box; /* Include padding/border in width calculation */\r\n}\r\n\r\n.products .top p {\r\n  flex-grow: 1; /* Allow flexibility in top items */\r\n}\r\n\r\n.products .list li p {\r\n  flex-grow: 1; /* Allow each product property to grow and fill space */\r\n}\r\n\r\n.products .list li a {\r\n  display: flex; /* Ensure the entire item is aligned in a row */\r\n  gap: 20px; /* Space out the child items */\r\n  width: 100%;\r\n}\r\n\r\n.products .list li a:hover {\r\n  text-decoration: underline; /* Hover effect */\r\n}\r\n\r\n.products .list li p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.products .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.products .top p {\r\n  flex: 1 1 auto; /* Dit maakt de elementen flexibel, met een minimum van de breedte die ze nodig hebben */\r\n  min-width: 90px; /* Minimale breedte per kolom */\r\n  box-sizing: border-box; /* Zorg ervoor dat padding en borders worden meegeteld in de breedte */\r\n}\r\n\r\n.products .top input {\r\n  width: 20px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.products.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.products.desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.products.mobile {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.products.mobile .items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.products.mobile a {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding-bottom: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.products.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.products.mobile a .elements {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  gap: 1em;\r\n}\r\n\r\n.products.mobile a .elements .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.products.mobile a .elements .btn,\r\n.products.desktop .btn {\r\n  border-radius: 0.75rem;\r\n  padding: 0.75rem 0.025rem;\r\n  width: 60px;\r\n  height: 26px;\r\n}\r\n\r\n.products.mobile a .elements .btn.active,\r\n.products.desktop .btn.active {\r\n  background-color: #53e971;\r\n  border: none;\r\n}\r\n\r\n.products.mobile a .elements .btn p,\r\n.products.desktop .btn p {\r\n  opacity: 1;\r\n}\r\n\r\n.products.mobile a .elements .btn.active p,\r\n.products.desktop .btn.active p {\r\n  color: #000;\r\n  opacity: 1;\r\n}\r\n\r\n.products.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.products.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.products.desktop {\r\n  display: none;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .products.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .products {\r\n    background-color: var(--secondary-color);\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    overflow-x: auto; /* Enable horizontal scrolling */\r\n    white-space: nowrap; /* Prevent wrapping of items */\r\n  }\r\n\r\n  .products.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=5110ea75&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5110ea75\"]])\n\nexport default __exports__","/* Algemeen API-beheer */\r\nimport axios from \"axios\";\r\nimport router from \"../router\"; // Importeer hier de router-instantie\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nexport const fetchPartnerData = async (partnerId, jwtToken) => {\r\n  try {\r\n    if (!partnerId) {\r\n      console.error(\"Partner ID (companyId) is not available in the token.\");\r\n      router.push(\"/login\"); // Gebruik hier de geïmporteerde router\r\n      return;\r\n    }\r\n\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner;\r\n    if (partner) {\r\n      return partner;\r\n    } else {\r\n      console.error(\"Partner data not found in response\");\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error.response || error);\r\n    return null;\r\n  }\r\n};\r\n","/* Configuratiegerelateerde logica */\r\nimport axios from \"axios\";\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nexport const fetchPartnerConfigurations = async (partnerId, jwtToken) => {\r\n  if (!partnerId) {\r\n    console.warn(\"No partnerId provided.\");\r\n    return [];\r\n  }\r\n\r\n  try {\r\n    // Haal de partner configuraties op\r\n    const partnerResponse = await axios.get(\r\n      `${baseURL}/partnerConfigurations`,\r\n      {\r\n        headers: { Authorization: `Bearer ${jwtToken}` },\r\n        params: { partnerId },\r\n      }\r\n    );\r\n\r\n    // Haal de algemene configuraties op\r\n    const configurationsResponse = await axios.get(\r\n      `${baseURL}/configurations`,\r\n      {\r\n        headers: { Authorization: `Bearer ${jwtToken}` },\r\n      }\r\n    );\r\n\r\n    const partnerConfigs = partnerResponse.data?.data || [];\r\n    const configurations = configurationsResponse.data?.data || [];\r\n\r\n    // Haal gedetailleerde configuraties op voor elke configurationId in partnerConfigs\r\n    const partnerConfigsWithDetails = await Promise.all(\r\n      partnerConfigs.map(async (config) => {\r\n        const configurationId = config.configurationId._id;\r\n        try {\r\n          const configDetailsResponse = await axios.get(\r\n            `${baseURL}/configurations/${configurationId}`,\r\n            {\r\n              headers: { Authorization: `Bearer ${jwtToken}` },\r\n            }\r\n          );\r\n          const configDetails = configDetailsResponse.data?.data || {};\r\n          return { ...config, configurationDetails: configDetails };\r\n        } catch (error) {\r\n          console.error(\r\n            `Error fetching configuration details for ${configurationId}:`,\r\n            error\r\n          );\r\n          return { ...config, configurationDetails: {} };\r\n        }\r\n      })\r\n    );\r\n\r\n    // Return both partner configurations with details and general configurations\r\n    return { partnerConfigs: partnerConfigsWithDetails, configurations };\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchOptionNames = async (optionsData) => {\r\n  try {\r\n    const validOptions = optionsData.filter(\r\n      (option) => option.optionId && option.optionId !== \"undefined\"\r\n    );\r\n\r\n    if (validOptions.length === 0) {\r\n      return optionsData.map(() => ({ name: \"Unknown\" }));\r\n    }\r\n\r\n    const responses = await Promise.all(\r\n      validOptions.map((option) =>\r\n        axios.get(`${baseURL}/options/${option.optionId._id}`, {\r\n          headers: { Authorization: `Bearer ${jwtToken}` },\r\n        })\r\n      )\r\n    );\r\n\r\n    return responses.map((res, index) => {\r\n      const optionData = res.data?.data;\r\n      return {\r\n        optionId: validOptions[index].optionId,\r\n        name: optionData?.name,\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching option names:\", error);\r\n    return optionsData.map(() => ({ name: \"Unknown\" }));\r\n  }\r\n};\r\n\r\nexport const addNewColor = async (config, fieldName) => {\r\n  const configId = config.configurationId._id;\r\n\r\n  if (\r\n    !newColorName.value[configId] ||\r\n    newColorName.value[configId].trim() === \"\"\r\n  ) {\r\n    return; // Geen lege kleuren toevoegen\r\n  }\r\n\r\n  const newColor = {\r\n    name: newColorName.value[configId].trim(),\r\n    type: \"kleur\", // Aangeven dat het een kleur is\r\n    price: 0, // Stel hier een prijs in, als nodig\r\n  };\r\n\r\n  try {\r\n    // Verstuur een POST-verzoek naar de server om de kleur op te slaan\r\n    const response = await fetch(`${baseURL}/options`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newColor), // Verstuur de nieuwe kleur\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    // Controleer of 'data.data' en 'data.data._id' bestaan\r\n    if (data && data.data && data.data._id) {\r\n      // Voeg de nieuwe kleur toe aan de geselecteerde kleuren (selectedColors)\r\n      const color = {\r\n        optionId: data.data._id,\r\n        name: newColor.name,\r\n        images: [], // Voeg hier een lege array voor afbeeldingen toe\r\n      };\r\n      selectedColors.value.push(color); // Voeg toe aan selectedColors\r\n\r\n      // Voeg de nieuwe kleur toe aan de beschikbare kleuren (colors)\r\n      colors.value.push(color); // Voeg toe aan colors\r\n\r\n      // Voeg de nieuwe kleur toe aan de opties in config\r\n      config.options.push({\r\n        optionId: data.data._id, // Gebruik het ontvangen _id van de server\r\n        name: newColor.name,\r\n      });\r\n\r\n      // Voeg de nieuwe kleur toe aan de beschikbare kleuren array\r\n      availableNewColors.value.push({\r\n        optionId: data.data._id,\r\n        name: newColor.name,\r\n      });\r\n\r\n      // Reset het invoerveld\r\n      newColorName.value[configId] = \"\";\r\n    } else {\r\n      console.error(\r\n        \"Fout bij het toevoegen van de kleur: geen _id ontvangen\",\r\n        data\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.error(\r\n      \"Er is een fout opgetreden bij het versturen van de kleur:\",\r\n      error\r\n    );\r\n  }\r\n};\r\n","<template>\r\n  <div class=\"dropdown-selected\" @click=\"toggleDropdown\">\r\n    <!-- Trigger button for dropdown, display selected value or buttonText -->\r\n    <p class=\"text\">{{ selectedOption || buttonText }}</p>\r\n\r\n    <!-- Dropdown content -->\r\n    <div v-if=\"isOpen\" class=\"dropdown-options\" @click.stop>\r\n      <!-- Dropdown options -->\r\n      <div\r\n        v-for=\"(type, index) in types\"\r\n        :key=\"index\"\r\n        class=\"dropdown-option\"\r\n        @click=\"selectOption(type)\"\r\n        :class=\"{ selected: type === selectedOption }\"\r\n      >\r\n        <p>{{ type }}</p>\r\n      </div>\r\n      <!-- Input field and button for adding new option -->\r\n      <div class=\"dropdown-add-option\">\r\n        <input v-model=\"newOption\" type=\"text\" placeholder=\"Add new option\" />\r\n        <button @click=\"handleAddOption\">Add</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DropdownToggle\",\r\n  props: {\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    dropdownStates: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    buttonText: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    types: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      newOption: \"\",\r\n      selectedOption: null,\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen() {\r\n      return this.dropdownStates[this.fieldName];\r\n    },\r\n  },\r\n  methods: {\r\n    toggleDropdown() {\r\n      // Sluit andere dropdowns en toggle de huidige\r\n      for (const key in this.dropdownStates) {\r\n        if (key !== this.fieldName) {\r\n          this.dropdownStates[key] = false;\r\n        }\r\n      }\r\n      // Toggle de dropdown\r\n      this.dropdownStates[this.fieldName] =\r\n        !this.dropdownStates[this.fieldName];\r\n    },\r\n    selectOption(type) {\r\n      // Verander de geselecteerde waarde\r\n      this.selectedOption = type;\r\n      this.$emit(\"update:modelValue\", type);\r\n      this.toggleDropdown(); // Sluit de dropdown nadat een optie is geselecteerd\r\n    },\r\n    handleAddOption(event) {\r\n      // Voorkom dat de dropdown sluit wanneer de Add knop wordt geklikt\r\n      event.stopPropagation();\r\n\r\n      if (this.newOption.trim()) {\r\n        this.$emit(\"addOption\", this.newOption.trim());\r\n        this.newOption = \"\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  padding: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-option:hover,\r\n.dropdown-option.selected {\r\n  background-color: var(--blue-500); /* Highlight selected option */\r\n  color: white;\r\n}\r\n\r\n.dropdown-add-option {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n  gap: 8px;\r\n}\r\n\r\n.dropdown-add-option input {\r\n  flex: 1;\r\n  padding: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  border-radius: 4px;\r\n  background-color: var(--gray-800);\r\n  color: white;\r\n}\r\n\r\n.dropdown-add-option button {\r\n  padding: 4px 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: var(--blue-600);\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-add-option button:hover {\r\n  background-color: var(--blue-600);\r\n}\r\n\r\n.dropdown-selected .text {\r\n  opacity: 0.6;\r\n  font-size: 0.875rem;\r\n}\r\n</style>\r\n","import { render } from \"./DropdownToggle.vue?vue&type=template&id=a8090492&scoped=true\"\nimport script from \"./DropdownToggle.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownToggle.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownToggle.vue?vue&type=style&index=0&id=a8090492&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a8090492\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"dropdown-selected\" @click=\"toggleDropdown\">\r\n    <!-- Trigger button for dropdown -->\r\n    <p class=\"text\">{{ buttonText }}</p>\r\n\r\n    <!-- Dropdown content -->\r\n    <div v-if=\"isOpen\" class=\"dropdown-options\" @click.stop>\r\n      <slot></slot>\r\n      <!-- Slot voor dynamische inhoud in de dropdown -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DropdownToggle\",\r\n  props: {\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    dropdownStates: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    buttonText: {\r\n      type: String,\r\n      default: \"Choose your colors\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isAdding: false, // Flag om toe te voegen zonder de dropdown te sluiten\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen() {\r\n      return this.dropdownStates[this.fieldName];\r\n    },\r\n  },\r\n  methods: {\r\n    toggleDropdown() {\r\n      // Sluit alle andere dropdowns\r\n      for (const key in this.dropdownStates) {\r\n        if (key !== this.fieldName) {\r\n          this.dropdownStates[key] = false;\r\n        }\r\n      }\r\n\r\n      // Toggle de huidige dropdown\r\n      this.dropdownStates[this.fieldName] =\r\n        !this.dropdownStates[this.fieldName];\r\n    },\r\n\r\n    // Methode om een actie te doen zonder de dropdown te sluiten\r\n    handleAddAction(event) {\r\n      event.stopPropagation(); // Voorkom dat het klikken op de knop de dropdown sluit\r\n      this.isAdding = true;\r\n\r\n      // Doe de actie die je nodig hebt (bijv. iets toevoegen)\r\n      // Reset na de actie\r\n      this.isAdding = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-selected .text {\r\n  opacity: 0.6;\r\n  font-size: 0.875rem;\r\n}\r\n</style>\r\n","import { render } from \"./DropdownToggleColor.vue?vue&type=template&id=12b85d8e&scoped=true\"\nimport script from \"./DropdownToggleColor.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownToggleColor.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownToggleColor.vue?vue&type=style&index=0&id=12b85d8e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12b85d8e\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!-- Dropdown voor het weergeven van kleur opties -->\r\n    <div\r\n      v-for=\"(option, index) in colorOptions\"\r\n      :key=\"option.optionId\"\r\n      class=\"dropdown-option\"\r\n    >\r\n      <input\r\n        type=\"checkbox\"\r\n        :value=\"option.optionId\"\r\n        :checked=\"isSelected(option)\"\r\n        @click=\"toggleColor(option)\"\r\n      />\r\n      <span\r\n        class=\"color-bullet\"\r\n        :style=\"{ backgroundColor: option.name || 'transparent' }\"\r\n      ></span>\r\n      <p class=\"stroke\">-</p>\r\n      <p>{{ option.name || \"Unnamed Color\" }}</p>\r\n    </div>\r\n\r\n    <!-- Input veld voor het toevoegen van een nieuwe kleur -->\r\n    <div v-if=\"isOpen\" class=\"dropdown-add-option\">\r\n      <input v-model=\"newColor\" type=\"text\" placeholder=\"Add new color\" />\r\n      <button @click=\"addColor\">Add</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ColorSelectionToggle\",\r\n  props: {\r\n    selectedColors: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    dropdownStates: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    colorOptions: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      newColor: \"\", // Houdt de invoer voor de nieuwe kleur bij\r\n      isAddingColor: false, // Voeg een flag toe om het toevoegen van een kleur te controleren\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen() {\r\n      return this.dropdownStates[this.fieldName];\r\n    },\r\n  },\r\n  methods: {\r\n    // Controleer of een kleur is geselecteerd\r\n    isSelected(option) {\r\n      return this.selectedColors.some(\r\n        (color) => color.optionId === option.optionId\r\n      );\r\n    },\r\n\r\n    // Toggle de kleur in de lijst van geselecteerde kleuren\r\n    toggleColor(option) {\r\n      const selectedColorsCopy = [...this.selectedColors];\r\n      const index = selectedColorsCopy.findIndex(\r\n        (color) => color.optionId === option.optionId\r\n      );\r\n\r\n      if (index === -1) {\r\n        selectedColorsCopy.push({\r\n          optionId: option.optionId,\r\n          name: option.name || \"Unnamed Color\",\r\n          images: Array.isArray(option.images) ? option.images : [],\r\n        });\r\n      } else {\r\n        selectedColorsCopy.splice(index, 1);\r\n      }\r\n\r\n      // Emit de bijgewerkte lijst van geselecteerde kleuren\r\n      this.$emit(\"update:selectedColors\", selectedColorsCopy);\r\n\r\n      // Sluit de dropdown alleen als een kleur is geselecteerd, niet als een kleur is toegevoegd\r\n      if (option.name) {\r\n        this.dropdownStates[this.fieldName] = false;\r\n      }\r\n    },\r\n\r\n    // Voeg een nieuwe kleur optie toe\r\n    addColor() {\r\n      if (this.isAddingColor) return; // Voorkom herhaald klikken als het toevoegen bezig is\r\n      this.isAddingColor = true; // Zet de flag om aan te geven dat een kleur wordt toegevoegd\r\n\r\n      if (\r\n        this.newColor.trim() &&\r\n        !this.colorOptions.some(\r\n          (option) => option.name === this.newColor.trim()\r\n        )\r\n      ) {\r\n        const newColorOption = {\r\n          optionId: Date.now(), // Genereer een unieke ID\r\n          name: this.newColor.trim(),\r\n          images: [],\r\n        };\r\n        this.colorOptions.push(newColorOption); // Voeg de nieuwe kleur toe aan de lijst\r\n        this.$emit(\"update:colorOptions\", this.colorOptions); // Emit de bijgewerkte lijst van kleuren\r\n\r\n        this.newColor = \"\"; // Maak het invoerveld leeg\r\n      }\r\n\r\n      this.isAddingColor = false; // Reset de flag\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px;\r\n}\r\n\r\n.color-bullet {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  margin-right: 0.5rem;\r\n  display: inline-block;\r\n}\r\n\r\n.dropdown-option p {\r\n  opacity: 0.8;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.stroke {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\ninput[type=\"checkbox\"] {\r\n  margin-right: 10px;\r\n}\r\n\r\np {\r\n  margin: 0;\r\n}\r\n\r\n.dropdown-add-option {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n  gap: 8px;\r\n}\r\n\r\n.dropdown-add-option input {\r\n  flex: 1;\r\n  padding: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  border-radius: 4px;\r\n  background-color: var(--gray-800);\r\n  color: white;\r\n}\r\n\r\n.dropdown-add-option button {\r\n  padding: 4px 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: var(--blue-500);\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-add-option button:hover {\r\n  background-color: var(--blue-600);\r\n}\r\n</style>\r\n","import { render } from \"./ColorSelectionToggle.vue?vue&type=template&id=4a0f85b1&scoped=true\"\nimport script from \"./ColorSelectionToggle.vue?vue&type=script&lang=js\"\nexport * from \"./ColorSelectionToggle.vue?vue&type=script&lang=js\"\n\nimport \"./ColorSelectionToggle.vue?vue&type=style&index=0&id=4a0f85b1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a0f85b1\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"color-upload-section\">\r\n    <!-- Verborgen input voor het selecteren van bestanden -->\r\n    <input\r\n      type=\"file\"\r\n      :id=\"'images-' + index\"\r\n      style=\"display: none\"\r\n      multiple\r\n      @change=\"handleColorImageUpload($event, index)\"\r\n    />\r\n\r\n    <!-- Upload knop -->\r\n    <div\r\n      class=\"uploadImage\"\r\n      @click=\"() => (isModelLoaded ? null : triggerFileInput(index))\"\r\n      :style=\"{\r\n        justifyContent: colorUploads[index]?.images?.length\r\n          ? 'flex-start'\r\n          : 'center',\r\n      }\"\r\n    >\r\n      <div v-if=\"!colorUploads[index]?.images?.length\" class=\"text\">\r\n        <img src=\"../assets/icons/image-add.svg\" alt=\"image-add\" />\r\n        <p>Bestanden toevoegen</p>\r\n      </div>\r\n\r\n      <!-- Lijst van geüploade bestanden -->\r\n      <div\r\n        v-for=\"(previewUrl, imgIndex) in previewImages(\r\n          colorUploads[index]?.images\r\n        )\"\r\n        :key=\"imgIndex\"\r\n        class=\"image-preview\"\r\n      >\r\n        <!-- Template voor afbeeldingen -->\r\n        <template v-if=\"isImageUrl(previewUrl)\">\r\n          <img :src=\"previewUrl\" alt=\"Uploaded file preview\" width=\"100\" />\r\n        </template>\r\n\r\n        <template v-else>\r\n          <p>3D bestand geüpload:</p>\r\n          <div :id=\"'threejs-' + index\" class=\"threejs-container\" />\r\n          <button\r\n            @click=\"triggerFileInput(index)\"\r\n            v-if=\"isModelLoaded\"\r\n            class=\"btn active\"\r\n          >\r\n            Upload nieuw 3D model\r\n          </button>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { uploadFileToCloudinary } from \"../services/fileService\";\r\n\r\nexport default {\r\n  name: \"ImageUpload\",\r\n  props: {\r\n    color: Object,\r\n    index: Number,\r\n    colorUploads: Array,\r\n    partnerName: String,\r\n    partnerPackage: String,\r\n  },\r\n  data() {\r\n    return {\r\n      isModelLoaded: false,\r\n    };\r\n  },\r\n  methods: {\r\n    triggerFileInput(index) {\r\n      const fileInput = document.getElementById(`images-${index}`);\r\n      if (fileInput) {\r\n        fileInput.click();\r\n      } else {\r\n        console.warn(\"File input not found\");\r\n      }\r\n    },\r\n\r\n    async handleThumbnailUpload(event, index) {\r\n      const files = event.target.files;\r\n\r\n      // Controleer of er daadwerkelijk bestanden zijn geselecteerd\r\n      if (!files || files.length === 0) {\r\n        console.warn(\"❌ Geen thumbnail bestand geselecteerd.\");\r\n        return;\r\n      }\r\n\r\n      const validFiles = Array.from(files).filter((file) => {\r\n        // Controleer of het bestand een afbeelding is\r\n        return this.isImageFile(file);\r\n      });\r\n\r\n      if (!validFiles.length) {\r\n        console.warn(\"❌ Geen geldige thumbnail geselecteerd.\");\r\n        return;\r\n      }\r\n\r\n      const uploadedUrls = [];\r\n      for (let file of files) {\r\n        // Extra check of file null is\r\n        if (!file) {\r\n          console.error(\"❌ Thumbnail bestand is null.\");\r\n          continue;\r\n        }\r\n\r\n        // Controleer of de naam van het bestand beschikbaar is\r\n        if (!file.name) {\r\n          console.error(\"❌ Thumbnail bestand heeft geen naam.\");\r\n          continue;\r\n        }\r\n\r\n        const fileExtension = file.name.split(\".\").pop().toLowerCase();\r\n\r\n        try {\r\n          const secureUrl = await uploadFileToCloudinary(\r\n            file,\r\n            this.color.name,\r\n            this.partnerName\r\n          );\r\n\r\n          // Voeg de thumbnail toe aan de uploads\r\n          this.colorUploads[index] = this.colorUploads[index] || { images: [] };\r\n          this.colorUploads[index].images.push(secureUrl);\r\n          uploadedUrls.push(secureUrl);\r\n\r\n          // **Emit naar parent**\r\n          this.$emit(\"file-uploaded\", uploadedUrls);\r\n        } catch (error) {\r\n          console.error(\r\n            \"Fout bij uploaden van thumbnail naar Cloudinary:\",\r\n            error\r\n          );\r\n        }\r\n      }\r\n    },\r\n\r\n    async handleColorImageUpload(event, index) {\r\n      const files = event.target.files;\r\n      console.log(\"📂 Bestanden geselecteerd:\", files);\r\n      console.log(\"🔢 Index van upload:\", index);\r\n      console.log(\"👤 Partner Package:\", this.partnerPackage);\r\n      console.log(\"🎨 Kleur:\", this.color?.name);\r\n      console.log(\"👥 Partner naam:\", this.partnerName);\r\n\r\n      // Controleer of er daadwerkelijk bestanden zijn geselecteerd\r\n      if (!files || files.length === 0) {\r\n        console.warn(\"❌ Geen bestanden geselecteerd.\");\r\n        return;\r\n      }\r\n\r\n      const validFiles = Array.from(files).filter((file) => {\r\n        if (!file) return false; // Extra check om te voorkomen dat file null of undefined is\r\n\r\n        // Pro-gebruikers kunnen zowel afbeeldingen als 3D-bestanden uploaden\r\n        if (this.partnerPackage === \"pro\" && this.is3DFile(file)) {\r\n          return true;\r\n        }\r\n\r\n        // Standaard-gebruikers mogen alleen 2D-afbeeldingen uploaden\r\n        if (this.partnerPackage !== \"pro\" && this.is3DFile(file)) {\r\n          alert(\r\n            \"❌ Standaard-gebruikers kunnen alleen 2D-afbeeldingen uploaden.\"\r\n          );\r\n          return false;\r\n        }\r\n\r\n        // Controleer of het bestand een afbeelding is\r\n        return this.isImageFile(file);\r\n      });\r\n\r\n      if (!validFiles.length) {\r\n        console.warn(\"❌ Geen geldige bestanden geselecteerd.\");\r\n        return;\r\n      }\r\n\r\n      const uploadedUrls = [];\r\n      for (let file of validFiles) {\r\n        // Extra check of file null is\r\n        if (!file) {\r\n          console.error(\"❌ Bestand is null.\");\r\n          continue;\r\n        }\r\n\r\n        // Controleer of de naam van het bestand beschikbaar is\r\n        if (!file.name) {\r\n          console.error(\"❌ Bestand heeft geen naam.\");\r\n          continue;\r\n        }\r\n\r\n        try {\r\n          console.log(\"🚀 Uploading file:\", file.name);\r\n          const secureUrl = await uploadFileToCloudinary(\r\n            file,\r\n            this.color?.name || \"default_color\",\r\n            this.partnerName || \"default_partner\"\r\n          );\r\n          console.log(\"✅ Upload geslaagd! URL:\", secureUrl);\r\n\r\n          // Voeg de geüploade afbeelding toe aan de lijst\r\n          this.colorUploads[index] = this.colorUploads[index] || { images: [] };\r\n          this.colorUploads[index].images.push(secureUrl);\r\n          uploadedUrls.push(secureUrl);\r\n\r\n          // Render 3D model als het een 3D bestand is\r\n          if (this.is3DFile(file)) {\r\n            const fileExtension = file.name.split(\".\").pop().toLowerCase();\r\n            this.render3DModel(secureUrl, `threejs-${index}`, fileExtension);\r\n          }\r\n\r\n          // Emit naar parent component\r\n          this.$emit(\"file-uploaded\", uploadedUrls);\r\n        } catch (error) {\r\n          console.error(\r\n            \"❌ Fout bij uploaden naar Cloudinary:\",\r\n            error.message,\r\n            error\r\n          );\r\n        }\r\n      }\r\n    },\r\n\r\n    render3DModel(url, containerId, fileExtension) {\r\n      // Hier zou je Three.js of een andere 3D library kunnen gebruiken\r\n      this.isModelLoaded = true;\r\n    },\r\n\r\n    previewImages(images) {\r\n      return images || [];\r\n    },\r\n\r\n    isImageFile(file) {\r\n      return file && file.type && file.type.startsWith(\"image/\");\r\n    },\r\n\r\n    isImageUrl(url) {\r\n      return /\\.(jpeg|jpg|png|gif|webp)$/i.test(url);\r\n    },\r\n\r\n    is3DFile(file) {\r\n      return file && file.name && /\\.(glb|gltf|fbx|obj)$/i.test(file.name);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.color-upload-section,\r\n.image-preview div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.uploadImage {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  border-radius: 0.25rem;\r\n  width: 100%;\r\n  background-color: var(--gray-700);\r\n}\r\n\r\n.uploadImage .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.image-preview {\r\n  width: 50px;\r\n}\r\n\r\n.image-preview img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n}\r\n\r\n.image-preview div {\r\n  width: 100%;\r\n}\r\n\r\n.threejs-container {\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n</style>\r\n","import { render } from \"./ImageUpload.vue?vue&type=template&id=2effda9c&scoped=true\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js\"\n\nimport \"./ImageUpload.vue?vue&type=style&index=0&id=2effda9c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2effda9c\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, toRaw, computed, onMounted, nextTick } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = import.meta.env.VITE_API_BASE_URL;\r\n\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\nimport { fetchPartnerData } from \"../../services/apiService\";\r\nimport { checkToken, fetchPartnerPackage } from \"../../services/authService\";\r\nimport { fetchPartnerConfigurations } from \"../../services/configurationService\";\r\nimport {\r\n  fetchProductTypes,\r\n  getcolors,\r\n  addProductType,\r\n  add3DProduct,\r\n  add2DProduct,\r\n} from \"../../services/productService\";\r\nimport DropdownToggle from \"../../components/DropdownToggle.vue\";\r\nimport DropdownToggleColor from \"../../components/DropdownToggleColor.vue\";\r\nimport ColorSelectionToggle from \"../../components/ColorSelectionToggle.vue\";\r\nimport ImageUpload from \"../../components/ImageUpload.vue\";\r\n\r\n// Reactive variables\r\nconst router = useRouter();\r\nconst partnerConfigurations = ref([]);\r\nconst productCode = ref(\"\");\r\nconst productName = ref(\"\");\r\nconst brand = ref(\"\");\r\nconst productType = ref(\"\");\r\nconst productPrice = ref(\"\");\r\nconst description = ref(\"\");\r\nconst colorUploads = ref([]);\r\nconst dropdownStates = ref({});\r\nconst uploadedFile = ref(null);\r\nconst thumbnail = ref(null);\r\nconst modelFile = ref(null);\r\nconst newColorName = ref(\"\");\r\nconst newProducts = ref([]);\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nconst partnerId = tokenPayload.companyId;\r\nconst selectedType = ref(\"\");\r\nconst partnerPackage = ref(\"\");\r\nconst colors = ref([]);\r\nconst partnerName = ref(\"\");\r\nconst productTypes = ref([]);\r\n\r\n// Object to store selected colors per configuration\r\nconst selectedColors = ref({});\r\n\r\nconst buttonText = (configId) => {\r\n  const selected = selectedColors.value[configId]?.length || 0;\r\n  if (selected === 0) {\r\n    return \"Select colors\";\r\n  }\r\n\r\n  const colorNames = selectedColors.value[configId]\r\n    .slice(0, 2)\r\n    .map((color) => color.name)\r\n    .join(\", \");\r\n\r\n  if (selectedColors.value[configId].length > 2) {\r\n    return `${colorNames} + ${selected - 2} more`;\r\n  }\r\n\r\n  return colorNames;\r\n};\r\n\r\n// Fetch colors for each configuration\r\nconst fetchedColors = ref([]);\r\nconst fetchcolors = async (partnerId) => {\r\n  try {\r\n    const selectedOptions = await getcolors(partnerId);\r\n    if (\r\n      !selectedOptions ||\r\n      !Array.isArray(selectedOptions) ||\r\n      selectedOptions.length === 0\r\n    ) {\r\n      console.error(\"❌ Geen geldige kleuren ontvangen\");\r\n      return;\r\n    }\r\n\r\n    fetchedColors.value = selectedOptions.map((option) => ({\r\n      optionId: option.optionId || \"\",\r\n      name: option.color || \"Unnamed Color\",\r\n      images: option.images || [],\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"❌ Fout in fetchcolors:\", error);\r\n  }\r\n};\r\n\r\n// Map colors per configuration\r\nconst fetchedColorsPerConfig = {};\r\n\r\nconst handleFileUpload = (uploadedUrls) => {\r\n  if (!uploadedUrls || uploadedUrls.length === 0) {\r\n    console.error(\"❌ Geen geldige upload-URL ontvangen.\");\r\n    return;\r\n  }\r\n\r\n  console.log(\"✅ Bestanden succesvol geüpload:\", uploadedUrls);\r\n\r\n  // Voorbeeld: Voeg de eerste geüploade URL toe aan een state variabele\r\n  uploadedFile.value = uploadedUrls[0]; // Werk nu met de URL i.p.v. een bestand\r\n};\r\n\r\nconst handleThumbnailUpload = (event) => {\r\n  const files = event.target.files;\r\n  console.log(files);\r\n\r\n  if (!files || files.length === 0) {\r\n    console.error(\"❌ Geen geldige afbeeldings-URL.\");\r\n    return;\r\n  }\r\n\r\n  const file = files[0];\r\n  if (!file || !file.name) {\r\n    console.error(\"❌ Bestand heeft geen naam.\");\r\n    return;\r\n  }\r\n\r\n  // Update the thumbnail value for the thumbnail file\r\n  thumbnail.value = file; // Use a separate reference for the thumbnail file\r\n};\r\n\r\nconst modelFileInput = ref(null);\r\n\r\nconst addNewProduct = async () => {\r\n  try {\r\n    // Validatie van verplichte velden\r\n    if (!productName.value || !productPrice.value || !productCode.value) {\r\n      console.error(\"❌ Missing required fields.\");\r\n      return;\r\n    }\r\n\r\n    // Validatie of kleuren geselecteerd zijn\r\n    if (\r\n      Object.values(selectedColors.value).every((colors) => colors.length === 0)\r\n    ) {\r\n      console.error(\"❌ No colors selected.\");\r\n      return;\r\n    }\r\n\r\n    // Toevoegen van afbeeldingen voor elke kleurconfiguratie\r\n    partnerConfigurations.value.forEach((config) => {\r\n      if (config.configurationDetails.fieldType === \"color\") {\r\n        const configId = config.configurationId._id;\r\n        const selectedColorOptions = selectedColors.value[configId] || [];\r\n\r\n        // Log om te controleren of we de geselecteerde kleuren hebben\r\n        console.log(\r\n          \"Selected colors for configId:\",\r\n          configId,\r\n          selectedColorOptions\r\n        );\r\n\r\n        config.options.forEach((option) => {\r\n          // Haal de afbeeldingen op voor de geselecteerde kleuropties\r\n          const colorImages =\r\n            fetchedColorsPerConfig[configId]?.find(\r\n              (color) => color.optionId === option.optionId\r\n            )?.images || []; // Gebruik een lege array als er geen afbeeldingen zijn\r\n\r\n          console.log(\"Color images for option\", option.optionId, colorImages);\r\n\r\n          // Voeg de afbeeldingen toe aan de optie als de kleur geselecteerd is\r\n          if (\r\n            selectedColorOptions.some(\r\n              (selected) => selected.optionId === option.optionId\r\n            )\r\n          ) {\r\n            option.images = colorImages; // Kleurafbeeldingen toewijzen\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Maak de API-aanroep met de bijgewerkte configuraties en afbeeldingen\r\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\r\n    partnerPackage.value = partnerPackageResponse || \"\";\r\n\r\n    let modelFile = modelFileInput.value?.files[0];\r\n\r\n    if (partnerPackage.value == \"pro\" && selectedType.value === \"3D\") {\r\n      await add3DProduct({\r\n        productCode: productCode.value,\r\n        productName: productName.value,\r\n        productType: productType.value || \"sunglasses\", // Zorg ervoor dat dit correct wordt ingevuld\r\n        productPrice: productPrice.value,\r\n        description: description.value,\r\n        brand: brand.value,\r\n        activeInactive: \"active\",\r\n        partnerId,\r\n        configurations: partnerConfigurations.value,\r\n        file: modelFile, // 3D model bestand\r\n        thumbnail: thumbnail.value, // Correcte verwijzing naar de thumbnail\r\n      });\r\n    }\r\n\r\n    if (partnerPackage.value == \"pro\" && selectedType.value === \"2D\") {\r\n      console.log(partnerPackage.value);\r\n      console.log(uploadedFile.value);\r\n\r\n      // Controleer of partnerConfigurations correct is gedefinieerd en niet leeg is\r\n      if (\r\n        !partnerConfigurations.value ||\r\n        partnerConfigurations.value.length === 0\r\n      ) {\r\n        console.error(\"❌ Geen geldige configuraties gevonden!\");\r\n        return;\r\n      }\r\n\r\n      // Log de configuraties om te zien of ze goed zijn geladen\r\n      console.log(\"Partner configurations:\", partnerConfigurations.value);\r\n\r\n      // Controleer of de configuratie-ID beschikbaar is\r\n      const selectedConfigurationId =\r\n        partnerConfigurations.value[0]?.configurationId?._id || null;\r\n\r\n      // Log de configuratie-ID voor debugging\r\n      console.log(\r\n        \"selectedConfigurationId in addNewProduct:\",\r\n        selectedConfigurationId\r\n      );\r\n\r\n      if (!selectedConfigurationId) {\r\n        console.error(\"❌ selectedConfigurationId ontbreekt in addNewProduct!\");\r\n        return;\r\n      }\r\n\r\n      // Controleer of er afbeeldingen zijn om door te geven\r\n      if (!uploadedFile.value) {\r\n        console.error(\"❌ Geen afbeeldingen om te uploaden!\");\r\n        return;\r\n      }\r\n\r\n      // Zorg ervoor dat de afbeeldingen in de juiste structuur zijn\r\n      const images = Array.isArray(uploadedFile.value)\r\n        ? uploadedFile.value\r\n        : [uploadedFile.value]; // Zet het bestand om naar een array als het een enkel bestand is\r\n\r\n      // De afbeeldingen voor het 2D-product kunnen verschillende opties hebben, dus we moeten zorgen dat ze correct worden doorgegeven\r\n      try {\r\n        // Converteer de Proxy naar een eenvoudig array-object voor doorgeven aan add2DProduct\r\n        const configurations = JSON.parse(\r\n          JSON.stringify(partnerConfigurations.value)\r\n        );\r\n        console.log(\r\n          \"Partner configurations passed to add2DProduct:\",\r\n          configurations\r\n        );\r\n\r\n        // Geef de gegevens door aan de functie\r\n        await add2DProduct({\r\n          file: uploadedFile.value,\r\n          configurationId: selectedConfigurationId,\r\n          configurations: configurations, // Geef de configuraties direct door\r\n          productCode: productCode.value,\r\n          productName: productName.value,\r\n          productType: selectedType.value || \"sunglasses\",\r\n          productPrice: productPrice.value,\r\n          description: description.value,\r\n          brand: brand.value,\r\n          activeInactive: \"active\",\r\n          partnerId,\r\n          images: images, // Zorg ervoor dat de afbeeldingen een array zijn en doorgegeven worden\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Fout bij het toevoegen van product:\", error);\r\n      }\r\n    }\r\n\r\n    // Redirect naar de homepagina na het toevoegen\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    console.error(\"❌ Error adding product:\", error);\r\n  }\r\n};\r\n\r\nonMounted(async () => {\r\n  if (!partnerId) {\r\n    console.error(\"❌ Partner ID is niet beschikbaar.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await checkToken();\r\n\r\n    // Fetch partner data\r\n    const partnerData = await fetchPartnerData(partnerId, jwtToken);\r\n    partnerName.value = partnerData?.name || \"\";\r\n\r\n    // Fetch partner package\r\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\r\n    partnerPackage.value = partnerPackageResponse || \"\";\r\n\r\n    // Fetch partner configurations\r\n    const { partnerConfigs } = await fetchPartnerConfigurations(\r\n      partnerId,\r\n      jwtToken\r\n    );\r\n    partnerConfigurations.value = partnerConfigs || [];\r\n\r\n    // Fetch colors\r\n    await fetchcolors(partnerId);\r\n\r\n    // Wait for Vue reactivity to process the color updates\r\n    await nextTick();\r\n\r\n    const rawFetchedColors = fetchedColors.value;\r\n\r\n    if (rawFetchedColors.length > 0) {\r\n      partnerConfigurations.value.forEach((config) => {\r\n        if (config?.configurationDetails?.fieldType === \"color\") {\r\n          const configId = config.configurationId._id;\r\n\r\n          const configColors = config.options.map((option) => {\r\n            return rawFetchedColors.find(\r\n              (color) => color.optionId === option.optionId._id\r\n            );\r\n          });\r\n\r\n          fetchedColorsPerConfig[configId] = configColors;\r\n          selectedColors.value[configId] = []; // Initialize selected colors for this config\r\n        }\r\n      });\r\n    } else {\r\n      console.warn(\"⚠️ Geen kleuren gevonden.\");\r\n    }\r\n\r\n    // Fetch product types\r\n    const fetchedProductTypes = await fetchProductTypes(partnerId);\r\n    productTypes.value = fetchedProductTypes;\r\n  } catch (error) {\r\n    console.error(\"❌ Error tijdens initialisatie:\", error);\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Add new product</h1>\r\n    <form @submit.prevent=\"addNewProduct\">\r\n      <h3>Product info:</h3>\r\n      <div class=\"row\" v-if=\"partnerPackage == 'pro'\">\r\n        <div class=\"column\">\r\n          <label for=\"2DOr3DProduct\">Select Product Type:</label>\r\n          <select v-model=\"selectedType\" id=\"2DOr3DProduct\">\r\n            <option value=\"2D\">2D Product</option>\r\n            <option value=\"3D\">3D Product</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productCode\">Product Code:</label>\r\n          <input v-model=\"productCode\" id=\"productCode\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"productName\">Product Name:</label>\r\n          <input v-model=\"productName\" id=\"productName\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productType\">Type Of Product:</label>\r\n          <div class=\"dropdown\">\r\n            <DropdownToggle\r\n              v-model=\"productType\"\r\n              :fieldName=\"'sole_top'\"\r\n              :dropdownStates=\"dropdownStates\"\r\n              :buttonText=\"'Select type of product'\"\r\n              :types=\"productTypes\"\r\n              @addOption=\"addProductType(productTypes, $event)\"\r\n            >\r\n            </DropdownToggle>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"brand\">Brand:</label>\r\n          <input v-model=\"brand\" id=\"brand\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productPrice\">Price:</label>\r\n          <input\r\n            v-model=\"productPrice\"\r\n            id=\"productPrice\"\r\n            type=\"number\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"description\">Description:</label>\r\n          <textarea v-model=\"description\" id=\"description\" required></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <h3>Configurations:</h3>\r\n      <template v-if=\"partnerPackage == 'standard'\">\r\n        <template\r\n          v-for=\"(config, index) in partnerConfigurations\"\r\n          :key=\"config._id\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"column\">\r\n              <label :for=\"config.configurationDetails.fieldName\">\r\n                {{ config.configurationDetails.fieldName }}:\r\n              </label>\r\n\r\n              <!-- Text field -->\r\n              <template v-if=\"config.configurationDetails.fieldType === 'Text'\">\r\n                <input\r\n                  v-model=\"config.value\"\r\n                  :id=\"config.configurationDetails.fieldName\"\r\n                  type=\"text\"\r\n                />\r\n              </template>\r\n\r\n              <!-- Dropdown field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'Dropdown'\"\r\n              >\r\n                <DropdownToggleColor\r\n                  :fieldName=\"config.configurationDetails.fieldName\"\r\n                  :dropdownStates=\"dropdownStates\"\r\n                  buttonText=\"Toggle Dropdown\"\r\n                >\r\n                  <div\r\n                    v-for=\"(option, optionIndex) in configurations\"\r\n                    :key=\"optionIndex\"\r\n                  >\r\n                    <span\r\n                      class=\"color-bullet\"\r\n                      :style=\"{ backgroundColor: color.name || 'transparent' }\"\r\n                    ></span>\r\n                    {{ color.name || \"Unnamed Color\" }}\r\n                  </div>\r\n                </DropdownToggleColor>\r\n              </template>\r\n\r\n              <!-- Color field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'color'\"\r\n              >\r\n                <div class=\"color-dropdown\">\r\n                  <div class=\"dropdown\">\r\n                    <DropdownToggleColor\r\n                      :fieldName=\"config.configurationDetails.fieldName\"\r\n                      :dropdownStates=\"dropdownStates\"\r\n                      :buttonText=\"buttonText(config.configurationId._id)\"\r\n                    >\r\n                      <ColorSelectionToggle\r\n                        v-model:selectedColors=\"\r\n                          selectedColors[config.configurationId._id]\r\n                        \"\r\n                        :colors=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :colorOptions=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                      />\r\n                    </DropdownToggleColor>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Upload zone voor 'standard' pakket -->\r\n          <!-- Upload zone per geselecteerde kleur binnen een configuratie -->\r\n          <template v-if=\"config.configurationDetails.fieldType === 'color'\">\r\n            <div\r\n              v-for=\"(selectedColor, colorIndex) in selectedColors[\r\n                config.configurationId._id\r\n              ] || []\"\r\n              :key=\"colorIndex\"\r\n              class=\"column\"\r\n            >\r\n              <p>{{ selectedColor.name }} - Upload images</p>\r\n              <ImageUpload\r\n                @file-uploaded=\"handleFileUpload\"\r\n                v-if=\"selectedColor.name\"\r\n                :color=\"selectedColor\"\r\n                :index=\"colorIndex\"\r\n                :colorUploads=\"colorUploads\"\r\n                :partnerPackage=\"partnerPackage\"\r\n                :partnerName=\"partnerName\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </template>\r\n\r\n      <template v-if=\"partnerPackage == 'pro'\">\r\n        <div class=\"configurations\">\r\n          <!-- Configuraties voor het product -->\r\n          <template\r\n            v-for=\"(config, index) in partnerConfigurations\"\r\n            :key=\"config._id\"\r\n          >\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label\r\n                  v-if=\"config.configurationDetails\"\r\n                  :for=\"config.configurationDetails.fieldName\"\r\n                >\r\n                  {{ config.configurationDetails.fieldName }}:\r\n                </label>\r\n\r\n                <!-- Text field -->\r\n                <template\r\n                  v-if=\"config.configurationDetails?.fieldType === 'Text'\"\r\n                >\r\n                  <input\r\n                    v-model=\"config.value\"\r\n                    :id=\"config.configurationDetails.fieldName\"\r\n                    type=\"text\"\r\n                  />\r\n                </template>\r\n\r\n                <!-- Dropdown field -->\r\n                <template\r\n                  v-else-if=\"\r\n                    config.configurationDetails?.fieldType === 'Dropdown'\r\n                  \"\r\n                >\r\n                  <DropdownToggleColor\r\n                    :fieldName=\"config.configurationDetails.fieldName\"\r\n                    :dropdownStates=\"dropdownStates\"\r\n                    buttonText=\"Toggle Dropdown\"\r\n                  >\r\n                    <div\r\n                      v-for=\"(option, optionIndex) in config.options\"\r\n                      :key=\"optionIndex\"\r\n                    >\r\n                      <span\r\n                        class=\"color-bullet\"\r\n                        :style=\"{\r\n                          backgroundColor: option.name || 'transparent',\r\n                        }\"\r\n                      ></span>\r\n                      {{ option.name || \"Unnamed Color\" }}\r\n                    </div>\r\n                  </DropdownToggleColor>\r\n                </template>\r\n\r\n                <!-- Color field -->\r\n                <template\r\n                  v-else-if=\"config.configurationDetails?.fieldType === 'color'\"\r\n                >\r\n                  <div class=\"color-dropdown\">\r\n                    <div class=\"dropdown\">\r\n                      <DropdownToggleColor\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :buttonText=\"buttonText(config.configurationId._id)\"\r\n                      >\r\n                        <ColorSelectionToggle\r\n                          v-model:selectedColors=\"\r\n                            selectedColors[config.configurationId._id]\r\n                          \"\r\n                          :colors=\"\r\n                            fetchedColorsPerConfig[\r\n                              config.configurationId._id\r\n                            ] || []\r\n                          \"\r\n                          :dropdownStates=\"dropdownStates\"\r\n                          :fieldName=\"config.configurationDetails.fieldName\"\r\n                          :colorOptions=\"\r\n                            fetchedColorsPerConfig[\r\n                              config.configurationId._id\r\n                            ] || []\r\n                          \"\r\n                        />\r\n                      </DropdownToggleColor>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n\r\n        <!-- Uploadzone voor 2D of 3D afhankelijk van keuze -->\r\n        <div v-if=\"selectedType === '2D'\" class=\"uploadzones\">\r\n          <h3>Upload Images for 2D Product:</h3>\r\n          <template\r\n            v-for=\"(config, index) in partnerConfigurations\"\r\n            :key=\"config._id\"\r\n          >\r\n            <!-- Upload zones per geselecteerde kleur binnen configuratie -->\r\n            <template v-if=\"config.configurationDetails.fieldType === 'color'\">\r\n              <div\r\n                v-for=\"(selectedColor, colorIndex) in selectedColors[\r\n                  config.configurationId._id\r\n                ] || []\"\r\n                :key=\"colorIndex\"\r\n                class=\"column\"\r\n              >\r\n                <p>{{ selectedColor.name }} - Upload images</p>\r\n                <ImageUpload\r\n                  @file-uploaded=\"handleFileUpload\"\r\n                  v-if=\"selectedColor.name\"\r\n                  :color=\"selectedColor\"\r\n                  :index=\"colorIndex\"\r\n                  :colorUploads=\"colorUploads\"\r\n                  :partnerPackage=\"partnerPackage\"\r\n                  :partnerName=\"partnerName\"\r\n                />\r\n              </div>\r\n            </template>\r\n          </template>\r\n        </div>\r\n\r\n        <div v-if=\"selectedType === '3D'\" class=\"uploadzones\">\r\n          <div class=\"uploadzone\">\r\n            <h3>Upload 3D Model File:</h3>\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <input\r\n                  ref=\"modelFileInput\"\r\n                  type=\"file\"\r\n                  @change=\"handleFileUpload\"\r\n                  accept=\".glb,.fbx,.obj\"\r\n                />\r\n                <p>Upload 3D model file (GLB, FBX, OBJ formats)</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"uploadzone\">\r\n            <!-- Upload de thumbnail voor het 3D-model -->\r\n            <h3>Upload Thumbnail for 3D Model:</h3>\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <input\r\n                  type=\"file\"\r\n                  @change=\"handleThumbnailUpload\"\r\n                  accept=\".jpeg,.jpg,.png,.gif\"\r\n                />\r\n                <p>Upload Thumbnail (JPG, PNG, GIF formats)</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <button class=\"btn active\" type=\"submit\">Add Product</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-weight: bold;\r\n  padding: 10px;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 5px;\r\n}\r\n\r\nform,\r\n.color-dropdown {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform h3 {\r\n  width: 100%;\r\n}\r\n\r\nform .row,\r\nform .column,\r\n.color-upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect,\r\ntextarea {\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  width: 100%;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.colorpicker {\r\n  padding: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: transparent;\r\n  border: none;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\n.color-box {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.image-preview {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.preview-image {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n}\r\n\r\n.error-message {\r\n  color: #d34848;\r\n  margin-top: 20px;\r\n}\r\n\r\n.color-dropdown {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected {\r\n  padding: 8px;\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected span {\r\n  color: var(--text-color);\r\n}\r\n\r\n.color-bullet {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: transparent;\r\n}\r\n\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 8px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-option input {\r\n  width: auto;\r\n}\r\n\r\n.dropdown-option:hover {\r\n  background-color: #555;\r\n}\r\n\r\n.dropdown-option:active {\r\n  background-color: #444;\r\n}\r\n\r\n.configurations {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  gap: 2rem;\r\n  width: 100%;\r\n}\r\n\r\n.uploadzones {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  gap: 1rem;\r\n  width: 100%;\r\n}\r\n\r\n.uploadzones .uploadzone {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n\r\n  .configurations {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  .configurations {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddNewProductPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewProductPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewProductPage.vue?vue&type=style&index=0&id=7c2856f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c2856f6\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted, nextTick } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = import.meta.env.VITE_API_BASE_URL;\r\n\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\nimport { fetchPartnerData } from \"../../services/apiService\";\r\nimport { checkToken, fetchPartnerPackage } from \"../../services/authService\";\r\nimport { fetchPartnerConfigurations } from \"../../services/configurationService\";\r\nimport {\r\n  fetchProductTypes,\r\n  getcolors,\r\n  addProductType,\r\n} from \"../../services/productService\";\r\nimport DropdownToggle from \"../../components/DropdownToggle.vue\";\r\nimport DropdownToggleColor from \"../../components/DropdownToggleColor.vue\";\r\nimport ColorSelectionToggle from \"../../components/ColorSelectionToggle.vue\";\r\nimport ImageUpload from \"../../components/ImageUpload.vue\";\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst productId = route.params.id;\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nconst partnerId = tokenPayload.companyId;\r\nconst partnerConfigurations = ref([]);\r\nconst productCode = ref(\"\");\r\nconst partnerName = ref(\"\");\r\nconst productName = ref(\"\");\r\nconst productType = ref(\"\");\r\nconst activeInactive = ref(\"\");\r\nconst brand = ref(\"\");\r\nconst productPrice = ref(\"\");\r\nconst description = ref(\"\");\r\nconst colorUploads = ref([]);\r\nconst uploadedFile = ref(null);\r\nconst selectedType = ref(\"\");\r\nconst partnerPackage = ref(\"\");\r\nconst images = ref([]);\r\nconst selectedOptions = ref([]);\r\nconst selectedOption = ref([]);\r\nconst productTypes = ref([]);\r\nconst dropdownStates = ref({\r\n  sole_top: false, // Begin met de status van de dropdown als gesloten\r\n});\r\n\r\nconst fetchProductData = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/products/${productId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n\r\n    const productData = response.data?.data?.product;\r\n\r\n    if (productData) {\r\n      productCode.value = productData.productCode;\r\n      productName.value = productData.productName;\r\n      productType.value = productData.productType;\r\n      activeInactive.value = productData.activeInactive;\r\n      brand.value = productData.brand;\r\n      productPrice.value = productData.productPrice;\r\n      description.value = productData.description;\r\n\r\n      // **Bestaande afbeeldingen in colorUploads zetten**\r\n      let colorUploadsArray = [];\r\n\r\n      if (productData.configurations) {\r\n        productData.configurations.forEach((config, index) => {\r\n          let images = [];\r\n\r\n          if (config.selectedOptions) {\r\n            config.selectedOptions.forEach((option) => {\r\n              if (option.images && option.images.length > 0) {\r\n                images.push(...option.images);\r\n              }\r\n            });\r\n          }\r\n\r\n          colorUploadsArray[index] = { images };\r\n        });\r\n      }\r\n\r\n      colorUploads.value = colorUploadsArray; // Opslaan in Vue-reactive state\r\n    } else {\r\n      console.error(\"Geen productdata gevonden.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching product data:\", error);\r\n  }\r\n};\r\n\r\nconst editProduct = async () => {\r\n  try {\r\n    if (!productName.value || !productPrice.value || !productCode.value) {\r\n      console.error(\"❌ Missing required fields.\");\r\n      return;\r\n    }\r\n\r\n    if (!uploadedFile.value) {\r\n      console.error(\"❌ No file uploaded.\");\r\n      return;\r\n    }\r\n\r\n    await updateProduct(productId, {\r\n      productCode: productCode.value,\r\n      productName: productName.value,\r\n      productType: selectedType.value,\r\n      productPrice: productPrice.value,\r\n      description: description.value,\r\n      brand: brand.value,\r\n      file: uploadedFile.value,\r\n      configurations: partnerConfigurations.value,\r\n    });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    console.error(\"❌ Error updating product:\", error);\r\n  }\r\n};\r\n\r\n// Object to store selected colors per configuration\r\nconst selectedColors = ref({});\r\n\r\nconst buttonText = (configId) => {\r\n  const selected = selectedColors.value[configId]?.length || 0;\r\n  if (selected === 0) {\r\n    return \"Select colors\";\r\n  }\r\n\r\n  const colorNames = selectedColors.value[configId]\r\n    .slice(0, 2)\r\n    .map((color) => color.name)\r\n    .join(\", \");\r\n\r\n  if (selectedColors.value[configId].length > 2) {\r\n    return `${colorNames} + ${selected - 2} more`;\r\n  }\r\n\r\n  return colorNames;\r\n};\r\n\r\n// Fetch colors for each configuration\r\nconst fetchedColors = ref([]);\r\nconst fetchcolors = async (partnerId) => {\r\n  try {\r\n    const selectedOptions = await getcolors(partnerId);\r\n    if (\r\n      !selectedOptions ||\r\n      !Array.isArray(selectedOptions) ||\r\n      selectedOptions.length === 0\r\n    ) {\r\n      console.error(\"❌ Geen geldige kleuren ontvangen\");\r\n      return;\r\n    }\r\n\r\n    fetchedColors.value = selectedOptions.map((option) => ({\r\n      optionId: option.optionId || \"\",\r\n      name: option.color || \"Unnamed Color\",\r\n      images: option.images || [],\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"❌ Fout in fetchcolors:\", error);\r\n  }\r\n};\r\n\r\n// Map colors per configuration\r\nconst fetchedColorsPerConfig = {};\r\n\r\nconst handleFileUpload = (fileUrl) => {\r\n  if (!fileUrl || !fileUrl[0]) {\r\n    console.error(\"❌ Geen geldige afbeeldings-URL.\");\r\n    return;\r\n  }\r\n\r\n  // Zet de eerste waarde van de array als de URL\r\n  uploadedFile.value = fileUrl; // Gebruik enkel de eerste URL als string\r\n};\r\n\r\nonMounted(async () => {\r\n  if (!partnerId) {\r\n    console.error(\"❌ Partner ID is niet beschikbaar.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await checkToken();\r\n\r\n    // Fetch partner data\r\n    const partnerData = await fetchPartnerData(partnerId, jwtToken);\r\n    partnerName.value = partnerData?.name || \"\";\r\n\r\n    // Fetch partner package\r\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\r\n    partnerPackage.value = partnerPackageResponse || \"\";\r\n\r\n    // Fetch partner configurations\r\n    const { partnerConfigs } = await fetchPartnerConfigurations(\r\n      partnerId,\r\n      jwtToken\r\n    );\r\n\r\n    partnerConfigurations.value = partnerConfigs || [];\r\n\r\n    // Fetch colors\r\n    await fetchProductData();\r\n    await fetchcolors(partnerId);\r\n\r\n    // Wait for Vue reactivity to process the color updates\r\n    await nextTick();\r\n\r\n    const rawFetchedColors = fetchedColors.value;\r\n\r\n    if (rawFetchedColors.length > 0) {\r\n      partnerConfigurations.value.forEach((config) => {\r\n        if (config?.configurationDetails?.fieldType === \"color\") {\r\n          const configId = config.configurationId._id;\r\n\r\n          const configColors = config.options.map((option) => {\r\n            return rawFetchedColors.find(\r\n              (color) => color.optionId === option.optionId._id\r\n            );\r\n          });\r\n\r\n          fetchedColorsPerConfig[configId] = configColors;\r\n          selectedColors.value[configId] = []; // Initialize selected colors for this config\r\n        }\r\n      });\r\n    } else {\r\n      console.warn(\"⚠️ Geen kleuren gevonden.\");\r\n    }\r\n\r\n    // Fetch product types\r\n    const fetchedProductTypes = await fetchProductTypes(partnerId);\r\n    productTypes.value = fetchedProductTypes;\r\n  } catch (error) {\r\n    console.error(\"❌ Error tijdens initialisatie:\", error);\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit Product</h1>\r\n    <form @submit.prevent=\"editProduct\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productCode\">Product Code:</label>\r\n          <input v-model=\"productCode\" id=\"productCode\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"productName\">Product Name:</label>\r\n          <input v-model=\"productName\" id=\"productName\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productType\">Type Of Product:</label>\r\n          <div class=\"dropdown\" v-if=\"productTypes.length > 0\">\r\n            <DropdownToggle\r\n              v-model=\"selectedType\"\r\n              :fieldName=\"'sole_top'\"\r\n              :dropdownStates=\"dropdownStates\"\r\n              :buttonText=\"'Select colors'\"\r\n              :types=\"productTypes\"\r\n              @addOption=\"addProductType(productTypes, $event)\"\r\n            >\r\n            </DropdownToggle>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"brand\">Brand:</label>\r\n          <input v-model=\"brand\" id=\"brand\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productPrice\">Price:</label>\r\n          <input\r\n            v-model=\"productPrice\"\r\n            id=\"productPrice\"\r\n            type=\"number\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"description\">Description:</label>\r\n          <textarea v-model=\"description\" id=\"description\" required></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Render partner configurations dynamically -->\r\n      <template v-if=\"partnerPackage == 'standard'\">\r\n        <template\r\n          class=\"configurations\"\r\n          v-for=\"(config, index) in partnerConfigurations\"\r\n          :key=\"config._id\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"column\">\r\n              <label :for=\"config.configurationDetails.fieldName\">\r\n                {{ config.configurationDetails.fieldName }}:\r\n              </label>\r\n\r\n              <!-- Text field -->\r\n              <template v-if=\"config.configurationDetails.fieldType === 'Text'\">\r\n                <input\r\n                  v-model=\"config.value\"\r\n                  :id=\"config.configurationDetails.fieldName\"\r\n                  type=\"text\"\r\n                />\r\n              </template>\r\n\r\n              <!-- Dropdown field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'Dropdown'\"\r\n              >\r\n                <DropdownToggleColor\r\n                  :fieldName=\"config.configurationDetails.fieldName\"\r\n                  :dropdownStates=\"dropdownStates\"\r\n                  buttonText=\"Toggle Dropdown\"\r\n                >\r\n                  <div\r\n                    v-for=\"(option, optionIndex) in configurations\"\r\n                    :key=\"optionIndex\"\r\n                  >\r\n                    <span\r\n                      class=\"color-bullet\"\r\n                      :style=\"{ backgroundColor: color.name || 'transparent' }\"\r\n                    ></span>\r\n                    {{ color.name || \"Unnamed Color\" }}\r\n                  </div>\r\n                </DropdownToggleColor>\r\n              </template>\r\n\r\n              <!-- Color field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'color'\"\r\n              >\r\n                <div class=\"color-dropdown\">\r\n                  <div class=\"dropdown\">\r\n                    <DropdownToggleColor\r\n                      :fieldName=\"config.configurationDetails.fieldName\"\r\n                      :dropdownStates=\"dropdownStates\"\r\n                      :buttonText=\"buttonText(config.configurationId._id)\"\r\n                    >\r\n                      <ColorSelectionToggle\r\n                        v-model:selectedColors=\"\r\n                          selectedColors[config.configurationId._id]\r\n                        \"\r\n                        :colors=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :colorOptions=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                      />\r\n                    </DropdownToggleColor>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Upload zone voor 'standard' pakket -->\r\n          <!-- Upload zone per geselecteerde kleur binnen een configuratie -->\r\n          <template v-if=\"config.configurationDetails.fieldType === 'color'\">\r\n            <div\r\n              v-for=\"(selectedColor, colorIndex) in selectedColors[\r\n                config.configurationId._id\r\n              ] || []\"\r\n              :key=\"colorIndex\"\r\n              class=\"column\"\r\n            >\r\n              <p>{{ selectedColor.name }} - Upload images</p>\r\n              <ImageUpload\r\n                @file-uploaded=\"handleFileUpload\"\r\n                :existingFiles=\"images\"\r\n                :partnerPackage=\"partnerPackage\"\r\n                :partnerName=\"partnerName\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </template>\r\n\r\n      <!-- Submit Button -->\r\n      <template v-if=\"partnerPackage == 'pro'\">\r\n        <div class=\"configurations\">\r\n          <template\r\n            v-for=\"(config, index) in partnerConfigurations\"\r\n            :key=\"config._id\"\r\n          >\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label\r\n                  v-if=\"config.configurationDetails\"\r\n                  :for=\"config.configurationDetails.fieldName\"\r\n                >\r\n                  {{ config.configurationDetails.fieldName }}:\r\n                </label>\r\n\r\n                <!-- Text field -->\r\n                <template\r\n                  v-if=\"config.configurationDetails?.fieldType === 'Text'\"\r\n                >\r\n                  <input\r\n                    v-model=\"config.value\"\r\n                    :id=\"config.configurationDetails.fieldName\"\r\n                    type=\"text\"\r\n                  />\r\n                </template>\r\n\r\n                <!-- Dropdown field -->\r\n                <template\r\n                  v-else-if=\"\r\n                    config.configurationDetails?.fieldType === 'Dropdown'\r\n                  \"\r\n                >\r\n                  <DropdownToggleColor\r\n                    :fieldName=\"config.configurationDetails.fieldName\"\r\n                    :dropdownStates=\"dropdownStates\"\r\n                    buttonText=\"Toggle Dropdown\"\r\n                  >\r\n                    <div\r\n                      v-for=\"(option, optionIndex) in configurations\"\r\n                      :key=\"optionIndex\"\r\n                    >\r\n                      <span\r\n                        class=\"color-bullet\"\r\n                        :style=\"{\r\n                          backgroundColor: option.name || 'transparent',\r\n                        }\"\r\n                      ></span>\r\n                      {{ option.name || \"Unnamed Color\" }}\r\n                    </div>\r\n                  </DropdownToggleColor>\r\n                </template>\r\n\r\n                <!-- Color field -->\r\n                <template\r\n                  v-else-if=\"config.configurationDetails?.fieldType === 'color'\"\r\n                >\r\n                  <div class=\"color-dropdown\">\r\n                    <div class=\"dropdown\">\r\n                      <DropdownToggleColor\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :buttonText=\"buttonText(config.configurationId._id)\"\r\n                      >\r\n                        <ColorSelectionToggle\r\n                          v-model:selectedColors=\"\r\n                            selectedColors[config.configurationId._id]\r\n                          \"\r\n                          :colors=\"\r\n                            fetchedColorsPerConfig[\r\n                              config.configurationId._id\r\n                            ] || []\r\n                          \"\r\n                          :dropdownStates=\"dropdownStates\"\r\n                          :fieldName=\"config.configurationDetails.fieldName\"\r\n                          :colorOptions=\"\r\n                            fetchedColorsPerConfig[\r\n                              config.configurationId._id\r\n                            ] || []\r\n                          \"\r\n                        />\r\n                      </DropdownToggleColor>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n\r\n        <!-- Display one ImageUpload if there's at least one selected color -->\r\n        <template\r\n          v-if=\"\r\n            Object.values(selectedColors).some((colors) => colors.length > 0)\r\n          \"\r\n        >\r\n          <ImageUpload\r\n            @file-uploaded=\"handleFileUpload\"\r\n            :colorUploads=\"colorUploads\"\r\n            :partnerPackage=\"partnerPackage\"\r\n            :partnerName=\"partnerName\"\r\n          />\r\n        </template>\r\n      </template>\r\n\r\n      <button class=\"btn active\" type=\"submit\">Update Product</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-weight: bold;\r\n  padding: 10px;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 5px;\r\n}\r\n\r\nform,\r\n.color-dropdown {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row,\r\nform .column,\r\n.color-upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect,\r\ntextarea {\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  width: 100%;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.colorpicker {\r\n  padding: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: transparent;\r\n  border: none;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\n.color-box {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.image-preview {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.preview-image {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n}\r\n\r\n.error-message {\r\n  color: #d34848;\r\n  margin-top: 20px;\r\n}\r\n\r\n.color-dropdown {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected {\r\n  padding: 8px;\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected span {\r\n  color: var(--text-color);\r\n}\r\n\r\n.color-bullet {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: transparent;\r\n}\r\n\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 8px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-option input {\r\n  width: auto;\r\n}\r\n\r\n.dropdown-option:hover {\r\n  background-color: #555;\r\n}\r\n\r\n.dropdown-option:active {\r\n  background-color: #444;\r\n}\r\n\r\n.configurations {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  gap: 2rem;\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n\r\n  .configurations {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  .configurations {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EditProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditProduct.vue?vue&type=style&index=0&id=e73a67c8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e73a67c8\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n\r\n    if (userData.role !== \"platform_admin\") {\r\n      router.push(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Haal de producten op vanuit de API\r\nconst fetchData = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\"); // Use the correct variable name\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const userCompanyId = getUserCompanyId(token); // Pass the correct token here\r\n\r\n    data.value = result.data.products.filter(\r\n      (product) => product.partnerId === userCompanyId\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\n\r\n// Initialiseer component en haal data op\r\nonMounted(fetchData);\r\n\r\n// Definities van refs en computed properties\r\nconst selectedTypeFilter = ref(\"All\");\r\nconst data = ref([]);\r\n\r\n// Haal companyId uit het JWT token\r\nconst getUserCompanyId = (token) => {\r\n  if (!token) return null;\r\n  const decoded = JSON.parse(atob(token.split(\".\")[1]));\r\n  return decoded.companyId;\r\n};\r\n\r\n// Haal gegevens op bij het laden van de component\r\nonMounted(() => {\r\n  fetchData();\r\n});\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst selectedFilter = ref(\"all\");\r\nconst partners = ref([]);\r\nconst searchTerm = ref(\"\");\r\nconst selectedpartners = ref([]);\r\nconst isDeleteButtonVisible = computed(() => selectedpartners.value.length > 0);\r\nconst isPopupVisible = ref(false);\r\n\r\nconst fetchpartners = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\");\r\n    const response = await fetch(`${baseURL}/partners`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    if (result && result.data && result.data.partners) {\r\n      partners.value = result.data.partners;\r\n    } else {\r\n      console.error(\"No partners found in the response.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching partners:\", error);\r\n  }\r\n};\r\n\r\nconst toggleSelection = (partnerId) => {\r\n  const index = selectedpartners.value.indexOf(partnerId);\r\n  if (index === -1) {\r\n    selectedpartners.value.push(partnerId);\r\n  } else {\r\n    selectedpartners.value.splice(index, 1);\r\n  }\r\n};\r\n\r\nconst toggleSelectAll = (event) => {\r\n  selectedpartners.value = event.target.checked\r\n    ? partners.value.map((partner) => partner._id)\r\n    : [];\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  await deletepartners();\r\n  hidePopup();\r\n};\r\n\r\nconst deletepartners = async () => {\r\n  try {\r\n    for (const id of selectedpartners.value) {\r\n      const response = await fetch(`${baseURL}/partners/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n    }\r\n    await fetchpartners();\r\n    selectedpartners.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting partners:\", error);\r\n  }\r\n};\r\n\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\n\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\nconst filteredpartners = computed(() => {\r\n  if (!partners.value) return [];\r\n  const filteredBySearch = partners.value.filter((partner) => {\r\n    return Object.values(partner).some((value) =>\r\n      String(value).toLowerCase().includes(searchTerm.value.toLowerCase())\r\n    );\r\n  });\r\n\r\n  const filteredByType = filteredBySearch.filter(\r\n    (partner) =>\r\n      selectedFilter.value === \"all\" || partner.package === selectedFilter.value\r\n  );\r\n\r\n  return filteredByType;\r\n});\r\n\r\nonMounted(() => {\r\n  fetchpartners();\r\n  setInterval(() => {\r\n    fetchpartners();\r\n  }, 5000);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Partners</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link exact to=\"/admin/add-new-partner\" class=\"btn active\">\r\n          <p>Add new</p>\r\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n\r\n      <select class=\"filter\" v-model=\"selectedFilter\">\r\n        <option value=\"all\">All</option>\r\n        <option value=\"standard\">Standard</option>\r\n        <option value=\"plus\">Plus</option>\r\n        <option value=\"pro\">Pro</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"partners mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"filteredpartners.length\"\r\n          v-for=\"partner in filteredpartners\"\r\n          :key=\"partner._id\"\r\n          :to=\"{ name: 'EditPartner', params: { id: partner._id } }\"\r\n        >\r\n          <div\r\n            class=\"image\"\r\n            :style=\"{\r\n              backgroundImage:\r\n                'url(http://localhost:5173/src/assets/images/Odette_lunettes.webp)',\r\n            }\"\r\n          ></div>\r\n          <div class=\"elements\">\r\n            <div class=\"text\">\r\n              <p class=\"name\">{{ partner.name }}</p>\r\n              <p>{{ partner.contact_email }}</p>\r\n              <p>{{ partner.contact_phone }}</p>\r\n              <p>{{ partner.package }}</p>\r\n            </div>\r\n            <div class=\"btn\">\r\n              <p>Active</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"partners desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedpartners.length === filteredpartners.length &&\r\n            filteredpartners.length > 0\r\n          \"\r\n        />\r\n        <p>Partner ID</p>\r\n        <p>Name</p>\r\n        <p>Contact Email</p>\r\n        <p>Contact Phone</p>\r\n        <p>Package</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <ul v-if=\"filteredpartners.length\" class=\"list\">\r\n          <li v-for=\"partner in filteredpartners\" :key=\"partner._id\">\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"toggleSelection(partner._id)\"\r\n              :checked=\"selectedpartners.includes(partner._id)\"\r\n            />\r\n            <router-link\r\n              :to=\"{ name: 'EditPartner', params: { id: partner._id } }\"\r\n            >\r\n              <p>{{ partner._id }}</p>\r\n              <p>{{ partner.name }}</p>\r\n              <p>{{ partner.contact_email }}</p>\r\n              <p>{{ partner.contact_phone }}</p>\r\n              <p>{{ partner.package }}</p>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n\r\n        <div v-else class=\"no-partners\">\r\n          <p>No partners found matching the selected filters.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 80px;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  display: none;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.partners.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.partners.mobile {\r\n  width: 100%;\r\n}\r\n\r\n.partners.mobile .items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.partners.mobile a {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding-bottom: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.partners.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.partners.mobile a .elements {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  gap: 1em;\r\n}\r\n\r\n.partners.mobile a .elements .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.partners.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.partners.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.partners.desktop {\r\n  display: none;\r\n}\r\n\r\n.partners::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.partners .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 40px;\r\n  padding: 16px;\r\n  background-color: var(--secondary-color);\r\n  align-items: center;\r\n}\r\n\r\n.partners .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.partners .list li {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 40px;\r\n  align-items: center;\r\n  padding: 16px;\r\n}\r\n\r\n.partners.desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.partners .list li a {\r\n  display: contents; /* Zorg ervoor dat de a-tag zich gedraagt als inhoud van de grid */\r\n}\r\n\r\n.partners .top p,\r\n.partners .list li p {\r\n  color: var(--text-color);\r\n  white-space: nowrap; /* Zorg ervoor dat tekst niet over meerdere regels gaat */\r\n  overflow: hidden; /* Verberg tekst die te lang is */\r\n  text-overflow: ellipsis; /* Voeg een ellipsis toe als de tekst te lang is */\r\n}\r\n\r\n.partners .top p:nth-child(1),\r\n.partners .list li p:nth-child(1) {\r\n  width: 200px; /* De Order ID kolom is nu groter */\r\n}\r\n\r\n.partners .top p:nth-child(2),\r\n.partners .list li p:nth-child(2) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(3),\r\n.partners .list li p:nth-child(3) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(4),\r\n.partners .list li p:nth-child(4) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(5),\r\n.partners .list li p:nth-child(5) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(6),\r\n.partners .list li p:nth-child(6) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-partners {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .partners.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .partners.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./PartnersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PartnersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PartnersPage.vue?vue&type=style&index=0&id=61f3a1da&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61f3a1da\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Basis-URL afhankelijk van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst router = useRouter();\r\n\r\n// Redirect naar login als er geen token is\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Variabelen voor partnergegevens\r\nconst name = ref(\"\");\r\nconst street = ref(\"\");\r\nconst city = ref(\"\");\r\nconst postalCode = ref(\"\");\r\nconst country = ref(\"\");\r\nconst contactEmail = ref(\"\");\r\nconst contactPhone = ref(\"\");\r\nconst subscriptionPackage = ref(\"standard\"); // Herbenoemd van 'package' naar 'subscriptionPackage'\r\n\r\nconst defaultStyles = {\r\n  primary_color: \"rgb(151, 71, 255)\",\r\n  secondary_color: \"rgb(0, 0, 0)\",\r\n  titles_color: \"rgb(0, 113, 227)\",\r\n  text_color: \"rgb(255, 255, 255)\",\r\n  background_color: \"rgb(0, 0, 0)\",\r\n  button_color: \"#146ef5\",\r\n  fontFamilyTitles: \"Syne, serif\",\r\n  fontFamilyBodyText: \"DM Sans, sans-serif\",\r\n  logo_url: \"../../src/assets/images/rebilt-favicon.svg\",\r\n};\r\n\r\n// Validatie van het e-mailadres\r\nconst isValidEmail = (email) => {\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailPattern.test(email);\r\n};\r\n\r\n// Functie om een nieuwe partner toe te voegen\r\nconst addPartner = async () => {\r\n  // Validatie van verplichte velden\r\n  if (!name.value || !subscriptionPackage.value) {\r\n    alert(\"Naam en pakket zijn verplicht.\");\r\n    return;\r\n  }\r\n\r\n  if (contactEmail.value && !isValidEmail(contactEmail.value)) {\r\n    alert(\"Voer een geldig e-mailadres in.\");\r\n    return;\r\n  }\r\n\r\n  // Definieer de partnerPayload hier\r\n  const partnerPayload = {\r\n    name: name.value,\r\n    address: {\r\n      street: street.value,\r\n      city: city.value,\r\n      postal_code: postalCode.value,\r\n      country: country.value,\r\n    },\r\n    contact_email: contactEmail.value || null,\r\n    contact_phone: contactPhone.value || null,\r\n    package: subscriptionPackage.value, // Gebruik hier de hernoemde variabele 'subscriptionPackage'\r\n    ...defaultStyles, // Voeg de standaard huisstijl toe aan het payload\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(partnerPayload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorDetail = await response.json();\r\n      throw new Error(\r\n        `Fout bij het toevoegen van de partner: ${errorDetail.message}`\r\n      );\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    // Redirect naar partnerspagina\r\n    router.push(\"/admin/partners\");\r\n  } catch (error) {\r\n    console.error(\"Error adding partner:\", error.message);\r\n    alert(\r\n      \"Er is een fout opgetreden bij het toevoegen van de partner. Controleer de console voor details.\"\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Add new partner</h1>\r\n    <form @submit.prevent=\"addPartner\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"name\">Naam:</label>\r\n          <input v-model=\"name\" id=\"name\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"street\">Straat:</label>\r\n          <input v-model=\"street\" id=\"street\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"city\">Stad:</label>\r\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"postalCode\">Postcode:</label>\r\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"country\">Land:</label>\r\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"contactEmail\">Contact E-mail:</label>\r\n          <input v-model=\"contactEmail\" id=\"contactEmail\" type=\"email\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"contactPhone\">Contact Telefoon:</label>\r\n          <input v-model=\"contactPhone\" id=\"contactPhone\" type=\"tel\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"subscriptionPackage\">Pakket:</label>\r\n          <select\r\n            v-model=\"subscriptionPackage\"\r\n            id=\"subscriptionPackage\"\r\n            required\r\n          >\r\n            <option value=\"standard\">Standard</option>\r\n            <option value=\"plus\">Plus</option>\r\n            <option value=\"pro\">Pro</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn active\">Save</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Voeg hier je stijlen toe */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin-bottom: 136px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddNewPartnerPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewPartnerPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewPartnerPage.vue?vue&type=style&index=0&id=672cee12&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-672cee12\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Basis-URL afhankelijk van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Router en route-instellingen\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\n\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Verkrijg de partnerId uit de routeparameter\r\nconst partnerId = route.params.id; // Haal partnerId uit de route\r\n\r\n// Partnergegevens en andere variabelen\r\nconst partnerData = ref({\r\n  name: \"\",\r\n  address: {\r\n    street: \"\",\r\n    city: \"\",\r\n    postal_code: \"\",\r\n    country: \"\",\r\n  },\r\n  contact_email: \"\",\r\n  contact_phone: \"\",\r\n  package: \"standard\", // Default package value is \"Standard\"\r\n});\r\n\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) {\r\n    console.error(\"Geen partnerId beschikbaar.\");\r\n    alert(\"Geen partnerId beschikbaar.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    partnerData.value = {\r\n      ...data.data.partner,\r\n      address: {\r\n        ...data.data.partner.address,\r\n      },\r\n    }; // Vul partnergegevens in\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    alert(\"Er is een fout opgetreden bij het ophalen van de partnergegevens.\");\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchPartnerData();\r\n});\r\n\r\n// Partnergegevens bijwerken\r\nconst updatePartner = async () => {\r\n  if (!partnerData.value.name || !partnerData.value.package) {\r\n    alert(\"Naam en Pakket zijn verplicht.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: partnerData.value.name,\r\n        address: partnerData.value.address, // Verstuur het volledige adresobject\r\n        contact_email: partnerData.value.contact_email,\r\n        contact_phone: partnerData.value.contact_phone,\r\n        package: partnerData.value.package, // Verstuur het geselecteerde pakket\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    router.push(\"/admin/partners\"); // Redirect na succesvolle update\r\n  } catch (error) {\r\n    console.error(\"Error updating partner:\", error);\r\n    alert(\"Er is een fout opgetreden bij het bijwerken van de partner.\");\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit partner</h1>\r\n    <form v-if=\"partnerData\" @submit.prevent=\"updatePartner\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"name\">Naam:</label>\r\n          <input v-model=\"partnerData.name\" type=\"text\" id=\"name\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"street\">Straat:</label>\r\n          <input v-model=\"partnerData.address.street\" type=\"text\" id=\"street\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"city\">Stad:</label>\r\n          <input v-model=\"partnerData.address.city\" type=\"text\" id=\"city\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"postal_code\">Postcode:</label>\r\n          <input\r\n            v-model=\"partnerData.address.postal_code\"\r\n            type=\"text\"\r\n            id=\"postal_code\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"country\">Land:</label>\r\n          <input\r\n            v-model=\"partnerData.address.country\"\r\n            type=\"text\"\r\n            id=\"country\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"contact_email\">Contact Email:</label>\r\n          <input\r\n            v-model=\"partnerData.contact_email\"\r\n            type=\"email\"\r\n            id=\"contact_email\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"contact_phone\">Contact Telefoon:</label>\r\n          <input\r\n            v-model=\"partnerData.contact_phone\"\r\n            type=\"tel\"\r\n            id=\"contact_phone\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"package\">Pakket:</label>\r\n          <!-- Dropdown voor package -->\r\n          <select v-model=\"partnerData.package\" id=\"package\" required>\r\n            <option value=\"\" disabled>Kies een pakket</option>\r\n            <option value=\"standard\">Standard</option>\r\n            <option value=\"plus\">Plus</option>\r\n            <option value=\"pro\">Pro</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\" class=\"btn active\">Save</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Stijlen voor je formulier en pagina */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin-bottom: 136px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EditPartner.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditPartner.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditPartner.vue?vue&type=style&index=0&id=51264c17&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51264c17\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, computed, onMounted, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// JWT Handling Utility\r\nconst getToken = () => localStorage.getItem(\"jwtToken\");\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Check for token validity\r\nconst token = getToken();\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\n// If no valid userId, redirect to login\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Reactive state\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\nconst partnerPackage = ref(null);\r\nconst orders = ref([]);\r\nconst selectedOrders = ref([]);\r\nconst searchTerm = ref(\"\");\r\nconst selectedFilter = ref(\"All\");\r\n\r\n// API Call Utility Function\r\nconst fetchDataFromApi = async (url, method = \"GET\", data = {}) => {\r\n  const token = getToken();\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n    method,\r\n    data,\r\n  };\r\n\r\n  try {\r\n    const response = await axios(url, config);\r\n    return response.data?.data || {};\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Fetch User Profile\r\nconst fetchUserProfile = async () => {\r\n  const userData = await fetchDataFromApi(`${baseURL}/users/${userId}`);\r\n  if (userData?.user) {\r\n    Object.assign(user, userData.user); // Directly update the user object\r\n  }\r\n};\r\n\r\n// Fetch Partner Data\r\nconst fetchPartnerData = async () => {\r\n  if (partnerId) {\r\n    const partnerData = await fetchDataFromApi(\r\n      `${baseURL}/partners/${partnerId}`\r\n    );\r\n    partnerPackage.value =\r\n      partnerData?.partner?.package || \"No package available\";\r\n  }\r\n};\r\n\r\nlet productCode = \"\";\r\n// Fetch Orders Data\r\nconst fetchOrders = async () => {\r\n  const ordersData = await fetchDataFromApi(`${baseURL}/orders`);\r\n  orders.value = ordersData?.orders || [];\r\n\r\n  // Iterate over each order to access productCode\r\n  orders.value.forEach((order) => {\r\n    if (order.productId && order.productId.productCode) {\r\n      const productCode = order.productId.productCode;\r\n    }\r\n  });\r\n};\r\n\r\n// Initial Fetch on Mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n  await fetchOrders();\r\n  setInterval(fetchOrders, 5000); // Poll orders every 5 seconds\r\n});\r\n\r\n// Computed values for filtering\r\nconst filteredOrders = computed(() => {\r\n  return orders.value.filter((order) => {\r\n    const matchesSearchTerm = Object.values(order).some((value) =>\r\n      String(value).toLowerCase().includes(searchTerm.value.toLowerCase())\r\n    );\r\n    const matchesFilter =\r\n      selectedFilter.value === \"All\" ||\r\n      order.orderStatus === selectedFilter.value;\r\n    return matchesSearchTerm && matchesFilter;\r\n  });\r\n});\r\n\r\n// Handle Order Selection\r\nconst toggleSelection = (orderId) => {\r\n  const index = selectedOrders.value.indexOf(orderId);\r\n  if (index === -1) {\r\n    selectedOrders.value.push(orderId);\r\n  } else {\r\n    selectedOrders.value.splice(index, 1);\r\n  }\r\n};\r\n\r\nconst toggleSelectAll = (event) => {\r\n  selectedOrders.value = event.target.checked\r\n    ? orders.value.map((order) => order._id)\r\n    : [];\r\n};\r\n\r\n// Handle Deleting Orders\r\nconst isDeleteButtonVisible = computed(() => selectedOrders.value.length > 0);\r\nconst deleteSelectedOrders = () => {\r\n  if (selectedOrders.value.length === 0) return;\r\n  showPopup();\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  await deleteOrders();\r\n  hidePopup();\r\n};\r\n\r\nconst deleteOrders = async () => {\r\n  try {\r\n    for (const id of selectedOrders.value) {\r\n      // Optimistically remove deleted orders from the list to update the UI instantly\r\n      orders.value = orders.value.filter((order) => order._id !== id);\r\n      await fetch(`${baseURL}/orders/${id}`, { method: \"DELETE\" });\r\n    }\r\n    selectedOrders.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting orders:\", error);\r\n  }\r\n};\r\n\r\n// Popup visibility management\r\nconst isPopupVisible = ref(false);\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\n// Provide user data to Navigation component\r\nprovide(\"user\", user);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Orders</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <p>Aantal orders: {{ orders.length }}</p>\r\n        <div\r\n          @click=\"deleteSelectedOrders\"\r\n          class=\"btn display\"\r\n          :style=\"{ visibility: isDeleteButtonVisible ? 'visible' : 'hidden' }\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n\r\n      <select class=\"filter\" v-model=\"selectedFilter\">\r\n        <option value=\"All\">All</option>\r\n        <option value=\"pending\">Pending</option>\r\n        <option value=\"shipped\">Shipped</option>\r\n        <option value=\"delivered\">Delivered</option>\r\n        <option value=\"cancelled\">Cancelled</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"orders mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"filteredOrders.length\"\r\n          v-for=\"order in filteredOrders\"\r\n          :key=\"order._id\"\r\n          :to=\"{ name: 'EditPartner', params: { id: order._id } }\"\r\n        >\r\n          <div>\r\n            <p>{{ order.customer.firstName }} {{ order.customer.lastName }}</p>\r\n            <p>\r\n              {{ order.createdAt }}\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              {{ order.productId }}\r\n            </p>\r\n            <p>\r\n              {{ order.orderStatus }}\r\n            </p>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"orders desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedOrders.length === filteredOrders.length &&\r\n            filteredOrders.length > 0\r\n          \"\r\n        />\r\n        <p>Order ID</p>\r\n        <p>ProductCode</p>\r\n        <p>LacesColor</p>\r\n        <p>LacesTexture</p>\r\n        <p>SoleBottomColor</p>\r\n        <p>SoleBottomTexture</p>\r\n        <p>SoleTopColor</p>\r\n        <p>SoleTopTexture</p>\r\n        <p>InsideColor</p>\r\n        <p>InsideTexture</p>\r\n        <p>Outside1Color</p>\r\n        <p>Outside1Texture</p>\r\n        <p>Outside2Color</p>\r\n        <p>Outside2Texture</p>\r\n        <p>Outside3Color</p>\r\n        <p>Outside3Texture</p>\r\n        <p>Status</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <ul v-if=\"filteredOrders.length\" class=\"list\">\r\n          <li v-for=\"order in filteredOrders\" :key=\"order._id\">\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"toggleSelection(order._id)\"\r\n              :checked=\"selectedOrders.includes(order._id)\"\r\n            />\r\n            <router-link :to=\"{ name: 'EditOrder', params: { id: order._id } }\">\r\n              <p>{{ order._id }}</p>\r\n\r\n              <!-- Access productCode from order.productId -->\r\n              <p>{{ order.productId?.productCode || \"No product code\" }}</p>\r\n\r\n              <p>{{ order.lacesColor }}</p>\r\n              <p>{{ order.lacesTexture }}</p>\r\n              <p>{{ order.soleBottomColor }}</p>\r\n              <p>{{ order.soleBottomTexture }}</p>\r\n              <p>{{ order.soleTopColor }}</p>\r\n              <p>{{ order.soleTopTexture }}</p>\r\n              <p>{{ order.insideColor }}</p>\r\n              <p>{{ order.insideTexture }}</p>\r\n              <p>{{ order.outside1Color }}</p>\r\n              <p>{{ order.outside1Texture }}</p>\r\n              <p>{{ order.outside2Color }}</p>\r\n              <p>{{ order.outside2Texture }}</p>\r\n              <p>{{ order.outside3Color }}</p>\r\n              <p>{{ order.outside3Texture }}</p>\r\n              <p>{{ order.orderStatus }}</p>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        <div v-if=\"filteredOrders.length === 0\" class=\"no-orders\">\r\n          No orders found\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.orders::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.orders .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(18, 1fr);\r\n  gap: 40px;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n  align-items: center; /* --- */\r\n}\r\n\r\n.orders .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  gap: 16px;\r\n  max-height: 300px;\r\n}\r\n\r\n.orders .list li {\r\n  display: grid;\r\n  grid-template-columns: repeat(18, 1fr);\r\n  gap: 40px;\r\n  align-items: center;\r\n  padding: 1rem;\r\n}\r\n\r\n.orders.desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.orders .list li a {\r\n  display: contents; /* Zorg ervoor dat de a-tag zich gedraagt als inhoud van de grid */\r\n}\r\n\r\n.orders .top p,\r\n.orders .list li p {\r\n  color: var(--text-color);\r\n  white-space: nowrap; /* Zorg ervoor dat tekst niet over meerdere regels gaat */\r\n  overflow: hidden; /* Verberg tekst die te lang is */\r\n  text-overflow: ellipsis; /* Voeg een ellipsis toe als de tekst te lang is */\r\n}\r\n\r\n.orders .top p:nth-child(1),\r\n.orders .list li p:nth-child(1) {\r\n  width: 150px; /* De Order ID kolom is nu groter */\r\n}\r\n\r\n.orders .top p:nth-child(2),\r\n.orders .list li p:nth-child(2) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(3),\r\n.orders .list li p:nth-child(3) {\r\n  width: 180px;\r\n}\r\n\r\n.orders .top p:nth-child(4),\r\n.orders .list li p:nth-child(4) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(5),\r\n.orders .list li p:nth-child(5) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(6),\r\n.orders .list li p:nth-child(6) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(7),\r\n.orders .list li p:nth-child(7) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(8),\r\n.orders .list li p:nth-child(8) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(9),\r\n.orders .list li p:nth-child(9) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(10),\r\n.orders .list li p:nth-child(10) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(11),\r\n.orders .list li p:nth-child(11) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(12),\r\n.orders .list li p:nth-child(12) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(13),\r\n.orders .list li p:nth-child(13) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(14),\r\n.orders .list li p:nth-child(14) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(15),\r\n.orders .list li p:nth-child(15) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(16),\r\n.orders .list li p:nth-child(16) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(17),\r\n.orders .list li p:nth-child(17) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(18),\r\n.orders .list li p:nth-child(18) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-orders {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.orders.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.orders.mobile {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.orders.mobile a {\r\n  padding: 1em;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding-bottom: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.orders.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n.orders.mobile a div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.orders.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.orders.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.orders.desktop {\r\n  display: none;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .orders.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .orders {\r\n    background-color: var(--secondary-color);\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    overflow-x: auto; /* Enable horizontal scrolling */\r\n    white-space: nowrap; /* Prevent wrapping of items */\r\n  }\r\n\r\n  .orders.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./OrdersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrdersPage.vue?vue&type=style&index=0&id=056fe690&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-056fe690\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Base URL afhankelijk van productie/ontwikkelomgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Router en route\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\n// JWT-token ophalen en controleren\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Data-instellingen\r\nconst orderData = ref(null);\r\nconst productCode = ref(route.params.id || \"\");\r\n\r\n// Formulierdata\r\nconst formData = ref({\r\n  customer: {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    message: \"\",\r\n    address: {\r\n      street: \"\",\r\n      houseNumber: \"\",\r\n      postalCode: \"\",\r\n      city: \"\",\r\n    },\r\n  },\r\n  productId: \"\",\r\n  lacesColor: \"\",\r\n  soleBottomColor: \"\",\r\n  soleTopColor: \"\",\r\n  insideColor: \"\",\r\n  outside1Color: \"\",\r\n  outside2Color: \"\",\r\n  outside3Color: \"\",\r\n  lacesTexture: \"\",\r\n  soleBottomTexture: \"\",\r\n  soleTopTexture: \"\",\r\n  insideTexture: \"\",\r\n  outside1Texture: \"\",\r\n  outside2Texture: \"\",\r\n  outside3Texture: \"\",\r\n  orderStatus: \"\",\r\n});\r\n\r\n// Ordergegevens ophalen\r\nconst fetchOrderData = async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/orders/${productCode.value}`, {\r\n      headers: { Authorization: `Bearer ${jwtToken}` },\r\n    });\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n\r\n    const data = await response.json();\r\n    orderData.value = data.data.order;\r\n\r\n    // Formulier vooraf vullen met opgehaalde gegevens\r\n    Object.assign(formData.value, orderData.value);\r\n  } catch (error) {\r\n    console.error(\"Fout bij het ophalen van ordergegevens:\", error);\r\n  }\r\n};\r\n\r\n// Order bijwerken\r\nconst updateOrder = async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/orders/${productCode.value}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(formData.value),\r\n    });\r\n\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n\r\n    router.push(\"/admin/orders\");\r\n  } catch (error) {\r\n    console.error(\"Fout bij het bijwerken van de order:\", error);\r\n  }\r\n};\r\n\r\nonMounted(fetchOrderData);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Order Bewerken</h1>\r\n    <form v-if=\"orderData\" @submit.prevent=\"updateOrder\">\r\n      <h2>Klantinformatie</h2>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"firstName\">Voornaam:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            v-model=\"formData.customer.firstName\"\r\n            required\r\n          />\r\n\r\n          <label for=\"lastName\">Achternaam:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"lastName\"\r\n            v-model=\"formData.customer.lastName\"\r\n            required\r\n          />\r\n\r\n          <label for=\"email\">E-mail:</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            v-model=\"formData.customer.email\"\r\n            required\r\n          />\r\n\r\n          <label for=\"message\">Bericht:</label>\r\n          <textarea id=\"message\" v-model=\"formData.customer.message\"></textarea>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Adres</h3>\r\n          <label for=\"street\">Straat:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"street\"\r\n            v-model=\"formData.customer.address.street\"\r\n            required\r\n          />\r\n\r\n          <label for=\"houseNumber\">Huisnummer:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"houseNumber\"\r\n            v-model=\"formData.customer.address.houseNumber\"\r\n            required\r\n          />\r\n\r\n          <label for=\"postalCode\">Postcode:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"postalCode\"\r\n            v-model=\"formData.customer.address.postalCode\"\r\n            required\r\n          />\r\n\r\n          <label for=\"city\">Stad:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"city\"\r\n            v-model=\"formData.customer.address.city\"\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <h2>Productinformatie</h2>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productId\">Product ID:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"productId\"\r\n            v-model=\"formData.productId\"\r\n            required\r\n          />\r\n\r\n          <label for=\"lacesColor\">Veterskleur:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"lacesColor\"\r\n            v-model=\"formData.lacesColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"lacesTexture\">Veters Texture:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"lacesTexture\"\r\n            v-model=\"formData.lacesTexture\"\r\n          />\r\n\r\n          <label for=\"soleBottomColor\">Zoolkleur (onderkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleBottomColor\"\r\n            v-model=\"formData.soleBottomColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"soleBottomTexture\">Zool Texture (onderkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleBottomTexture\"\r\n            v-model=\"formData.soleBottomTexture\"\r\n          />\r\n\r\n          <label for=\"soleTopColor\">Zoolkleur (bovenkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleTopColor\"\r\n            v-model=\"formData.soleTopColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"soleTopTexture\">Zool Texture (bovenkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleTopTexture\"\r\n            v-model=\"formData.soleTopTexture\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <label for=\"insideColor\">Binnenkleur:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"insideColor\"\r\n            v-model=\"formData.insideColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"insideTexture\">Binnen Texture:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"insideTexture\"\r\n            v-model=\"formData.insideTexture\"\r\n          />\r\n\r\n          <label for=\"outside1Color\">Buitenkleur 1:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside1Color\"\r\n            v-model=\"formData.outside1Color\"\r\n            required\r\n          />\r\n\r\n          <label for=\"outside1Texture\">Buiten Texture 1:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside1Texture\"\r\n            v-model=\"formData.outside1Texture\"\r\n          />\r\n\r\n          <label for=\"outside2Color\">Buitenkleur 2:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside2Color\"\r\n            v-model=\"formData.outside2Color\"\r\n            required\r\n          />\r\n\r\n          <label for=\"outside2Texture\">Buiten Texture 2:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside2Texture\"\r\n            v-model=\"formData.outside2Texture\"\r\n          />\r\n\r\n          <label for=\"outside3Color\">Buitenkleur 3:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside3Color\"\r\n            v-model=\"formData.outside3Color\"\r\n            required\r\n          />\r\n\r\n          <label for=\"outside3Texture\">Buiten Texture 3:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside3Texture\"\r\n            v-model=\"formData.outside3Texture\"\r\n          />\r\n\r\n          <label for=\"orderStatus\">Status:</label>\r\n          <select id=\"orderStatus\" v-model=\"formData.orderStatus\" required>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"shipped\">Shipped</option>\r\n            <option value=\"delivered\">Delivered</option>\r\n            <option value=\"cancelled\">Cancelled</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\" class=\"btn active\">Bewerk Order</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Basisstijl */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 32px;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  flex: 1;\r\n}\r\n\r\ninput,\r\ntextarea,\r\nselect {\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  background-color: #f9f9f9;\r\n  color: var(--gray-700);\r\n  width: 100%;\r\n}\r\n\r\nbutton {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n</style>\r\n","import script from \"./EditOrder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditOrder.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditOrder.vue?vue&type=style&index=0&id=d71bd772&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d71bd772\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\r\n\r\n// Base URL depending on environment\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const userData = response.data?.data?.user || {};\r\n    Object.assign(user, userData);\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Initialize data fetching on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user);\r\n\r\n// Watch for changes in user data and log updates\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\n// House style data management\r\nconst huisstijlData = reactive({\r\n  primaryColor: \"#9747ff\",\r\n  secondaryColor: \"#000000\",\r\n  textColor: \"#ffffff\",\r\n  titlesColor: \"#146ef5\",\r\n  backgroundColor: \"#000000\",\r\n  buttonColor: \"#146ef5\",\r\n  fonts: [], // Fonts initialized as an empty array\r\n  logo: \"\",\r\n  backgroundImage: \"\",\r\n  black: \"#080808\",\r\n  white: \"#fff\",\r\n  blue_600: \"#0055d4\",\r\n  gray_100: \"#f0f0f0\",\r\n  gray_200: \"#d8d8d8\",\r\n  gray_300: \"#ababab\",\r\n  gray_400: \"#898989\",\r\n  gray_500: \"#757575\",\r\n  gray_600: \"#5a5a5a\",\r\n  gray_700: \"#363636\",\r\n  gray_800: \"#222\",\r\n  gray_900: \"#171717\",\r\n});\r\n\r\nconst selectedFontForTitles = ref(\"\");\r\nconst selectedFontForText = ref(\"\");\r\nconst GoogleFonts = ref([]);\r\n\r\n// Set dynamic font styles\r\nconst setFonts = () => {\r\n  document.documentElement.style.setProperty(\r\n    \"--title-font\",\r\n    selectedFontForTitles.value || \"default\"\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--body-font\",\r\n    selectedFontForText.value || \"default\"\r\n  );\r\n};\r\n\r\n// Fetch Google Fonts\r\nconst fetchGoogleFonts = async () => {\r\n  const apiKey = \"AIzaSyBAS05cq9-WKD92VljeuLee5V7YkIrTTMw\";\r\n  const googleFontsApi = `https://www.googleapis.com/webfonts/v1/webfonts?key=${apiKey}`;\r\n  try {\r\n    const { data } = await axios.get(googleFontsApi);\r\n    GoogleFonts.value = data.items.map((font) => font.family);\r\n  } catch (error) {\r\n    console.error(\"Error fetching Google Fonts:\", error);\r\n  }\r\n};\r\n\r\n// Select and load a font\r\nconst selectFont = async (font, type) => {\r\n  const fontUrl = `https://fonts.googleapis.com/css2?family=${font.replace(\r\n    / /g,\r\n    \"+\"\r\n  )}:wght@400;700&display=swap`;\r\n\r\n  const existingLink = document.head.querySelector(`link[href=\"${fontUrl}\"]`);\r\n  if (!existingLink) {\r\n    const link = document.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.href = fontUrl;\r\n    document.head.appendChild(link);\r\n  }\r\n\r\n  if (type === \"title\") {\r\n    selectedFontForTitles.value = font;\r\n  } else if (type === \"text\") {\r\n    selectedFontForText.value = font;\r\n  }\r\n\r\n  await updateHouseStyleInDatabase();\r\n};\r\n\r\nconst openColorPicker = (field) => {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"color\";\r\n  input.value = huisstijlData[field];\r\n\r\n  input.addEventListener(\"input\", async (event) => {\r\n    huisstijlData[field] = event.target.value;\r\n    await updateHouseStyleInDatabase();\r\n  });\r\n\r\n  input.click();\r\n};\r\n\r\n// Fetch house style from the database\r\nconst getHouseStyleFromDatabase = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    const partnerData = response.data?.data?.partner || {};\r\n    Object.assign(huisstijlData, {\r\n      primaryColor: partnerData.primary_color || \"#9747ff\",\r\n      secondaryColor: partnerData.secondary_color || \"#000000\",\r\n      textColor: partnerData.text_color || \"#ffffff\",\r\n      titlesColor: partnerData.titles_color || \"#146ef5\",\r\n      backgroundColor: partnerData.background_color || \"#000000\",\r\n      buttonColor: partnerData.button_Color || \"#146ef5\",\r\n      logo: partnerData.logo_url || \"\",\r\n      backgroundImage: partnerData.background_image_url || \"\",\r\n      fontFamilyTitles: partnerData.fontFamilyTitles || \"Syne\",\r\n      fontFamilyBodyText: partnerData.fontFamilyBodyText || \"DM Sans\",\r\n    });\r\n\r\n    selectedFontForTitles.value = partnerData.fontFamilyTitles || \"Syne\";\r\n    selectedFontForText.value = partnerData.fontFamilyBodyText || \"DM Sans\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching house style:\", error);\r\n  }\r\n};\r\n\r\n// Reset house style to default values\r\nconst resetHouseStyle = async () => {\r\n  const defaultHuisstijl = {\r\n    primaryColor: \"#9747ff\",\r\n    secondaryColor: \"#000000\",\r\n    textColor: \"#ffffff\",\r\n    titlesColor: \"#146ef5\",\r\n    backgroundColor: \"#000000\",\r\n    buttonColor: \"#146ef5\",\r\n    backgroundImage: \"\",\r\n    fontFamilyTitles: \"Syne\",\r\n    fontFamilyBodyText: \"DM Sans\",\r\n    logo: \"https://res.cloudinary.com/dzempjvto/image/upload/v1734208533/Stijn/Huisstijl/yzezrygcrnb8pztjyplp.jpg\",\r\n    black: \"#080808\",\r\n    white: \"#fff\",\r\n    blue_600: \"#0055d4\",\r\n    gray_100: \"#f0f0f0\",\r\n    gray_200: \"#d8d8d8\",\r\n    gray_300: \"#ababab\",\r\n    gray_400: \"#898989\",\r\n    gray_500: \"#757575\",\r\n    gray_600: \"#5a5a5a\",\r\n    gray_700: \"#363636\",\r\n    gray_800: \"#222\",\r\n    gray_900: \"#171717\",\r\n  };\r\n\r\n  Object.assign(huisstijlData, defaultHuisstijl);\r\n\r\n  try {\r\n    await updateHouseStyleInDatabase();\r\n  } catch (error) {\r\n    console.error(\"Error updating house style:\", error);\r\n  }\r\n};\r\n\r\n// Update house style in the database\r\nconst updateHouseStyleInDatabase = async () => {\r\n  const houseStyleData = {\r\n    name: \"Odette Lunettes\",\r\n    address: {\r\n      street: \"92, Goudenregenlaan\",\r\n      city: \"Sint-Niklaas\",\r\n      postal_code: \"9100\",\r\n      country: \"België\",\r\n    },\r\n    contact_email: \"jonasdebruyne734@gmail.com\",\r\n    contact_phone: \"0472671833\",\r\n    package: \"standard\",\r\n    primary_color: huisstijlData.primaryColor,\r\n    secondary_color: huisstijlData.secondaryColor,\r\n    titles_color: huisstijlData.titlesColor,\r\n    text_color: huisstijlData.textColor,\r\n    background_color: huisstijlData.backgroundColor,\r\n    button_color: huisstijlData.buttonColor,\r\n    fontFamilyBodyText: selectedFontForText.value,\r\n    fontFamilyTitles: selectedFontForTitles.value,\r\n    logo_url: huisstijlData.logo || null,\r\n    black: huisstijlData.black,\r\n    white: huisstijlData.white,\r\n    blue_600: huisstijlData.blue_600,\r\n    gray_100: huisstijlData.gray_100,\r\n    gray_200: huisstijlData.gray_200,\r\n    gray_300: huisstijlData.gray_300,\r\n    gray_400: huisstijlData.gray_400,\r\n    gray_500: huisstijlData.gray_500,\r\n    gray_600: huisstijlData.gray_600,\r\n    gray_700: huisstijlData.gray_700,\r\n    gray_800: huisstijlData.gray_800,\r\n    gray_900: huisstijlData.gray_900,\r\n  };\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `${baseURL}/partners/${partnerId}`,\r\n      houseStyleData,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error updating house style:\", error);\r\n  }\r\n};\r\n\r\n// Fetch house style and Google Fonts\r\nonMounted(() => {\r\n  getHouseStyleFromDatabase();\r\n  fetchGoogleFonts();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Styling</h1>\r\n    <div class=\"elements\">\r\n      <!-- Colours Section -->\r\n      <div class=\"top\">\r\n        <h2>Colours</h2>\r\n        <a href=\"#\" class=\"btn active\" @click.prevent=\"resetHouseStyle\"\r\n          ><p>Reset</p></a\r\n        >\r\n      </div>\r\n      <div class=\"colours\">\r\n        <div class=\"column\">\r\n          <h3>Primary Color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.primaryColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.primaryColor }\"\r\n              @click=\"openColorPicker('primaryColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Secondary Color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.secondaryColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.secondaryColor }\"\r\n              @click=\"openColorPicker('secondaryColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Text color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.textColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.textColor }\"\r\n              @click=\"openColorPicker('textColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Titles color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.titlesColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.titlesColor }\"\r\n              @click=\"openColorPicker('titlesColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Button color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.buttonColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.buttonColor }\"\r\n              @click=\"openColorPicker('buttonColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Background color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.backgroundColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.backgroundColor }\"\r\n              @click=\"openColorPicker('backgroundColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Fonts Section -->\r\n      <div class=\"fonts\">\r\n        <h2>Fonts</h2>\r\n        <!-- Dropdown voor lettertype selectie -->\r\n        <div class=\"font\">\r\n          <h3>Font voor titles</h3>\r\n          <div class=\"row\">\r\n            <div class=\"font-preview\">\r\n              <h3>Voorbeeld met \"{{ selectedFontForTitles }}\"</h3>\r\n              <h3 :style=\"{ fontFamily: selectedFontForTitles }\">\r\n                This is an example of a title in {{ selectedFontForTitles }}.\r\n              </h3>\r\n            </div>\r\n\r\n            <div class=\"font-select\">\r\n              <label for=\"font-dropdown\">Selecteer een font:</label>\r\n              <select\r\n                id=\"font-dropdown\"\r\n                v-model=\"selectedFontForTitles\"\r\n                @change=\"selectFont(selectedFontForTitles, 'title')\"\r\n              >\r\n                <option value=\"\" disabled :selected=\"!selectedFontForTitles\">\r\n                  Selecteer een font\r\n                </option>\r\n                <option\r\n                  v-for=\"font in [\r\n                    ...GoogleFonts,\r\n                    ...(Array.isArray(huisstijlData.fonts)\r\n                      ? huisstijlData.fonts\r\n                      : []),\r\n                  ]\"\r\n                  :key=\"font\"\r\n                  :value=\"font\"\r\n                  :style=\"{ fontFamily: font }\"\r\n                >\r\n                  {{ font }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"font\">\r\n          <h3>Font voor tekst</h3>\r\n          <div class=\"row\">\r\n            <div class=\"font-preview\">\r\n              <h3>Voorbeeld met \"{{ selectedFontForText }}\"</h3>\r\n              <p :style=\"{ fontFamily: selectedFontForText }\">\r\n                This is an example of body text in {{ selectedFontForText }}.\r\n              </p>\r\n            </div>\r\n            <div class=\"font-select\">\r\n              <label for=\"font-dropdown\">Selecteer een font:</label>\r\n              <select\r\n                id=\"font-dropdown\"\r\n                v-model=\"selectedFontForText\"\r\n                @change=\"selectFont(selectedFontForText, 'text')\"\r\n              >\r\n                <option value=\"\" disabled :selected=\"!selectedFontForText\">\r\n                  Selecteer een font\r\n                </option>\r\n                <!-- Voeg zowel Google Fonts als de fonts uit huisstijlData toe -->\r\n                <option\r\n                  v-for=\"font in [\r\n                    ...GoogleFonts,\r\n                    ...huisstijlData.fonts.map((f) => f.name),\r\n                  ]\"\r\n                  :key=\"font\"\r\n                  :value=\"font\"\r\n                  :style=\"{ fontFamily: font }\"\r\n                >\r\n                  {{ font }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"images\">\r\n        <h2>Images</h2>\r\n        <div class=\"column\">\r\n          <h3>Logo</h3>\r\n          <div class=\"row\">\r\n            <img\r\n              v-if=\"huisstijlData.logo\"\r\n              :src=\"huisstijlData.logo\"\r\n              alt=\"Logo\"\r\n              class=\"logo\"\r\n            />\r\n            <div v-else>\r\n              <img :src=\"fallbackLogo\" alt=\"Logo\" class=\"logo\" />\r\n            </div>\r\n\r\n            <!-- Logo upload button -->\r\n            <button @click=\"triggerLogoUpload\" class=\"btn active\">\r\n              Upload Logo\r\n            </button>\r\n            <input\r\n              ref=\"logoInput\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              @change=\"handleLogoUpload\"\r\n              style=\"display: none\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.elements {\r\n  padding: 24px;\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.elements .top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.elements .top h2 {\r\n  padding-bottom: 0;\r\n  border-bottom: none;\r\n}\r\n\r\n.elements h2 {\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.elements .colours,\r\n.elements .fonts,\r\n.elements .images {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.column .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.images .column .row {\r\n  align-items: flex-end;\r\n}\r\n\r\n.images .column .row img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.column .row .color {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 3px solid var(--text-color);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n\r\n.elements .fonts .font {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.elements .fonts .font .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.elements .fonts .font .row .font-preview,\r\n.elements .fonts .font .row .font-select {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n#font-dropdown {\r\n  width: 100%;\r\n  padding: 8px;\r\n  font-size: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  margin-top: 8px;\r\n  color: #000;\r\n}\r\n\r\n#font-dropdown option {\r\n  color: #000;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .elements .fonts .font .row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 24px;\r\n    width: 100%;\r\n  }\r\n\r\n  .elements .fonts .font .row .font-preview,\r\n  .elements .fonts .font .row .font-select {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 50%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./StylingPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StylingPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StylingPage.vue?vue&type=style&index=0&id=32030646&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32030646\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decodeToken = (token) => {\r\n  if (!token) return null;\r\n  const base64Payload = token.split(\".\")[1];\r\n  const decodedPayload = JSON.parse(atob(base64Payload));\r\n  return decodedPayload; // Dit bevat de payload, inclusief de partner-id\r\n};\r\n\r\n// JWT-token controle\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decoded = decodeToken(token);\r\nconst decodedToken = decodeToken(jwtToken);\r\nconst userPartnerId = decodedToken?.companyId;\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n\r\n    if (\r\n      userData.role !== \"partner_admin\" &&\r\n      userData.role !== \"partner_owner\"\r\n    ) {\r\n      router.push(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Watch for changes in user data and update the Navigation component\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\n// Reactieve data-referenties\r\nconst data = ref([]); // Zorg ervoor dat data altijd een lege array is\r\nconst searchTerm = ref(\"\");\r\nconst selectedFilter = ref(\"All\");\r\nconst selectedUsers = ref([]); // Dit is een ref voor de geselecteerde gebruikers\r\nconst isPopupVisible = ref(false);\r\n\r\n// Computed properties voor UI-staat\r\nconst isDeleteButtonVisible = computed(() => selectedUsers.value.length > 0);\r\nconst emptyState = computed(() => data.value.length === 0);\r\n\r\nconst fetchData = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\");\r\n    const decodedToken = parseJwt(token); // Decode the token here\r\n    if (!decodedToken) {\r\n      throw new Error(\"Invalid token or failed to decode token\");\r\n    }\r\n\r\n    const response = await fetch(`${baseURL}/users`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n    const result = await response.json();\r\n\r\n    const userRole = decodedToken?.role;\r\n    if (userRole === \"platform_admin\") {\r\n      data.value = result.data.users;\r\n    } else {\r\n      const filteredUsers = result.data.users.filter((user) => {\r\n        const matchesPartner = user.partnerId === userPartnerId;\r\n        return matchesPartner;\r\n      });\r\n      data.value = filteredUsers;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\n\r\n// Filter de gebruikers op basis van zoekterm en filter\r\nconst filteredUsers = computed(() => {\r\n  // Controleer eerst of data.value gedefinieerd is\r\n  if (!data.value) return [];\r\n\r\n  return data.value.filter((user) => {\r\n    const matchesSearchTerm =\r\n      user.firstname.toLowerCase().includes(searchTerm.value.toLowerCase()) ||\r\n      user.lastname.toLowerCase().includes(searchTerm.value.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(searchTerm.value.toLowerCase());\r\n\r\n    const matchesFilter =\r\n      selectedFilter.value === \"All\" || user.role === selectedFilter.value;\r\n\r\n    return matchesSearchTerm && matchesFilter;\r\n  });\r\n});\r\n\r\n// Filter de gebruikers op basis van zoekterm en filter\r\nconst selectAllUsers = (isSelected) => {\r\n  selectedUsers.value = isSelected\r\n    ? filteredUsers.value.map((user) => user._id)\r\n    : []; // Wijzig de geselecteerde gebruikers als een lege array\r\n};\r\n\r\n// Schakel selectie voor een enkele gebruiker\r\nconst toggleSelection = (userId) => {\r\n  const index = selectedUsers.value.indexOf(userId);\r\n  if (index === -1) {\r\n    selectedUsers.value.push(userId);\r\n  } else {\r\n    selectedUsers.value.splice(index, 1);\r\n  }\r\n};\r\n\r\n// Verwijderen van geselecteerde gebruikers\r\nconst deleteSelectedUsers = async () => {\r\n  if (!selectedUsers.value.length) return;\r\n\r\n  try {\r\n    await Promise.all(\r\n      selectedUsers.value.map(async (userId) => {\r\n        const response = await fetch(`${baseURL}/users/${userId}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, // Change jwtToken to token here\r\n          },\r\n        });\r\n        if (!response.ok)\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n      })\r\n    );\r\n\r\n    // Refresh data and clear selection after successful deletion\r\n    await fetchData();\r\n    selectedUsers.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting users:\", error);\r\n  }\r\n};\r\n\r\n// Popup-weergavebeheer\r\nconst showPopup = () => (isPopupVisible.value = true);\r\nconst hidePopup = () => (isPopupVisible.value = false);\r\nconst confirmDelete = async () => {\r\n  await deleteSelectedUsers();\r\n  hidePopup();\r\n};\r\n\r\n// Initialiseer component en haal data op\r\nonMounted(fetchData);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Users</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this user?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link exact to=\"/admin/add-new-user\" class=\"btn active\">\r\n          <p>Add new</p>\r\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n      <select class=\"filter\" v-model=\"selectedFilter\">\r\n        <option value=\"All\">All</option>\r\n        <option value=\"admin\">Admin</option>\r\n        <option value=\"user\">User</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"users mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"filteredUsers && filteredUsers.length > 0\"\r\n          v-for=\"user in filteredUsers\"\r\n          :key=\"user._id\"\r\n          :to=\"{ name: 'EditUser', params: { id: user._id } }\"\r\n        >\r\n          <div class=\"elements\">\r\n            <div class=\"text\">\r\n              <p class=\"name\">{{ user.firstname }} {{ user.lastname }}</p>\r\n              <p>{{ user.email }}</p>\r\n              <p>{{ user.role }}</p>\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              :class=\"{ active: user.activeUnactive === 'active' }\"\r\n            >\r\n              <p>{{ user.activeUnactive }}</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"users desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"selectAllUsers($event.target.checked)\"\r\n        />\r\n        <p>First name</p>\r\n        <p>Last name</p>\r\n        <p>Email</p>\r\n        <p>Role</p>\r\n        <p>Status</p>\r\n      </div>\r\n      <ul v-if=\"filteredUsers && filteredUsers.length > 0\" class=\"list\">\r\n        <li v-for=\"user in filteredUsers\" :key=\"user._id\">\r\n          <router-link\r\n            :to=\"{ name: 'EditUser', params: { id: user._id } }\"\r\n            class=\"user-link\"\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"toggleSelection(user._id)\"\r\n              :checked=\"selectedUsers.includes(user._id)\"\r\n              @click.stop\r\n            />\r\n            <p>{{ user.firstname }}</p>\r\n            <p>{{ user.lastname }}</p>\r\n            <p>{{ user.email }}</p>\r\n            <p>{{ user.role }}</p>\r\n            <p>{{ user.activeUnactive }}</p>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n      <div v-else-if=\"emptyState\" class=\"empty-state\">\r\n        <p>No users found matching the selected filters.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  display: none;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.users.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.users.mobile {\r\n  width: 100%;\r\n}\r\n\r\n.users.mobile .items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.users.mobile a {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.users.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.users.mobile a .elements {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  gap: 1em;\r\n}\r\n\r\n.users.mobile a .elements .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.users.mobile a .elements .btn {\r\n  border-radius: 0.75rem;\r\n  padding: 0.75rem 0.025rem;\r\n  width: 60px;\r\n  height: 26px;\r\n}\r\n\r\n.users.mobile a .elements .btn.active {\r\n  background-color: #53e971;\r\n  border: none;\r\n}\r\n\r\n.users.mobile a .elements .btn p {\r\n  opacity: 1;\r\n}\r\n\r\n.users.mobile a .elements .btn.active p {\r\n  color: #000;\r\n  opacity: 1;\r\n}\r\n\r\n.users.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.users.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.users.desktop {\r\n  display: none;\r\n}\r\n\r\n.users::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.users .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  align-items: center;\r\n  border-radius: 4px 8px 0 0;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.users .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.users .list li {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 16px;\r\n}\r\n\r\n.items a:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.users .list li a {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  align-items: center;\r\n  column-gap: 16px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.users .list li p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.users .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.users .top input,\r\n.users .list input {\r\n  width: 18px;\r\n  height: 18px;\r\n}\r\n\r\n.users .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 16px;\r\n  padding: 4px 16px;\r\n}\r\n\r\n.users .top p:nth-child(2),\r\n.users .list li a p:nth-child(2) {\r\n  width: 150px;\r\n}\r\n\r\n.users .top p:nth-child(3),\r\n.users .list li a p:nth-child(3) {\r\n  width: 190px;\r\n}\r\n\r\n.users .top p:nth-child(4),\r\n.users .list li a p:nth-child(4) {\r\n  width: 280px;\r\n}\r\n\r\n.users .top p:nth-child(5),\r\n.users .list li a p:nth-child(5) {\r\n  width: 100px;\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 20px;\r\n  font-size: 18px;\r\n  color: var(--text-color);\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .partners.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .partners.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./UsersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UsersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UsersPage.vue?vue&type=style&index=0&id=f2316310&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f2316310\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Bepaal de basis-URL op basis van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst router = useRouter();\r\n\r\n// Redirect naar login als er geen token is\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst firstname = ref(\"\");\r\nconst lastname = ref(\"\");\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst role = ref(\"customer\");\r\nconst status = ref(\"active\");\r\nconst partner = ref(\"\"); // Dit wordt de gekozen partner\r\nconst country = ref(\"\");\r\nconst city = ref(\"\");\r\nconst postalCode = ref(\"\");\r\nconst profileImage = ref(\"\");\r\nconst bio = ref(\"\");\r\nconst partners = ref([]); // Lijst van partners\r\n\r\nconst isValidEmail = (email) => {\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailPattern.test(email);\r\n};\r\n\r\n// Haal de partners op bij het laden van de component\r\nonMounted(async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Fout bij het ophalen van partners\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    partners.value = data.data.partners || []; // Zorg ervoor dat we de juiste gegevens gebruiken\r\n  } catch (error) {\r\n    console.error(\"Error fetching partners:\", error.message);\r\n    alert(\"Er is een fout opgetreden bij het ophalen van de partners.\");\r\n  }\r\n});\r\n\r\nconst addUser = async () => {\r\n  if (\r\n    !firstname.value ||\r\n    !lastname.value ||\r\n    !email.value ||\r\n    !password.value ||\r\n    !role.value ||\r\n    !status.value\r\n  ) {\r\n    alert(\"Vul alle velden in.\");\r\n    return;\r\n  }\r\n\r\n  if (!isValidEmail(email.value)) {\r\n    alert(\"Vul een geldig e-mailadres in.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const userPayload = {\r\n      user: {\r\n        firstname: firstname.value,\r\n        lastname: lastname.value,\r\n        email: email.value,\r\n        password: password.value,\r\n        role: role.value,\r\n        activeUnactive: status.value,\r\n      },\r\n    };\r\n\r\n    // Voeg alleen optionele velden toe als ze niet leeg zijn\r\n    if (partner.value) userPayload.user.partner = partner.value;\r\n    if (country.value) userPayload.user.country = country.value;\r\n    if (city.value) userPayload.user.city = city.value;\r\n    if (postalCode.value) userPayload.user.postalCode = postalCode.value;\r\n    if (profileImage.value) userPayload.user.profileImage = profileImage.value;\r\n    if (bio.value) userPayload.user.bio = bio.value;\r\n\r\n    const userResponse = await fetch(`${baseURL}/users/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(userPayload),\r\n    });\r\n\r\n    if (!userResponse.ok) {\r\n      const errorDetail = await userResponse.json();\r\n      throw new Error(\r\n        `Fout bij het toevoegen van de gebruiker: ${errorDetail.message}`\r\n      );\r\n    }\r\n\r\n    const userResult = await userResponse.json();\r\n\r\n    // Navigeer naar gebruikerspagina\r\n    router.push(\"/admin/users\");\r\n  } catch (error) {\r\n    console.error(\"Error adding user or creating house style:\", error.message);\r\n    alert(\r\n      \"Er is een fout opgetreden bij het toevoegen van de gebruiker of het aanmaken van de huisstijl. Controleer de console voor details.\"\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Add new user</h1>\r\n    <form @submit.prevent=\"addUser\">\r\n      <!-- Vereiste velden -->\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"firstname\">First Name:</label>\r\n          <input v-model=\"firstname\" id=\"firstname\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"lastname\">Last Name:</label>\r\n          <input v-model=\"lastname\" id=\"lastname\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"email\">Email:</label>\r\n          <input v-model=\"email\" id=\"email\" type=\"email\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"password\">Password:</label>\r\n          <input v-model=\"password\" id=\"password\" type=\"password\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"role\">Role:</label>\r\n          <select v-model=\"role\" id=\"role\" required>\r\n            <option value=\"customer\">Customer</option>\r\n            <option value=\"partner_admin\">Partner Admin</option>\r\n            <option value=\"partner_owner\">Partner Owner</option>\r\n            <option value=\"platform_admin\">Platform Admin</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"status\">Status:</label>\r\n          <select v-model=\"status\" id=\"status\" required>\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Optionele velden -->\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"partner\">Partner (optioneel):</label>\r\n          <select v-model=\"partner\" id=\"partner\">\r\n            <option value=\"\">Selecteer een partner</option>\r\n            <option\r\n              v-for=\"partner in partners\"\r\n              :key=\"partner._id\"\r\n              :value=\"partner.name\"\r\n            >\r\n              {{ partner.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"country\">Country (optioneel):</label>\r\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"city\">City (optioneel):</label>\r\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"postalCode\">Postal Code (optioneel):</label>\r\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"profileImage\">Profile Image URL (optioneel):</label>\r\n          <input v-model=\"profileImage\" id=\"profileImage\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"bio\">Bio (optioneel):</label>\r\n          <textarea v-model=\"bio\" id=\"bio\" rows=\"4\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Submit button -->\r\n      <button type=\"submit\" class=\"btn active\">Add user</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddNewUserPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewUserPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewUserPage.vue?vue&type=style&index=0&id=5bf07f5f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bf07f5f\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Bepaal de basis-URL op basis van de hostname\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\n\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst firstname = ref(\"\");\r\nconst lastname = ref(\"\");\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst role = ref(\"customer\");\r\nconst status = ref(\"active\");\r\nconst company = ref(\"\"); // Bedrijf\r\nconst bio = ref(\"\"); // Bio\r\nconst country = ref(\"\"); // Land\r\nconst city = ref(\"\"); // Stad\r\nconst postalCode = ref(\"\"); // Postcode\r\nconst profileImage = ref(null); // Dit blijft hetzelfde\r\n\r\n// Functie voor bestandshantering\r\nconst handleFileChange = (event) => {\r\n  const file = event.target.files[0]; // Haal het eerste bestand op\r\n  profileImage.value = file; // Sla het bestand op in de profileImage variabele\r\n};\r\n\r\nconst userData = ref(null);\r\nconst userId = route.params.id;\r\n\r\nconst isValidEmail = (email) => {\r\n  // Controleer eerst of het emailadres leeg is\r\n  if (!email || typeof email !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  // Reguliere expressie voor e-mailvalidatie\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n  // Test de e-mail tegen de reguliere expressie\r\n  return emailPattern.test(email);\r\n};\r\n\r\nconst fetchUserData = async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/users/${userId}`);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json(); // JSON-parsing hier\r\n    userData.value = data.data.user; // Wijzig hier naar 'userData.value' i.p.v. 'userData'\r\n\r\n    // Vul de form velden met de ontvangen data\r\n    if (userData.value) {\r\n      firstname.value = userData.value.firstname;\r\n      lastname.value = userData.value.lastname;\r\n      email.value = userData.value.email;\r\n      role.value = userData.value.role;\r\n      status.value = userData.value.activeUnactive;\r\n      country.value = userData.value.country; // Nieuw toegevoegd\r\n      city.value = userData.value.city; // Nieuw toegevoegd\r\n      postalCode.value = userData.value.postalCode; // Nieuw toegevoegd\r\n      profileImage.value = userData.value.profileImage; // Nieuw toegevoegd\r\n      bio.value = userData.value.bio; // Nieuw toegevoegd\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user data:\", error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchUserData();\r\n});\r\n\r\nconst updateUser = async () => {\r\n  if (\r\n    !firstname.value ||\r\n    !lastname.value ||\r\n    !email.value ||\r\n    !role.value ||\r\n    !status.value\r\n  ) {\r\n    alert(\"Vul alle velden in.\");\r\n    return;\r\n  }\r\n\r\n  if (!isValidEmail(email.value)) {\r\n    alert(\"Voer een geldig e-mailadres in.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const payload = {\r\n      user: {\r\n        firstname: firstname.value,\r\n        lastname: lastname.value,\r\n        email: email.value,\r\n        password: password.value, // Voeg hier de password toe als je het wilt bijwerken\r\n        role: role.value,\r\n        activeUnactive: status.value,\r\n        company: company.value,\r\n        bio: bio.value,\r\n        country: country.value,\r\n        city: city.value,\r\n        postalCode: postalCode.value,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(`${baseURL}/users/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`, // Als je token nodig hebt voor authenticatie\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    router.push(\"/admin/users\");\r\n  } catch (error) {\r\n    console.error(\"Error updating user:\", error);\r\n    alert(\"Er is een fout opgetreden bij het bijwerken van de gebruiker.\");\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit user</h1>\r\n    <form v-if=\"userData\" @submit.prevent=\"updateUser\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"firstname\">Voornaam:</label>\r\n          <input v-model=\"firstname\" id=\"firstname\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"lastname\">Achternaam:</label>\r\n          <input v-model=\"lastname\" id=\"lastname\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"email\">E-mail:</label>\r\n        <input v-model=\"email\" id=\"email\" type=\"email\" required />\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"role\">Rol:</label>\r\n          <select v-model=\"role\" id=\"role\">\r\n            <option value=\"customer\">Customer</option>\r\n            <option value=\"partner_admin\">Partner Admin</option>\r\n            <option value=\"partner_owner\">Partner Owner</option>\r\n            <option value=\"platform_admin\">Platform Admin</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"status\">Status:</label>\r\n          <select v-model=\"status\" id=\"status\">\r\n            <option value=\"active\">Actief</option>\r\n            <option value=\"inactive\">Inactief</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Nieuwe velden toegevoegd -->\r\n      <div class=\"column\">\r\n        <label for=\"company\">Bedrijf:</label>\r\n        <input v-model=\"company\" id=\"company\" type=\"text\" />\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"bio\">Bio:</label>\r\n        <textarea v-model=\"bio\" id=\"bio\" rows=\"4\"></textarea>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"country\">Land:</label>\r\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"city\">Stad:</label>\r\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"postalCode\">Postcode:</label>\r\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"profileImage\">Profielafbeelding:</label>\r\n          <input type=\"file\" id=\"profileImage\" @change=\"handleFileChange\" />\r\n        </div>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn active\">Edit user</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EditUser.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditUser.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditUser.vue?vue&type=style&index=0&id=452ef1d1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-452ef1d1\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Basis-URL afhankelijk van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst router = useRouter();\r\n\r\n// Redirect naar login als er geen token is\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Variabelen voor configuratiegegevens\r\nconst fieldName = ref(\"\");\r\nconst fieldType = ref(\"\");\r\nconst optionsInput = ref(\"\");\r\nconst options = ref([]); // Dit zal de kleur-ID's bevatten\r\n\r\n// Kleur input\r\nconst colorInput = ref(\"\"); // Input voor kleurconfiguratie\r\nconst selectedColors = ref([]); // Dit slaat de geselecteerde kleuren op als kleur-ID's\r\n\r\n// Functie om een unieke kleur-ID te genereren (UUID)\r\nconst generateUniqueId = () => {\r\n  return \"_\" + Math.random().toString(36).substr(2, 9); // Dit genereert een eenvoudige unieke ID\r\n};\r\n\r\n// Functie om kleur toe te voegen aan de geselecteerde kleuren\r\nconst addColor = () => {\r\n  if (colorInput.value && !selectedColors.value.includes(colorInput.value)) {\r\n    // Genereer een unieke ID voor de kleur\r\n    const colorId = generateUniqueId();\r\n\r\n    // Voeg de kleur-ID toe aan de opties-array en de naam voor weergave\r\n    selectedColors.value.push({ id: colorId, hex: colorInput.value });\r\n    options.value.push(colorId); // Voeg de kleur-ID toe aan de opties\r\n\r\n    colorInput.value = \"\"; // Reset de kleurinput\r\n  } else {\r\n    console.error(\"De geselecteerde kleur heeft geen bijbehorende kleur-ID.\");\r\n  }\r\n};\r\n\r\n// Functie om de configuratie toe te voegen\r\nconst addConfiguration = async () => {\r\n  const configurationPayload = {\r\n    fieldName: fieldName.value,\r\n    fieldType: fieldType.value,\r\n    options:\r\n      fieldType.value === \"Color\"\r\n        ? selectedColors.value.map((c) => c.hex) // Stuur hex-waarden als opties\r\n        : options.value,\r\n    isColor: fieldType.value === \"Color\",\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/configurations`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(configurationPayload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorDetail = await response.json();\r\n      console.error(\"Error from server:\", errorDetail);\r\n      throw new Error(\r\n        `Fout bij het toevoegen van de configuratie: ${errorDetail.message}`\r\n      );\r\n    }\r\n\r\n    const result = await response.json();\r\n    router.back();\r\n  } catch (error) {\r\n    console.error(\"Error adding configuration:\", error.message);\r\n    alert(\"Er is een fout opgetreden bij het toevoegen van de configuratie.\");\r\n  }\r\n};\r\n\r\nconst updateOptions = () => {\r\n  // Verwerk de tekst in het invoerveld en zet om naar een array\r\n  options.value = optionsInput.value\r\n    .split(\",\") // Split de string op komma's\r\n    .map((opt) => opt.trim()) // Verwijder eventuele spaties rond de waarde\r\n    .filter((opt) => opt); // Filter lege waarden eruit\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Nieuwe Configuratie Toevoegen</h1>\r\n    <form @submit.prevent=\"addConfiguration\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldName\">Veldnaam:</label>\r\n          <input v-model=\"fieldName\" id=\"fieldName\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldType\">Veldtype:</label>\r\n          <select v-model=\"fieldType\" id=\"fieldType\" required>\r\n            <option value=\"\">Selecteer een veldtype</option>\r\n            <option value=\"Text\">Tekst</option>\r\n            <option value=\"Dropdown\">Dropdown</option>\r\n            <option value=\"Color\">Kleur</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" v-if=\"fieldType === 'Dropdown'\">\r\n        <div class=\"column\">\r\n          <label for=\"options\">Opties:</label>\r\n          <input\r\n            v-model=\"optionsInput\"\r\n            id=\"options\"\r\n            type=\"text\"\r\n            placeholder=\"Voer opties in, gescheiden door komma's\"\r\n            @input=\"updateOptions\"\r\n          />\r\n          <small>Bijv. Optie 1, Optie 2, Optie 3</small>\r\n        </div>\r\n      </div>\r\n      <!-- Kleur input -->\r\n      <div class=\"row\" v-if=\"fieldType === 'Color'\">\r\n        <div class=\"column\">\r\n          <label for=\"color\">Kleur:</label>\r\n          <input v-model=\"colorInput\" id=\"color\" type=\"color\" />\r\n          <button type=\"button\" @click=\"addColor\">Voeg Kleur Toe</button>\r\n          <small>Selecteer een kleur voor de configuratie</small>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Toon de geselecteerde kleuren als cirkels -->\r\n      <div v-if=\"fieldType === 'Color' && selectedColors.length > 0\">\r\n        <h4>Geselecteerde Kleuren:</h4>\r\n        <ul class=\"color-list\">\r\n          <li\r\n            v-for=\"(color, index) in selectedColors\"\r\n            :key=\"index\"\r\n            :style=\"{\r\n              backgroundColor: color.hex,\r\n            }\"\r\n            class=\"color-circle\"\r\n          >\r\n            {{ color.hex }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn active\">Voeg Configuratie Toe</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Stijl voor de pagina */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  gap: 120px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.color-list {\r\n  display: flex;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.color-circle {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  border: 2px solid #fff;\r\n}\r\n</style>\r\n","import script from \"./AddNewConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewConfigurationPage.vue?vue&type=style&index=0&id=ff5ef5de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ff5ef5de\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\n// Auth & API setup\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nconst baseURL =\r\n  window.location.hostname !== \"localhost\"\r\n    ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n    : \"http://localhost:3000/api/v1\";\r\n\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Reactive data for configuration form\r\nconst fieldName = ref(\"\");\r\nconst fieldType = ref(\"\");\r\nconst optionsInput = ref(\"\");\r\nconst colorInput = ref(\"\"); // For color type\r\nconst colorOptions = reactive([]); // Store color options with names and color codes\r\nconst options = reactive([]); // Dropdown options (names)\r\nconst isLoading = ref(false);\r\n\r\n// Helper function to fetch option names by ID\r\nconst fetchOptionNameById = async (optionId) => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/options/${optionId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data?.data?.name || `Unknown (${optionId})`;\r\n  } catch (error) {\r\n    console.error(`Error fetching option ${optionId}:`, error.message);\r\n    return `Unknown (${optionId})`;\r\n  }\r\n};\r\n\r\n// Update options based on input (for dropdown)\r\nconst updateOptions = () => {\r\n  options.splice(\r\n    0,\r\n    options.length,\r\n    ...optionsInput.value\r\n      .split(\",\")\r\n      .map((opt) => opt.trim())\r\n      .filter((opt) => opt !== \"\")\r\n  );\r\n};\r\n\r\n// Add color to the list of color options\r\n// Add color to the list of color options\r\nconst addColorToList = async () => {\r\n  if (colorInput.value) {\r\n    try {\r\n      // Make an API request to create a new color option\r\n      const response = await axios.post(\r\n        `${baseURL}/options`,\r\n        {\r\n          name: colorInput.value, // Store color code as the name\r\n          type: \"Color\", // Specify this is a Color option\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      const colorOption = response.data.data;\r\n      colorOptions.push({\r\n        name: colorInput.value, // Use the color code as the name (this is what we want)\r\n        colorCode: colorOption._id, // Store the _id of the created option\r\n      });\r\n      colorInput.value = \"\"; // Clear the color input after adding\r\n    } catch (error) {\r\n      console.error(\"Error adding color:\", error.message);\r\n      alert(\"Failed to add color. Please try again.\");\r\n    }\r\n  } else {\r\n    alert(\"Please select a color.\");\r\n  }\r\n};\r\n\r\n// Update the configuration\r\nconst updateConfiguration = async () => {\r\n  if (!fieldName.value.trim()) {\r\n    alert(\"Field name cannot be empty.\");\r\n    return;\r\n  }\r\n\r\n  // Check if dropdown options or color input is valid\r\n  if (fieldType.value === \"Dropdown\" && options.length === 0) {\r\n    alert(\"Please provide at least one option for the dropdown.\");\r\n    return;\r\n  }\r\n\r\n  if (fieldType.value === \"Color\" && colorOptions.length === 0) {\r\n    alert(\"Please select at least one color.\");\r\n    return;\r\n  }\r\n\r\n  const configId = route.params.id;\r\n  const configurationPayload = {\r\n    fieldName: fieldName.value,\r\n    fieldType: fieldType.value,\r\n    // For color, pass all the selected colors\r\n    options:\r\n      fieldType.value === \"Color\"\r\n        ? colorOptions.map((c) => c.name) // Use the color name (or colorCode if preferred) instead of the _id\r\n        : options,\r\n    ...(fieldType.value === \"Color\" && { isColor: true }),\r\n  };\r\n\r\n  if (partnerId) {\r\n    configurationPayload.partnerId = partnerId;\r\n  }\r\n\r\n  try {\r\n    isLoading.value = true;\r\n    const response = await axios.put(\r\n      `${baseURL}/configurations/${configId}`,\r\n      configurationPayload,\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n\r\n    router.back();\r\n  } catch (error) {\r\n    console.error(\"Error updating configuration:\", error.message);\r\n    alert(\"Failed to update configuration. Please try again.\");\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\n// Update the configuration\r\n// Fetch configuration data\r\nconst fetchConfiguration = async () => {\r\n  const configId = route.params.id;\r\n  if (!configId) {\r\n    alert(\"Configuration ID is missing.\");\r\n    router.push(\"/configurations\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations/${configId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const config = response.data?.data || {};\r\n    fieldName.value = config.fieldName || \"\";\r\n    fieldType.value = config.fieldType || \"\";\r\n\r\n    // Handle dropdown and color field types\r\n    if (config.fieldType === \"Dropdown\" && Array.isArray(config.options)) {\r\n      const optionNames = await Promise.all(\r\n        config.options.map((optionId) => fetchOptionNameById(optionId))\r\n      );\r\n      options.splice(0, options.length, ...optionNames);\r\n      optionsInput.value = optionNames.join(\", \");\r\n    } else if (config.fieldType === \"Color\") {\r\n      // Fetch names for color options (colors are stored as IDs)\r\n      const colorDetails = await Promise.all(\r\n        config.options.map(async (colorId) => {\r\n          const name = await fetchOptionNameById(colorId);\r\n          return { name, colorCode: colorId }; // Store color name and code\r\n        })\r\n      );\r\n      colorOptions.splice(0, colorOptions.length, ...colorDetails); // Store color details\r\n      colorInput.value = colorDetails[0]?.colorCode || \"\"; // Set the first color option as default\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching configuration:\", error.message);\r\n    alert(\"Failed to load configuration. Please try again.\");\r\n  }\r\n};\r\n\r\n// Fetch configuration on mount\r\nonMounted(() => {\r\n  fetchConfiguration();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit Configuration</h1>\r\n\r\n    <form @submit.prevent=\"updateConfiguration\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldName\">Field Name:</label>\r\n          <input\r\n            v-model=\"fieldName\"\r\n            id=\"fieldName\"\r\n            type=\"text\"\r\n            placeholder=\"Enter field name\"\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldType\">Field Type:</label>\r\n          <select v-model=\"fieldType\" id=\"fieldType\" required>\r\n            <option value=\"\">Select field type</option>\r\n            <option value=\"Text\">Text</option>\r\n            <option value=\"Dropdown\">Dropdown</option>\r\n            <option value=\"Color\">Color</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\" v-if=\"fieldType === 'Dropdown'\">\r\n        <div class=\"column\">\r\n          <label for=\"options\">Options:</label>\r\n          <input\r\n            v-model=\"optionsInput\"\r\n            id=\"options\"\r\n            type=\"text\"\r\n            placeholder=\"Enter options separated by commas\"\r\n            @input=\"updateOptions\"\r\n          />\r\n          <small>Example: Option 1, Option 2, Option 3</small>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\" v-if=\"fieldType === 'Color'\">\r\n        <div class=\"column\">\r\n          <label for=\"color\">Color:</label>\r\n          <input v-model=\"colorInput\" id=\"color\" type=\"color\" required />\r\n          <button type=\"button\" @click=\"addColorToList\">Add Color</button>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <label>Current Colors:</label>\r\n          <ul class=\"color-list\">\r\n            <li\r\n              v-for=\"(color, index) in colorOptions\"\r\n              :key=\"index\"\r\n              class=\"color-item\"\r\n              :style=\"{ backgroundColor: color.colorCode }\"\r\n            >\r\n              {{ color.name }}\r\n              <!-- We use the color name here -->\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <button type=\"submit\" :disabled=\"isLoading\">\r\n          <span v-if=\"isLoading\">Saving...</span>\r\n          <span v-else>Save Configuration</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* CSS */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  gap: 120px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.color-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 8px;\r\n}\r\n\r\n.color-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.color-circle {\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  border: 1px solid var(--gray-900);\r\n}\r\n</style>\r\n","import script from \"./EditConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditConfigurationPage.vue?vue&type=style&index=0&id=5ec094ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5ec094ce\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch, provide, computed } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\r\n\r\n// Base URL depending on environment\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user);\r\n\r\n// Watch for changes in user data and log updates\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\nconst partnerName = ref(\"\");\r\nconst allDomains = ref([]);\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst domainName = ref(\"\");\r\n\r\n// Computed property om domeinnaam zonder de extensie te tonen\r\nconst domainWithoutExtension = computed({\r\n  get() {\r\n    return domainName.value.replace(\".rebilt.be\", \"\");\r\n  },\r\n  set(value) {\r\n    domainName.value = value + \".rebilt.be\";\r\n  },\r\n});\r\n\r\n// Reactive references for partner data and configurations\r\nconst configurations = ref([]);\r\nconst partnerConfigurations = ref([]);\r\nconst loadingConfigurations = ref(false);\r\nconst optionsMap = reactive({});\r\nconst isDataLoaded = ref(false); // Loading status flag\r\n\r\n// Valid domain check computed property\r\nconst isValidDomain = computed(() => {\r\n  const domain = domainName.value.trim();\r\n  const domainWithoutExtension = domain.split(\".\")[0]; // Get the domain part before any extension\r\n\r\n  // Regular expression for valid domain name (only lowercase and hyphens)\r\n  const domainPattern = /^[a-z-]+$/; // Only lowercase letters and hyphens\r\n  const forbiddenExtensions = [\".be\", \".com\", \".nl\"];\r\n\r\n  // Check for uppercase letters\r\n  if (/[A-Z]/.test(domainWithoutExtension)) {\r\n    return {\r\n      isValid: false,\r\n      message: \"The domain name cannot contain uppercase letters.\",\r\n    };\r\n  }\r\n\r\n  // Check for numbers in the domain name (disallow digits)\r\n  if (/\\d/.test(domainWithoutExtension)) {\r\n    return {\r\n      isValid: false,\r\n      message: \"The domain name cannot contain numbers.\",\r\n    };\r\n  }\r\n\r\n  // Check if domain contains any forbidden extensions\r\n  if (forbiddenExtensions.some((ext) => domainWithoutExtension.includes(ext))) {\r\n    return {\r\n      isValid: false,\r\n      message: \"The domain name cannot contain .be, .com, .nl.\",\r\n    };\r\n  }\r\n\r\n  // Check if domain matches the valid pattern (only lowercase and hyphens)\r\n  if (!domainPattern.test(domainWithoutExtension)) {\r\n    return {\r\n      isValid: false,\r\n      message:\r\n        \"The domain name must only contain lowercase letters and hyphens.\",\r\n    };\r\n  }\r\n\r\n  return { isValid: true, message: \"\" };\r\n});\r\n\r\n// Fetch all partner domains to check for duplicates\r\nconst fetchAllDomains = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    if (!response.data || typeof response.data !== \"object\") {\r\n      console.error(\"Ongeldige API response structuur:\", response);\r\n      return [];\r\n    }\r\n\r\n    // Hier halen we de domeinen op uit de partners array\r\n    return response.data.data.partners.map((partner) => partner.domain);\r\n  } catch (error) {\r\n    console.error(\"❌ Error fetching partner domains:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst updateDomain = async () => {\r\n  if (!partnerId) return;\r\n\r\n  const domain = domainName.value.trim();\r\n\r\n  // Prevent appending .rebilt.be if it's already present\r\n  let fullDomain = domain;\r\n  if (!domain.endsWith(\".rebilt.be\")) {\r\n    fullDomain += \".rebilt.be\"; // Only append if it doesn't already have .rebilt.be\r\n  }\r\n\r\n  // Ensure that allDomains is an array\r\n  if (!Array.isArray(allDomains.value)) {\r\n    console.error(\"allDomains is not an array:\", allDomains.value);\r\n    isValidDomain.value = {\r\n      isValid: false,\r\n      message: \"Error: Domain list is not valid.\",\r\n    };\r\n    return;\r\n  }\r\n\r\n  // Check if domain is already taken\r\n  if (allDomains.value.includes(fullDomain)) {\r\n    isValidDomain.value = {\r\n      isValid: false,\r\n      message: \"Error: This domain name is already taken.\",\r\n    };\r\n    return;\r\n  }\r\n\r\n  const partnerData = {\r\n    name: partnerName.value,\r\n    package: partnerPackage.value,\r\n    domain: fullDomain,\r\n  };\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `${baseURL}/partners/${partnerId}`,\r\n      partnerData, // Data must be in the body of a PUT request\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` }, // Correct headers for the request\r\n      }\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      isValidDomain.value = {\r\n        isValid: true,\r\n        message: \"Domain updated successfully.\",\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error updating domain:\", error);\r\n    isValidDomain.value = {\r\n      isValid: false,\r\n      message: \"Failed to update the domain.\",\r\n    };\r\n  }\r\n};\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const userData = response.data?.data?.user || {};\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerName.value = partner.name || \"No name available\";\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n    domainName.value = partner.domain || \"\"; // Set initial domain value\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\nconst fetchConfigurations = async () => {\r\n  loadingConfigurations.value = true;\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    configurations.value = response.data?.data || [];\r\n  } catch (error) {\r\n    console.error(\"Error fetching configurations:\", error);\r\n    configurations.value = [];\r\n  } finally {\r\n    loadingConfigurations.value = false;\r\n  }\r\n};\r\n\r\nconst fetchPartnerConfigurations = async () => {\r\n  loadingConfigurations.value = true;\r\n  try {\r\n    const [configResponse, optionsResponse] = await Promise.all([\r\n      axios.get(`${baseURL}/partnerconfigurations`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }),\r\n      axios.get(`${baseURL}/options`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }),\r\n    ]);\r\n    const configs = configResponse.data?.data || [];\r\n    const options = optionsResponse.data?.data || [];\r\n\r\n    // Map options by their IDs\r\n    options.forEach((option) => {\r\n      optionsMap[option._id] = option;\r\n    });\r\n\r\n    // Filter configurations to only include those where the partnerId matches\r\n    partnerConfigurations.value = configs.filter(\r\n      (config) => config.partnerId === partnerId\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations or options:\", error);\r\n    partnerConfigurations.value = [];\r\n  } finally {\r\n    loadingConfigurations.value = false;\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n  await fetchPartnerConfigurations();\r\n  await fetchConfigurations();\r\n  isDataLoaded.value = true; // Data is fully loaded now\r\n\r\n  // Ensure you await the fetchAllDomains() promise\r\n  allDomains.value = await fetchAllDomains();\r\n});\r\n\r\n// Reactive data for product selection and deletion logic\r\nconst selectedConfigurations = ref([]);\r\nconst searchTerm = ref(\"\"); // Add this line in your setup() function\r\n\r\n// Select all configurations\r\nconst selectAllPartnerConfigurations = (isSelected) => {\r\n  selectedConfigurations.value = isSelected\r\n    ? partnerConfigurations.value.map((config) => config._id)\r\n    : []; // If selected, set to all partner configuration IDs, else empty array\r\n};\r\n\r\n// Function to toggle the selection of individual partner configuration\r\nconst toggleSelection = (configId) => {\r\n  const index = selectedConfigurations.value.indexOf(configId);\r\n  if (index === -1) {\r\n    selectedConfigurations.value.push(configId); // Add to selection\r\n  } else {\r\n    selectedConfigurations.value.splice(index, 1); // Remove from selection\r\n  }\r\n};\r\n\r\n// Show confirmation popup\r\nconst isPopupVisible = ref(false);\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\n\r\n// Hide confirmation popup\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  if (!isDataLoaded.value) {\r\n    console.error(\"Data is still loading. Please try again later.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const productsToDelete =\r\n      selectedConfigurations.value.length > 0\r\n        ? selectedConfigurations.value\r\n        : partnerConfigurations.value.map((config) => config._id);\r\n\r\n    // Start the deletion process\r\n    for (const id of productsToDelete) {\r\n      // Zoek naar de configuratie in de partner-configuraties\r\n      const existingConfig = partnerConfigurations.value.find(\r\n        (config) => config._id === id\r\n      );\r\n\r\n      if (!existingConfig) {\r\n        console.error(\r\n          `Configuration with ID ${id} not found in partner configurations.`\r\n        );\r\n        continue; // Skip this ID if it's not found\r\n      }\r\n\r\n      const response = await axios.delete(\r\n        `${baseURL}/partnerConfigurations/${id}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        // Adjusted to 200 OK\r\n        // Verwijder de configuratie uit de partner configuraties\r\n        partnerConfigurations.value = partnerConfigurations.value.filter(\r\n          (config) => config._id !== id\r\n        );\r\n        // Optionally, also remove from all configurations\r\n        configurations.value = configurations.value.filter(\r\n          (config) => config._id !== id\r\n        );\r\n      } else {\r\n        throw new Error(`Failed to delete configuration with ID ${id}`);\r\n      }\r\n    }\r\n\r\n    // Reset de geselecteerde configuraties\r\n    selectedConfigurations.value = [];\r\n    hidePopup(); // Verberg de popup na succesvol verwijderen\r\n  } catch (error) {\r\n    console.error(\"Error deleting configurations:\", error);\r\n    alert(\"An error occurred while trying to delete configurations.\");\r\n  }\r\n};\r\n\r\nconst getFullConfiguration = (partnerConfig) => {\r\n  return (\r\n    configurations.value.find(\r\n      (config) => config._id === partnerConfig.configurationId\r\n    ) || {} // Return an empty object if no matching configuration is found\r\n  );\r\n};\r\n\r\n// Define the getOptionsNames function\r\nconst getOptionsNames = (optionIds) => {\r\n  if (!Array.isArray(optionIds) || optionIds.length === 0) {\r\n    return \"No options\"; // Return a default string if there are no options\r\n  }\r\n  return optionIds\r\n    .map((id) => optionsMap[id]?.name || \"Unknown option\")\r\n    .join(\", \");\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <div class=\"publishWebsite\">\r\n      <h2>Publish website</h2>\r\n      <div class=\"elements\">\r\n        <div class=\"column input\">\r\n          <label for=\"website\">Domain:</label>\r\n          <div class=\"input-container\">\r\n            <input\r\n              type=\"text\"\r\n              v-model=\"domainWithoutExtension\"\r\n              placeholder=\"your-domain\"\r\n            />\r\n            <span class=\"suffix\">.rebilt.be</span>\r\n          </div>\r\n          <!-- Display validation message -->\r\n          <span\r\n            :class=\"{\r\n              'error-message': !isValidDomain.isValid,\r\n              hidden: isValidDomain.isValid,\r\n            }\"\r\n          >\r\n            {{ isValidDomain.message || \"No errors yet\" }}\r\n          </span>\r\n        </div>\r\n        <div class=\"column\">\r\n          <!-- Disable button if domain is invalid -->\r\n          <button\r\n            @click=\"updateDomain\"\r\n            class=\"btn active\"\r\n            :disabled=\"!isValidDomain.isValid\"\r\n          >\r\n            Publish Domain\r\n          </button>\r\n\r\n          <div class=\"publishedNotPublished\">\r\n            <div\r\n              class=\"bullet\"\r\n              :style=\"{\r\n                backgroundColor: isValidDomain.isValid ? '#53e971' : 'red',\r\n              }\"\r\n            ></div>\r\n            <span\r\n              :style=\"{\r\n                color: isValidDomain.isValid ? '#53e971' : 'red',\r\n              }\"\r\n              >{{ isValidDomain.isValid ? \"Published\" : \"Not published\" }}</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"ourConfigurations\">\r\n      <h2>Our configurations</h2>\r\n      <!-- Delete confirmation popup -->\r\n      <div class=\"popup\" v-if=\"isPopupVisible\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete the selected item(s)?</p>\r\n        <div class=\"popup-buttons\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"elements\">\r\n        <!-- Actions menu -->\r\n        <div class=\"menu\">\r\n          <div class=\"btns\">\r\n            <router-link to=\"/admin/settings\" class=\"btn active\">\r\n              <p>Add New <img src=\"../../assets/icons/add.svg\" alt=\"icon\" /></p>\r\n            </router-link>\r\n            <div\r\n              class=\"btn display\"\r\n              :style=\"{\r\n                visibility:\r\n                  selectedConfigurations.length > 0 ? 'visible' : 'hidden',\r\n              }\"\r\n              @click=\"showPopup\"\r\n            >\r\n              <p>Delete item(s)</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"search\">\r\n            <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n            <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Configurations table -->\r\n        <div class=\"configurations\">\r\n          <div class=\"top\">\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"selectAllPartnerConfigurations($event.target.checked)\"\r\n            />\r\n            <p>Field Name</p>\r\n            <p>Type</p>\r\n            <p>Options</p>\r\n          </div>\r\n\r\n          <div class=\"table-container\">\r\n            <div\r\n              v-for=\"config in partnerConfigurations\"\r\n              :key=\"config._id\"\r\n              class=\"listItem\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                :checked=\"selectedConfigurations.includes(config._id)\"\r\n                @change=\"toggleSelection(config._id)\"\r\n              />\r\n              <router-link\r\n                :to=\"{\r\n                  name: 'EditConfiguration',\r\n                  params: { id: config.configurationId },\r\n                  query: { partnerId: config.partnerId },\r\n                }\"\r\n              >\r\n                <p>\r\n                  {{ getFullConfiguration(config)?.fieldName || \"No name\" }}\r\n                </p>\r\n              </router-link>\r\n              <p>{{ getFullConfiguration(config)?.fieldType || \"No type\" }}</p>\r\n              <p>\r\n                {{\r\n                  getOptionsNames(getFullConfiguration(config)?.options) ||\r\n                  \"No options\"\r\n                }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.publishWebsite .column span.error-message {\r\n  color: red;\r\n}\r\n\r\n.hidden {\r\n  visibility: hidden;\r\n}\r\n\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.publishWebsite,\r\n.ourConfigurations {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n}\r\n\r\n.publishWebsite .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.publishWebsite .column.input {\r\n  width: 100%;\r\n}\r\n\r\n.publishWebsite .column span {\r\n  text-transform: lowercase;\r\n  color: var(--text-color);\r\n}\r\n\r\n.input-container {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.input-container input {\r\n  width: 100%;\r\n  padding: 0.25rem 0 0.25rem 1rem;\r\n  border: 1px solid var(--text-color);\r\n  border-radius: 4px;\r\n  transition: border-color 0.3s ease-in-out;\r\n  text-align: left;\r\n  height: 2rem;\r\n}\r\n\r\n.input-container .suffix {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  color: var(--text-color);\r\n  opacity: 0.6;\r\n  pointer-events: none;\r\n  text-transform: lowercase;\r\n}\r\n\r\n.publishWebsite .elements,\r\n.ourConfigurations .elements {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n}\r\n\r\n.publishedNotPublished {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 0.25rem;\r\n}\r\n\r\n.publishedNotPublished .bullet {\r\n  width: 0.5rem;\r\n  height: 0.5rem;\r\n  border-radius: 50%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn {\r\n  font-size: 1rem;\r\n}\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n  white-space: nowrap;\r\n}\r\n\r\n.configurations::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.configurations .top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-radius: 4px 8px 0 0;\r\n  gap: 16px;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.configurations .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .listItem {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 16px;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.configurations .listItem a {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  align-items: center;\r\n  column-gap: 16px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.configurations .top p,\r\n.configurations .listItem p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations .top p:nth-child(1),\r\n.configurations .listItem p:nth-child(1) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(2),\r\n.configurations .listItem p:nth-child(2) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(3),\r\n.configurations .listItem p:nth-child(3) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(4),\r\n.configurations .listItem p:nth-child(4) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(5),\r\n.configurations .listItem p:nth-child(5) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(6),\r\n.configurations .listItem p:nth-child(6) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(7),\r\n.configurations .listItem p:nth-child(7) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .listItem p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-configurations {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .publishWebsite .elements {\r\n    flex-direction: row;\r\n    align-items: flex-end;\r\n  }\r\n\r\n  .publishWebsite .btn {\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./MyConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyConfigurationsPage.vue?vue&type=style&index=0&id=2e116ee9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e116ee9\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decodeToken = (token) => {\r\n  if (!token) return null;\r\n  const base64Payload = token.split(\".\")[1];\r\n  const decodedPayload = JSON.parse(atob(base64Payload));\r\n  return decodedPayload; // Dit bevat de payload, inclusief de partner-id\r\n};\r\n\r\n// JWT-token controle\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decoded = decodeToken(token);\r\nconst decodedToken = decodeToken(jwtToken);\r\nconst userPartnerId = decodedToken?.companyId;\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Reactive variables for configurations and options\r\nconst configurations = ref([]);\r\nconst selectedConfigurations = ref([]);\r\nconst allOptions = ref([]); // To hold all options (ID -> name mapping)\r\nconst searchTerm = ref(\"\");\r\nconst showDeletePopup = ref(false); // To control the visibility of the delete popup\r\nconst isDeleteButtonVisible = computed(\r\n  () => selectedConfigurations.value.length > 0\r\n);\r\n\r\n// Fetch configurations data\r\nconst fetchConfigurations = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    configurations.value = response.data?.data || [];\r\n    fetchOptions();\r\n  } catch (error) {\r\n    console.error(\"Error fetching configurations:\", error);\r\n  }\r\n};\r\n\r\n// Fetch options data (used to map option IDs to option names)\r\nconst fetchOptions = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/options`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    allOptions.value = response.data?.data || [];\r\n  } catch (error) {\r\n    console.error(\"Error fetching options:\", error);\r\n  }\r\n};\r\n\r\n// Filtering configurations based on the search term\r\nconst filteredConfigurations = computed(() => {\r\n  const lowerSearchTerm = searchTerm.value.toLowerCase();\r\n  return configurations.value.filter((config) =>\r\n    Object.values(config).join(\" \").toLowerCase().includes(lowerSearchTerm)\r\n  );\r\n});\r\n\r\n// Toggle selection logic for individual configurations\r\nconst toggleSelection = (configId) => {\r\n  const index = selectedConfigurations.value.indexOf(configId);\r\n  if (index > -1) {\r\n    selectedConfigurations.value.splice(index, 1);\r\n  } else {\r\n    selectedConfigurations.value.push(configId);\r\n  }\r\n};\r\n\r\n// Toggle select all logic\r\nconst toggleSelectAll = () => {\r\n  if (selectedConfigurations.value.length === configurations.value.length) {\r\n    selectedConfigurations.value = [];\r\n  } else {\r\n    selectedConfigurations.value = configurations.value.map(\r\n      (config) => config._id\r\n    );\r\n  }\r\n};\r\n\r\nconst getOptionName = (optionId) => {\r\n  const option = allOptions.value.find((opt) => opt._id === optionId);\r\n  return option ? option.name : \"Unknown\"; // Return the name or \"Unknown\" if not found\r\n};\r\n\r\n// Show the delete confirmation popup\r\nconst showPopup = () => {\r\n  showDeletePopup.value = true;\r\n};\r\n\r\n// Hide the delete confirmation popup\r\nconst hidePopup = () => {\r\n  showDeletePopup.value = false;\r\n};\r\n\r\n// Delete selected configurations\r\n// Function to delete the selected configurations\r\nconst deleteSelectedConfigurations = async () => {\r\n  if (selectedConfigurations.value.length === 0) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Iterate over each selected configuration\r\n    for (const configId of selectedConfigurations.value) {\r\n      // Send the DELETE request to the correct endpoint with the specific config ID\r\n      await axios.delete(`${baseURL}/configurations/${configId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n    }\r\n\r\n    // Optionally, refresh the list of configurations after deletion\r\n    await fetchConfigurations();\r\n\r\n    // Clear the selected configurations\r\n    selectedConfigurations.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting configurations:\", error);\r\n  }\r\n};\r\n\r\n// Fetch data on component mount\r\nonMounted(() => {\r\n  fetchConfigurations();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n\r\n  <div class=\"content\">\r\n    <div class=\"popup\" v-if=\"showDeletePopup\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"deleteSelectedConfigurations\" class=\"btn active\">\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link to=\"/admin/add-new-configuration\" class=\"btn active\">\r\n          Add New <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{ visibility: isDeleteButtonVisible ? 'visible' : 'hidden' }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Configurations Table -->\r\n    <div class=\"configurations\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedConfigurations.length === configurations.value?.length\r\n          \"\r\n        />\r\n        <p>Field Name</p>\r\n        <p>Type</p>\r\n        <p>Options</p>\r\n        <p>Partner ID</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <div\r\n          v-for=\"config in filteredConfigurations\"\r\n          :key=\"config._id\"\r\n          class=\"listItem\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            :checked=\"selectedConfigurations.includes(config._id)\"\r\n            @change=\"toggleSelection(config._id)\"\r\n          />\r\n          <router-link\r\n            :to=\"{\r\n              name: 'EditConfiguration',\r\n              params: { id: config._id },\r\n              query: { partnerId: config.partnerId },\r\n            }\"\r\n          >\r\n            <p>{{ config.fieldName }}</p>\r\n            <p>{{ config.fieldType }}</p>\r\n            <p>\r\n              {{\r\n                config.options && Array.isArray(config.options)\r\n                  ? config.options.map(getOptionName).join(\", \")\r\n                  : \"\"\r\n              }}\r\n            </p>\r\n            <p>{{ config.partnerId || \"None\" }}</p>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- No configurations message -->\r\n      <div v-if=\"!filteredConfigurations.length\" class=\"no-data\">\r\n        No configurations found.\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n  white-space: nowrap;\r\n}\r\n\r\n.configurations::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.configurations .top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-radius: 4px 8px 0 0;\r\n  gap: 16px;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.configurations .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .listItem {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 16px;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .listItem:nth-child(even) {\r\n  background-color: rgb(var(--primary-color), 0.1);\r\n}\r\n\r\n.configurations .listItem a {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  align-items: center;\r\n  column-gap: 16px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.configurations .top p,\r\n.configurations .listItem p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations .top p:nth-child(1),\r\n.configurations .listItem p:nth-child(1) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(2),\r\n.configurations .listItem p:nth-child(2) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(3),\r\n.configurations .listItem p:nth-child(3) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(4),\r\n.configurations .listItem p:nth-child(4) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(5),\r\n.configurations .listItem p:nth-child(5) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(6),\r\n.configurations .listItem p:nth-child(6) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(7),\r\n.configurations .listItem p:nth-child(7) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .listItem p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-configurations {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n</style>\r\n","import script from \"./ManageConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ManageConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ManageConfigurationsPage.vue?vue&type=style&index=0&id=73694da4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73694da4\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  const base64Url = token.split(\".\")[1];\r\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  const jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split(\"\")\r\n      .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n      .join(\"\")\r\n  );\r\n  return JSON.parse(jsonPayload);\r\n};\r\n\r\nconst tokenPayload = parseJwt(token); // Gebruik hier het token dat je hebt\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId;\r\nconst showSaveButton = ref(false);\r\n\r\nconst onConfigurationChange = () => {\r\n  showSaveButton.value = true; // Maak de \"Save\"-knop zichtbaar\r\n};\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Array om de configuraties op te slaan\r\nconst allConfigurations = ref([]); // Correcte initialisatie van ref\r\nconst partnerConfigurations = ref([]);\r\nconst selectedConfigurations = ref([]);\r\n\r\nconst isConfigurationSelected = (configurationId) => {\r\n  const partnerConfigIds = new Set(\r\n    partnerConfigurations.value.map((config) => config._id)\r\n  );\r\n  return partnerConfigIds.has(configurationId);\r\n};\r\n\r\n// Ophalen van alle configuraties\r\nconst fetchConfigurations = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    allConfigurations.value = response.data?.data || [];\r\n    await fetchPartnerConfigurations();\r\n  } catch (error) {\r\n    console.error(\"Error fetching all configurations:\", error);\r\n  }\r\n};\r\n\r\nconst fetchPartnerConfigurations = async () => {\r\n  if (!partnerId) return;\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partnerConfigurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      params: { partnerId },\r\n    });\r\n\r\n    partnerConfigurations.value = response.data?.data || [];\r\n\r\n    // Maak een set van partnerconfiguraties\r\n    const partnerConfigIds = new Set(\r\n      partnerConfigurations.value.map((config) => config.configurationId)\r\n    );\r\n\r\n    selectedConfigurations.value = allConfigurations.value.map((config) => {\r\n      const isChecked = partnerConfigIds.has(config._id);\r\n      return {\r\n        ...config,\r\n        checked: isChecked,\r\n        disabled: !partnerConfigIds.has(config._id),\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations:\", error);\r\n  }\r\n};\r\n\r\nconst saveUpdatedConfigurations = async () => {\r\n  try {\r\n    const promises = selectedConfigurations.value.map(async (config) => {\r\n      const payload = {\r\n        partnerId: partnerId,\r\n        configurationId: config._id, // Gebruik config._id als configurationId\r\n        options: config.options || {}, // Zorg ervoor dat de juiste structuur is\r\n      };\r\n\r\n      // Controleer of de partnerId gelijk is aan configurationId\r\n      if (partnerId === config._id) {\r\n        alert(\"PartnerId en ConfigurationId kunnen niet hetzelfde zijn!\");\r\n        return; // Stop de uitvoering hier als de waarden gelijk zijn\r\n      }\r\n\r\n      // Controleer of de configuratie al bestaat voor deze partner\r\n      const existingConfig = partnerConfigurations.value.find(\r\n        (pc) => pc.configurationId === config._id && pc.partnerId === partnerId\r\n      );\r\n\r\n      if (config.checked) {\r\n        // Als de configuratie nog niet bestaat voor deze partner, voeg deze toe\r\n        if (!existingConfig) {\r\n          return axios\r\n            .post(`${baseURL}/partnerConfigurations`, payload, {\r\n              headers: { Authorization: `Bearer ${token}` },\r\n            })\r\n            .then((response) => {\r\n              console.log(\"Config toegevoegd:\", response.data);\r\n            })\r\n            .catch((error) => {\r\n              console.error(\r\n                \"Fout bij toevoegen configuratie:\",\r\n                error.response ? error.response.data : error\r\n              );\r\n            });\r\n        }\r\n      } else {\r\n        // Verwijder de configuratie als de checkbox is uitgeschakeld\r\n        if (existingConfig) {\r\n          return axios\r\n            .delete(`${baseURL}/partnerConfigurations/${existingConfig._id}`, {\r\n              headers: { Authorization: `Bearer ${token}` },\r\n            })\r\n            .then((response) => {\r\n              console.log(\"Config verwijderd:\", response.data);\r\n            })\r\n            .catch((error) => {\r\n              console.error(\r\n                \"Fout bij verwijderen configuratie:\",\r\n                error.response ? error.response.data : error\r\n              );\r\n            });\r\n        }\r\n      }\r\n    });\r\n\r\n    // Wacht op alle beloftes\r\n    await Promise.all(promises);\r\n\r\n    alert(\"Configuraties zijn succesvol opgeslagen!\");\r\n    showSaveButton.value = false;\r\n\r\n    // Reset originele status na succesvolle opslag\r\n    selectedConfigurations.value.forEach((config) => {\r\n      config.originalChecked = config.checked;\r\n    });\r\n\r\n    // Partnerconfiguraties opnieuw ophalen om duplicaten te voorkomen\r\n    await fetchPartnerConfigurations();\r\n  } catch (error) {\r\n    console.error(\"Error saving updated configurations:\", error);\r\n    alert(\"Er is een fout opgetreden bij het opslaan van de configuraties.\");\r\n  }\r\n};\r\n\r\n// Ophalen van de configuraties wanneer de component wordt geladen\r\nonMounted(() => {\r\n  fetchConfigurations();\r\n});\r\n\r\nprovide(\"partnerId\", partnerId); // Geeft partnerId door aan andere componenten indien nodig\r\n\r\n// State for managing the profile and other popups\r\nconst activeSection = ref(\"My profile\");\r\nconst profileEditPopup = ref(false);\r\nconst changeEmailAddressPopup = ref(false);\r\nconst changePasswordPopup = ref(false);\r\nconst changeSubscriptionPopup = ref(false);\r\nconst deleteAccountPopup = ref(false);\r\nconst successProfileEditPopup = ref(false);\r\nconst succesEmailAddressPopup = ref(false);\r\nconst succesPasswordPopup = ref(false);\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Method to set active section\r\nconst setActiveSection = (section) => {\r\n  activeSection.value = section;\r\n};\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Update user profile\r\nconst updateProfile = async () => {\r\n  try {\r\n    if (!user.firstName || !user.lastName || !user.email) {\r\n      throw new Error(\"First Name, Last Name, and Email are required fields.\");\r\n    }\r\n\r\n    const response = await axios.put(\r\n      `${baseURL}/users/${userId}`,\r\n      {\r\n        user: {\r\n          firstname: user.firstName,\r\n          lastname: user.lastName,\r\n          email: user.email,\r\n          password: user.password,\r\n          role: user.role,\r\n          activeUnactive: user.activeUnactive,\r\n          country: user.country,\r\n          city: user.city,\r\n          postalCode: user.postalCode,\r\n          profileImage: user.profilePicture,\r\n          bio: user.bio,\r\n        },\r\n      },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n\r\n    if (response.status !== 200) {\r\n      throw new Error(`Unexpected response status: ${response.status}`);\r\n    }\r\n\r\n    closeProfileEditPopup();\r\n    opensuccessProfileEditPopup();\r\n    await fetchUserProfile();\r\n  } catch (error) {\r\n    console.error(\"Error updating profile:\", error);\r\n    if (error.response) {\r\n      console.error(\"Server responded with error:\", error.response.data);\r\n    }\r\n  }\r\n};\r\n\r\n// Update email address\r\nconst updateEmailAddress = async () => {\r\n  try {\r\n    const response = await axios.put(\r\n      `${baseURL}/users/${userId}`,\r\n      { user: { email: user.newEmail } },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n    closeChangeEmailAddressPopup();\r\n    openSuccesChangeEmailAddressPopup();\r\n    await fetchUserProfile();\r\n  } catch (error) {\r\n    console.error(\"Error updating email:\", error);\r\n  }\r\n};\r\n\r\n// Update password\r\nconst updatePassword = async () => {\r\n  try {\r\n    if (!user.oldPassword || !user.newPassword || !user.newPasswordRepeat) {\r\n      throw new Error(\r\n        \"Please enter the old password, the new password, and the repetition of the new password.\"\r\n      );\r\n    }\r\n\r\n    if (user.newPassword !== user.newPasswordRepeat) {\r\n      throw new Error(\r\n        \"The new password and the repetition of the new password do not match.\"\r\n      );\r\n    }\r\n\r\n    const response = await axios.put(\r\n      `${baseURL}/users/${userId}`,\r\n      {\r\n        user: {\r\n          oldPassword: user.oldPassword,\r\n          newPassword: user.newPassword,\r\n        },\r\n      },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n    closeChangePasswordPopup();\r\n    openSuccesChangePasswordPopup();\r\n  } catch (error) {\r\n    console.error(\"Error updating password:\", error);\r\n  }\r\n};\r\n\r\n// Handle account deletion\r\nconst handleDeleteAccount = async () => {\r\n  try {\r\n    await axios.delete(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    localStorage.removeItem(\"jwtToken\");\r\n    router.push(\"/login\");\r\n  } catch (error) {\r\n    console.error(\"Error deleting account:\", error);\r\n  }\r\n};\r\n\r\n// Popup control functions\r\nconst openEditPopup = () => (profileEditPopup.value = true);\r\nconst closeProfileEditPopup = () => (profileEditPopup.value = false);\r\n\r\nconst openChangeEmailAddressPopup = () =>\r\n  (changeEmailAddressPopup.value = true);\r\nconst closeChangeEmailAddressPopup = () =>\r\n  (changeEmailAddressPopup.value = false);\r\n\r\nconst openChangePasswordPopup = () => (changePasswordPopup.value = true);\r\nconst closeChangePasswordPopup = () => (changePasswordPopup.value = false);\r\n\r\nconst openDeleteAccountPopup = () => (deleteAccountPopup.value = true);\r\nconst closeDeleteAccountPopup = () => (deleteAccountPopup.value = false);\r\n\r\n// Success popups\r\nconst opensuccessProfileEditPopup = () =>\r\n  (successProfileEditPopup.value = true);\r\nconst openSuccesChangeEmailAddressPopup = () =>\r\n  (succesEmailAddressPopup.value = true);\r\nconst openSuccesChangePasswordPopup = () => (succesPasswordPopup.value = true);\r\n\r\nconst closeSuccessProfileEditPopup = () =>\r\n  (successProfileEditPopup.value = false);\r\nconst closeSuccessEmailAddressPopup = () =>\r\n  (succesEmailAddressPopup.value = false);\r\nconst closeSuccessChangePasswordPopup = () =>\r\n  (succesPasswordPopup.value = false);\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Watch for changes in user data and update the Navigation component\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\nwatch(\r\n  selectedConfigurations,\r\n  (newConfigurations) => {\r\n    // Sla de geselecteerde staat op in localStorage\r\n    const checkedState = newConfigurations.reduce((acc, config) => {\r\n      acc[config._id] = config.checked;\r\n      return acc;\r\n    }, {});\r\n\r\n    localStorage.setItem(\r\n      \"selectedConfigurations\",\r\n      JSON.stringify(checkedState)\r\n    );\r\n\r\n    // Controleer of er wijzigingen zijn in de geselecteerde configuraties\r\n    const hasChanges = newConfigurations.some(\r\n      (newConfig, index) =>\r\n        newConfig.checked !== selectedConfigurations.value[index]?.checked\r\n    );\r\n\r\n    showSaveButton.value = hasChanges;\r\n  },\r\n  { deep: true }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <div class=\"top\">\r\n      <h1>Settings</h1>\r\n      <font-awesome-icon icon=\"caret-right\" />\r\n    </div>\r\n\r\n    <div class=\"elements\">\r\n      <div class=\"menu\">\r\n        <p\r\n          :class=\"{ active: activeSection === 'My profile' }\"\r\n          @click=\"setActiveSection('My profile')\"\r\n        >\r\n          My profile\r\n        </p>\r\n        <p\r\n          :class=\"{ active: activeSection === 'Login settings' }\"\r\n          @click=\"setActiveSection('Login settings')\"\r\n        >\r\n          Login settings\r\n        </p>\r\n        <p\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          :class=\"{ active: activeSection === 'configurations' }\"\r\n          @click=\"setActiveSection('configurations')\"\r\n        >\r\n          Configurations\r\n        </p>\r\n        <p\r\n          v-if=\"user.role === 'partner_admin' && partnerPackage\"\r\n          :class=\"{ active: activeSection === 'Subscription' }\"\r\n          @click=\"setActiveSection('Subscription')\"\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n        >\r\n          Subscription\r\n        </p>\r\n      </div>\r\n\r\n      <div v-if=\"activeSection === 'My profile'\" class=\"myProfile\">\r\n        <div class=\"row\">\r\n          <h2 class=\"border\" style=\"visibility: hidden\">My profile</h2>\r\n\r\n          <button @click=\"openEditPopup\" class=\"btn\">\r\n            <img src=\"../../assets/icons/paintbrush.svg\" alt=\"icon\" />\r\n            <p>Edit</p>\r\n          </button>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"pictureWithText\">\r\n            <div class=\"profilePicture\"></div>\r\n            <div>\r\n              <h3>{{ user.firstName }} {{ user.lastName }}</h3>\r\n              <p>{{ user.bio ? user.bio : user.role }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"personalInformation\">\r\n          <h3>Personal Information</h3>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>First name</label>\r\n              <p>{{ user.firstName }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Last name</label>\r\n              <p>{{ user.lastName }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Email address</label>\r\n              <p>{{ user.email }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"address\">\r\n          <h3>Address</h3>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Country</label>\r\n              <p>{{ user.country }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>City</label>\r\n              <p>{{ user.city }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Postal code</label>\r\n              <p>{{ user.postalCode }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"activeSection === 'Login settings'\" class=\"account\">\r\n        <h2 class=\"border\">Account</h2>\r\n        <div class=\"accountElements\">\r\n          <div class=\"column\">\r\n            <h3>Change email</h3>\r\n            <div class=\"row\">\r\n              <p>{{ user.email }}</p>\r\n              <button @click=\"openChangeEmailAddressPopup\" class=\"link\">\r\n                <p>Change email</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"column\">\r\n            <h3>Change password</h3>\r\n            <div class=\"row\">\r\n              <p>&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;</p>\r\n              <button @click=\"openChangePasswordPopup\" class=\"link\">\r\n                <p>Change password</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"column\">\r\n            <div class=\"row\">\r\n              <h3>Delete account</h3>\r\n              <button @click=\"openDeleteAccountPopup\" class=\"deletelink\">\r\n                <p>Delete account</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"activeSection === 'configurations'\" class=\"configurations\">\r\n        <h2 class=\"border\">Configurations</h2>\r\n\r\n        <!-- Voeg dit toe in je template om de status van de configuraties te controleren -->\r\n        <div v-if=\"!selectedConfigurations.length\">\r\n          Geen configuraties beschikbaar.\r\n        </div>\r\n\r\n        <div v-else class=\"configurationsItems\">\r\n          <div\r\n            v-for=\"config in selectedConfigurations\"\r\n            :key=\"config._id\"\r\n            class=\"row\"\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              v-model=\"config.checked\"\r\n              :id=\"'config-' + config._id\"\r\n              @change=\"onConfigurationChange\"\r\n              :checked=\"isConfigurationSelected(config._id)\"\r\n            />\r\n            <label :for=\"'config-' + config._id\">{{\r\n              config.fieldName || \"Naam niet beschikbaar\"\r\n            }}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"frameBtn\">\r\n          <button\r\n            v-if=\"showSaveButton\"\r\n            @click=\"saveUpdatedConfigurations\"\r\n            class=\"btn active\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        v-if=\"activeSection === 'Subscription' && user.role === 'partner_admin'\"\r\n        class=\"subscription\"\r\n      >\r\n        <h2 class=\"border\">Subscription</h2>\r\n        <div class=\"subscriptionElements\">\r\n          <div class=\"column\" v-if=\"partnerPackage\">\r\n            <h3>Package</h3>\r\n            <div class=\"row\">\r\n              <p>{{ partnerPackage }}</p>\r\n              <button @click=\"openChangeSubscriptionPopup\" class=\"link\">\r\n                <p>Change subscription</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"profileEditPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeProfileEditPopup\">&times;</span>\r\n            <h2>Edit Profile</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label>First name</label>\r\n                <input v-model=\"user.firstName\" placeholder=\"Voornaam\" />\r\n              </div>\r\n              <div class=\"column\">\r\n                <label>Last name</label>\r\n                <input v-model=\"user.lastName\" placeholder=\"Achternaam\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label>Email address</label>\r\n                <input v-model=\"user.email\" placeholder=\"E-mail\" />\r\n              </div>\r\n              <div class=\"column\">\r\n                <label>Country</label>\r\n                <input v-model=\"user.country\" placeholder=\"Land\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label>City</label>\r\n                <input v-model=\"user.city\" placeholder=\"Stad\" />\r\n              </div>\r\n              <div class=\"column\">\r\n                <label>Postal code</label>\r\n                <input v-model=\"user.postalCode\" placeholder=\"Postcode\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Profile Picture URL</label>\r\n              <input\r\n                v-model=\"user.profilePicture\"\r\n                placeholder=\"URL voor profielfoto\"\r\n              />\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Bio</label>\r\n              <textarea v-model=\"user.bio\" placeholder=\"Bio\"></textarea>\r\n            </div>\r\n            <button @click=\"updateProfile\" class=\"btn\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div v-if=\"changeEmailAddressPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeChangeEmailAddressPopup\"\r\n              >&times;</span\r\n            >\r\n            <h2>Change Email Address</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Old Email Address</label>\r\n              <p>{{ user.email }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>New Email Address</label>\r\n              <input v-model=\"user.newEmail\" placeholder=\"example@mail.be\" />\r\n            </div>\r\n            <button @click=\"updateEmailAddress\" class=\"btn\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div v-if=\"changePasswordPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeChangePasswordPopup\">&times;</span>\r\n            <h2>Change Password</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Old password</label>\r\n              <input\r\n                v-model=\"user.oldpassword\"\r\n                type=\"password\"\r\n                placeholder=\"••••••••\"\r\n              />\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>New password</label>\r\n              <input\r\n                v-model=\"user.newpassword\"\r\n                type=\"password\"\r\n                placeholder=\"••••••••\"\r\n              />\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Repeat new password</label>\r\n              <input\r\n                type=\"password\"\r\n                v-model=\"user.newPasswordRepeat\"\r\n                placeholder=\"••••••••\"\r\n              />\r\n            </div>\r\n            <p class=\"errorMessage\"></p>\r\n          </div>\r\n          <button\r\n            class=\"btn\"\r\n            @click=\"updatePassword(user.oldpassword, user.newpassword)\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"changeSubscriptionPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeChangeSubscriptionPopup\"\r\n              >&times;</span\r\n            >\r\n            <h2>Change Subscription</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Package</label>\r\n              <select v-model=\"selectedPackage\">\r\n                <option\r\n                  value=\"standard\"\r\n                  :selected=\"selectedPackage === 'standard'\"\r\n                >\r\n                  Standard\r\n                </option>\r\n                <option value=\"plus\" :selected=\"selectedPackage === 'plus'\">\r\n                  Plus\r\n                </option>\r\n                <option value=\"pro\" :selected=\"selectedPackage === 'pro'\">\r\n                  Pro\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <p class=\"errorMessage\">{{ errorMessage }}</p>\r\n          </div>\r\n          <button class=\"btn\" @click=\"updateSubscription\">Save</button>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"deleteAccountPopup\" class=\"deletePopup\">\r\n        <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n        <div class=\"text\">\r\n          <h2>Are you sure?</h2>\r\n          <p>Do you really want to delete your account?</p>\r\n          <div class=\"btns\">\r\n            <button @click=\"closeDeleteAccountPopup\">Cancel</button>\r\n            <button @click=\"handleDeleteAccount\" class=\"btn active\">\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"successProfileEditPopup\" class=\"popup\">\r\n        <div class=\"successpopup\">\r\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\r\n          <div class=\"text\">\r\n            <div>\r\n              <h2>Succesfully!</h2>\r\n              <p>Your profile has been edited successfully.</p>\r\n            </div>\r\n            <button @click=\"closeSuccessProfileEditPopup\" class=\"btn active\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"succesEmailAddressPopup\" class=\"popup\">\r\n        <div class=\"successpopup\">\r\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\r\n          <div class=\"text\">\r\n            <div>\r\n              <h2>Succesfully!</h2>\r\n              <p>Your e-mail address has been changed.</p>\r\n            </div>\r\n            <button @click=\"closeSuccessEmailAddressPopup\" class=\"btn active\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"succesPasswordPopup\" class=\"popup\">\r\n        <div class=\"successpopup\">\r\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\r\n          <div class=\"text\">\r\n            <div>\r\n              <h2>Succesfully!</h2>\r\n              <p>Your password has been changed.</p>\r\n            </div>\r\n            <button @click=\"closeSuccessPasswordPopup\" class=\"btn active\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  margin-bottom: 72px;\r\n}\r\n\r\n.top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.top svg {\r\n  color: var(--titles-color);\r\n}\r\n\r\n.elements {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  padding: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.elements .menu {\r\n  padding-right: 24px;\r\n  border-right: 1px solid rgba(255, 255, 255, 0.2);\r\n  display: none;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 200px;\r\n}\r\n\r\n.elements .menu p {\r\n  padding-left: 24px;\r\n}\r\n\r\n.elements .menu p.active {\r\n  background-color: var(--primary-color);\r\n  padding: 4px 12px 4px 24px;\r\n  border-radius: 4px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.elements .myProfile {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.elements .account {\r\n  width: 100%;\r\n}\r\n\r\n.elements .myProfile .info {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n}\r\n\r\n.elements .myProfile .info .pictureWithText {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.elements .myProfile .info .pictureWithText .profilePicture {\r\n  background-image: url(\"../../assets/images/Odette_lunettes.webp\");\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  width: 64px;\r\n  height: 64px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.elements .myProfile .info .pictureWithText div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.info,\r\n.personalInformation,\r\n.address {\r\n  padding: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  border-radius: 4px;\r\n}\r\n\r\n.personalInformation,\r\n.address {\r\n  align-items: flex-start;\r\n}\r\n\r\n.myProfile .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.myProfile .row .mobile {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.myProfile .row .mobile i {\r\n  color: var(--titles-color);\r\n}\r\n\r\n.myProfile .row .desktop {\r\n  display: none;\r\n}\r\n\r\n.configurations,\r\n.account,\r\n.subscription {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.configurations {\r\n  align-items: flex-start;\r\n}\r\n\r\n.configurations .configurationsItems {\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .configurationsItems .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.configurations .configurationsItems .row input {\r\n  border-radius: 4px;\r\n  width: auto;\r\n}\r\n\r\n.configurations .configurationsItems .row p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.custom-checkbox {\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 2px solid white;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.custom-checkbox:checked {\r\n  background-color: var(--white);\r\n}\r\n\r\n.custom-checkbox:checked::before {\r\n  content: \"\\2714\";\r\n  font-size: 16px;\r\n  color: var(--black);\r\n  position: absolute;\r\n  top: -2px;\r\n  left: 5px;\r\n}\r\n\r\n.account .accountElements,\r\n.subscription .subscriptionElements {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n.account .accountElements .column,\r\n.subscription .subscriptionElements .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.account .accountElements .column .row,\r\n.subscription .subscriptionElements .column .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.account .accountElements .column .row .link,\r\n.subscription .subscriptionElements .column .row .link {\r\n  background-color: var(--gray);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.account .accountElements .column .row .link p,\r\n.subscription .subscriptionElements .column .row .link p {\r\n  color: var(--black);\r\n  font-weight: 400;\r\n}\r\n\r\n.account .accountElements .column .row .deletelink {\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.account .accountElements .column .row .deletelink p {\r\n  color: #d34848;\r\n}\r\n\r\n.fields {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.configurations .list {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  column-gap: 120px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.configurations .list {\r\n  padding: 16px 0;\r\n}\r\n\r\n.fields .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.column p,\r\ninput,\r\ntextarea {\r\n  color: rgba(255, 255, 255, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 8px;\r\n}\r\n\r\ntextarea {\r\n  background-color: transparent;\r\n  padding: 8px;\r\n  height: 100px;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  width: 100%;\r\n}\r\n\r\n.elements .display {\r\n  display: none;\r\n}\r\n\r\n.popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.successpopup {\r\n  background-color: var(--secondary-color);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 24px;\r\n  padding: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.successpopup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n}\r\n\r\n.successpopup .text .btn {\r\n  color: var(--text-color);\r\n}\r\n\r\n.successpopup .text div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  width: 88%;\r\n  position: relative;\r\n  align-items: flex-end;\r\n}\r\n\r\n.close {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.popup-content {\r\n  background-color: var(--secondary-color);\r\n  padding: 24px;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.popup-content .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.popup-content .fields {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.popup-content .row span {\r\n  font-size: 24px;\r\n}\r\n\r\n.popup-content .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.popup-content .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.popup-content .btns .btn {\r\n  color: var(--text-color);\r\n}\r\n\r\nbutton {\r\n  background-color: transparent;\r\n}\r\n\r\n.deletePopup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.deletePopup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.deletePopup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.deletePopup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.deletePopup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.deletePopup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p,\r\n.errorMessage {\r\n  color: #d34848;\r\n}\r\n\r\n.frameBtn {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n  .elements .menu {\r\n    display: flex;\r\n  }\r\n\r\n  .fields,\r\n  .configurations .list {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    column-gap: 120px;\r\n    row-gap: 16px;\r\n  }\r\n}\r\n@media (min-width: 1200px) {\r\n  .popup-content {\r\n    width: 400px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsPage.vue?vue&type=style&index=0&id=2538fbc6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2538fbc6\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\r\nimport Login from \"./views/LoginPage.vue\";\r\nimport ForgotPassword from \"./views/ForgotPassword.vue\";\r\nimport VerificationCode from \"./views/VerificationCode.vue\";\r\nimport NewPassword from \"./views/NewPassword.vue\";\r\nimport Collections from \"./views/Collections.vue\";\r\nimport DetailsProduct from \"./views/DetailsProduct.vue\";\r\nimport Home from \"./views/admin/HomePage.vue\";\r\nimport AddNewProduct from \"./views/admin/AddNewProductPage.vue\";\r\nimport EditProduct from \"./views/admin/EditProduct.vue\";\r\nimport Partners from \"./views/admin/PartnersPage.vue\";\r\nimport AddNewPartner from \"./views/admin/AddNewPartnerPage.vue\";\r\nimport EditPartner from \"./views/admin/EditPartner.vue\";\r\nimport Orders from \"./views/admin/OrdersPage.vue\";\r\nimport EditOrder from \"./views/admin/EditOrder.vue\";\r\nimport Styling from \"./views/admin/StylingPage.vue\";\r\nimport Users from \"./views/admin/UsersPage.vue\";\r\nimport AddNewUser from \"./views/admin/AddNewUserPage.vue\";\r\nimport EditUser from \"./views/admin/EditUser.vue\";\r\nimport AddNewConfiguration from \"./views/admin/AddNewConfigurationPage.vue\";\r\nimport EditConfiguration from \"./views/admin/EditConfigurationPage.vue\";\r\nimport MyConfigurations from \"./views/admin/MyConfigurationsPage.vue\";\r\nimport ManageConfigurations from \"./views/admin/ManageConfigurationsPage.vue\";\r\nimport Settings from \"./views/admin/SettingsPage.vue\";\r\n\r\nexport default createRouter({\r\n  history: createWebHistory(),\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"Collections\",\r\n      component: Collections,\r\n    },\r\n    {\r\n      path: \"/product/:productId\",\r\n      name: \"DetailsProduct\",\r\n      component: DetailsProduct,\r\n    },\r\n    {\r\n      path: \"/login\",\r\n      name: \"Login\",\r\n      component: Login,\r\n    },\r\n    {\r\n      path: \"/forgotPassword\",\r\n      name: \"ForgotPassword\",\r\n      component: ForgotPassword,\r\n    },\r\n    {\r\n      path: \"/verificationCode\",\r\n      name: \"VerificationCode\",\r\n      component: VerificationCode,\r\n    },\r\n    {\r\n      path: \"/newPassword\",\r\n      name: \"NewPassword\",\r\n      component: NewPassword,\r\n    },\r\n    {\r\n      path: \"/admin\",\r\n      name: \"Home\",\r\n      component: Home,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-product\",\r\n      name: \"AddNewProduct\",\r\n      component: AddNewProduct,\r\n    },\r\n    {\r\n      path: \"/admin/edit-product/:id\",\r\n      name: \"EditProduct\",\r\n      component: EditProduct,\r\n    },\r\n    {\r\n      path: \"/admin/partners\",\r\n      name: \"Partners\",\r\n      component: Partners,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-partner\",\r\n      name: \"AddNewPartner\",\r\n      component: AddNewPartner,\r\n    },\r\n    {\r\n      path: \"/admin/edit-partner/:id\",\r\n      name: \"EditPartner\",\r\n      component: EditPartner,\r\n    },\r\n    {\r\n      path: \"/admin/orders\",\r\n      name: \"Orders\",\r\n      component: Orders,\r\n    },\r\n    {\r\n      path: \"/admin/edit-order/:id\",\r\n      name: \"EditOrder\",\r\n      component: EditOrder,\r\n    },\r\n    {\r\n      path: \"/admin/styling\",\r\n      name: \"Styling\",\r\n      component: Styling,\r\n    },\r\n    {\r\n      path: \"/admin/users\",\r\n      name: \"Users\",\r\n      component: Users,\r\n    },\r\n    {\r\n      path: \"/admin/edit-user/:id\",\r\n      name: \"EditUser\",\r\n      component: EditUser,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-user\",\r\n      name: \"AddNewUser\",\r\n      component: AddNewUser,\r\n    },\r\n    {\r\n      path: \"/admin/settings\",\r\n      name: \"Settings\",\r\n      component: Settings,\r\n    },\r\n    {\r\n      path: \"/admin/manageconfigurations\",\r\n      name: \"ManageConfigurations\",\r\n      component: ManageConfigurations,\r\n    },\r\n    {\r\n      path: \"/admin/myconfigurations\",\r\n      name: \"MyConfigurations\",\r\n      component: MyConfigurations,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-configuration\",\r\n      name: \"AddNewConfiguration\",\r\n      component: AddNewConfiguration,\r\n    },\r\n    {\r\n      path: \"/admin/edit-configuration/:id\",\r\n      name: \"EditConfiguration\",\r\n      component: EditConfiguration,\r\n    },\r\n  ],\r\n});\r\n","import { createApp } from \"vue\";\r\nimport \"./style.css\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport { createPinia } from \"pinia\";\r\n\r\ncreateApp(App).use(router).use(createPinia()).mount(\"#app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(961)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["__exports__","render","router","jwtToken","localStorage","getItem","tokenPayload","JSON","parse","atob","split","partnerId","companyId","isProduction","window","location","hostname","baseURL","fallbackStyle","primary_color","secondary_color","text_color","titles_color","background_color","button_color","logo_url","fontFamilyTitles","fontFamilyBodyText","black","white","blue_600","gray_100","gray_200","gray_300","gray_400","gray_500","gray_600","gray_700","gray_800","gray_900","error","getPartnerId","async","partnerName","currentRoute","value","query","partner","fetchPartnerID","getHouseStyleFromDatabase","id","response","get","headers","Authorization","huisstijlData","data","document","documentElement","style","setProperty","loadFonts","applyFallbackStyles","formattedPartnerName","replace","trim","partners","find","p","name","toLowerCase","_id","err","bodyFont","titleFont","addFontToDocument","fontUrl","existingLink","head","querySelector","link","createElement","rel","href","appendChild","console","warn","email","password","errorMessage","login","fetch","method","body","stringify","then","ok","Error","json","status","setItem","token","decodedToken","userRole","role","push","message","catch","route","isValidEmail","emailPattern","test","routeEmail","sendMail","post","path","verificationCode","successMessage","isValidCode","code","length","emailQuery","verifyCode","isAxiosError","newPassword","repeatNewPassword","info","updatePassword","uploadFileToCloudinary","file","productName","formData","FormData","append","sanitizeFolderName","folderName","fileExtension","pop","uploadEndpoint","includes","errorData","secure_url","dracoLoader","DRACOLoader","setDecoderPath","gltfLoader","setDRACOLoader","fetchProducts","partnerResponse","apiUrl","productResponse","products","fetchProductTypes","productTypesSet","Set","map","product","productType","productTypes","Array","from","getcolors","configResponse","configurations","selectedColors","forEach","config","options","option","optionId","colorName","some","o","color","addProductType","newType","isArray","add2DProduct","productCode","productPrice","description","brand","configurationId","images","log","imageArray","processedImages","imageUrl","url","configuration","configId","selectedOptions","existingOption","opt","img","formattedProductData","activeInactive","responseBody","add3DProduct","thumbnail","modelUrl","thumbnailUrl","startsWith","validConfigurations","Date","now","productData","modelFile","checkToken","fetchPartnerPackage","packageData","package","fetchPartnerByName","fetchPartnerById","loading","filters","activeFilter","fetchAndSetProducts","filteredProducts","fetchAndSetProductTypes","filter","setActiveFilter","getFirstImage","class","ref","autoplay","playsinline","server","proxy","target","changeOrigin","rewrite","video","canvas","faceMesh","scene","camera","renderer","model","mounted","this","initializeCamera","setupFaceMesh","setup3DScene","addEventListener","onResize","methods","$refs","videoElement","stream","navigator","mediaDevices","getUserMedia","srcObject","Module","canvasElement","FaceMesh","locateFile","setOptions","maxNumFaces","refineLandmarks","onResults","onFaceMeshResults","initialize","detectFaces","send","image","requestAnimationFrame","results","multiFaceLandmarks","landmarks","updateModelPosition","innerWidth","innerHeight","alpha","setSize","loader","load","gltf","add","undefined","position","z","nose","set","x","y","aspect","updateProjectionMatrix","showModel","isFaceTrackingVisible","toggleFaceTracking","onTouchStart","event","preventDefault","isMouseDown","touch","touches","prevMouseX","clientX","prevMouseY","clientY","onTouchMove","deltaX","deltaY","rotation","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","materials","layers","layersColors","currentPageIndex","productImages","selectedImage","productId","productModelFile","isLoading","logoUrl","optionNames","partnerPackage","rendererMobile","rendererDesktop","objLoader","isModelLoaded","isSceneInitialized","isRendererInitialized","selectedOption","selectedOptionName","selectedItems","productConfigs","partnerConfigurationsCount","fetchPartnerName","onWindowResize","container","offsetWidth","offsetHeight","logSceneLayers","initializeScene","lookAt","containerModelMobile","containerModelDesktop","contains","domElement","light","directionalLight","ambientLight","animate","extractMaterials","object","traverse","child","isMesh","material","load3DModel","filePath","loadOBJModel","loadGLBModel","box","setFromObject","center","getCenter","scale","getColorForLayer","newOption","applyColorToActiveLayer","activePage","fieldNameElement","fieldName","textContent","match","validColor","colorApplied","mat","selectOption","params","result","findFieldNameForOption","optionName","fetchNumberOfPartnerConfigurations","count","fetchPartnerConfigurations","productConfigurationId","optionNameById","existing","item","loadOptionsForConfig","fetchProductData","selectedOptionImages","enrichedConfigurations","Promise","all","selectedConfigId","configUrl","configResult","selectedOptionData","optionUrl","optionResponse","optionResult","existingConfigIndex","findIndex","selectedItem","optionNamesList","flatMap","fetchLogoUrl","previousPage","pages","querySelectorAll","overview","summary","nextButton","backButton","display","page","classList","remove","visibility","nextPage","showPreviousImage","currentIndex","indexOf","showNextImage","setSelectedImage","removeEventListener","newCode","immediate","user","firstName","lastName","newEmail","oldEmail","oldPassword","newPasswordRepeat","country","city","postalCode","profilePicture","bio","activeUnactive","parseJwt","base64Url","base64","jsonPayload","decodeURIComponent","c","charCodeAt","toString","slice","join","userId","getUserDataFromToken","payload","decodedPayload","firstname","lastname","fetchUserData","userData","primaryColor","secondaryColor","backgroundColor","textColor","logout","removeItem","getActiveIcon","routeName","defaultIcon","profileImage","URL","hoveredLabel","showLabel","label","hideLabel","fetchUserProfile","newprofileImage","fetchData","getUserCompanyId","variantsCount","reduce","partnerConfigurations","fetchConfigurations","partnerConfigs","String","partnerConfig","matchingConfig","selectedTypeFilter","searchTerm","selectedProducts","isDeleteButtonVisible","isPopupVisible","decoded","toggleSelection","index","splice","toggleSelectAll","checked","deleteSelectedProducts","showPopup","confirmDelete","deleteProducts","hidePopup","fetchOptionNames","customConfigs","totalOptionsCount","optionsCount","fetchPartnerData","configurationsResponse","partnerConfigsWithDetails","configDetailsResponse","configDetails","configurationDetails","toggleDropdown","buttonText","types","type","key","placeholder","handleAddOption","props","required","dropdownStates","Object","computed","isOpen","$emit","stopPropagation","default","isAdding","handleAddAction","colorOptions","isSelected","toggleColor","newColor","addColor","isAddingColor","selectedColorsCopy","newColorOption","multiple","handleColorImageUpload","$event","triggerFileInput","colorUploads","src","alt","previewImages","previewUrl","imgIndex","isImageUrl","width","Number","fileInput","getElementById","click","handleThumbnailUpload","files","validFiles","isImageFile","uploadedUrls","secureUrl","is3DFile","alert","render3DModel","containerId","defaults","uploadedFile","selectedType","selected","colorNames","fetchedColors","fetchcolors","fetchedColorsPerConfig","handleFileUpload","modelFileInput","addNewProduct","values","every","colors","fieldType","selectedColorOptions","colorImages","partnerPackageResponse","selectedConfigurationId","partnerData","rawFetchedColors","configColors","fetchedProductTypes","sole_top","colorUploadsArray","editProduct","updateProduct","fileUrl","userCompanyId","selectedFilter","selectedpartners","fetchpartners","deletepartners","filteredpartners","filteredBySearch","filteredByType","setInterval","street","contactEmail","contactPhone","subscriptionPackage","defaultStyles","addPartner","partnerPayload","address","postal_code","contact_email","contact_phone","errorDetail","updatePartner","getToken","orders","selectedOrders","fetchDataFromApi","assign","fetchOrders","ordersData","order","filteredOrders","matchesSearchTerm","matchesFilter","orderStatus","orderId","deleteSelectedOrders","deleteOrders","orderData","customer","houseNumber","lacesColor","soleBottomColor","soleTopColor","insideColor","outside1Color","outside2Color","outside3Color","lacesTexture","soleBottomTexture","soleTopTexture","insideTexture","outside1Texture","outside2Texture","outside3Texture","fetchOrderData","updateOrder","newUser","deep","titlesColor","buttonColor","fonts","logo","backgroundImage","selectedFontForTitles","selectedFontForText","GoogleFonts","fetchGoogleFonts","apiKey","googleFontsApi","items","font","family","selectFont","updateHouseStyleInDatabase","openColorPicker","field","input","button_Color","background_image_url","resetHouseStyle","defaultHuisstijl","houseStyleData","put","decodeToken","base64Payload","userPartnerId","selectedUsers","emptyState","users","filteredUsers","matchesPartner","selectAllUsers","deleteSelectedUsers","addUser","userPayload","userResponse","company","handleFileChange","updateUser","optionsInput","colorInput","generateUniqueId","Math","random","substr","colorId","hex","addConfiguration","configurationPayload","isColor","back","updateOptions","fetchOptionNameById","addColorToList","colorOption","colorCode","updateConfiguration","fetchConfiguration","colorDetails","allDomains","domainName","domainWithoutExtension","loadingConfigurations","optionsMap","isDataLoaded","isValidDomain","domain","domainPattern","forbiddenExtensions","isValid","ext","fetchAllDomains","updateDomain","fullDomain","endsWith","optionsResponse","configs","selectedConfigurations","selectAllPartnerConfigurations","productsToDelete","existingConfig","delete","getFullConfiguration","getOptionsNames","optionIds","allOptions","showDeletePopup","fetchOptions","filteredConfigurations","lowerSearchTerm","getOptionName","deleteSelectedConfigurations","showSaveButton","onConfigurationChange","allConfigurations","isConfigurationSelected","partnerConfigIds","has","isChecked","disabled","saveUpdatedConfigurations","promises","pc","originalChecked","activeSection","profileEditPopup","changeEmailAddressPopup","changePasswordPopup","changeSubscriptionPopup","deleteAccountPopup","successProfileEditPopup","succesEmailAddressPopup","succesPasswordPopup","setActiveSection","section","updateProfile","closeProfileEditPopup","opensuccessProfileEditPopup","updateEmailAddress","closeChangeEmailAddressPopup","openSuccesChangeEmailAddressPopup","closeChangePasswordPopup","openSuccesChangePasswordPopup","handleDeleteAccount","openEditPopup","openChangeEmailAddressPopup","openChangePasswordPopup","openDeleteAccountPopup","closeDeleteAccountPopup","closeSuccessProfileEditPopup","closeSuccessEmailAddressPopup","newConfigurations","checkedState","acc","hasChanges","newConfig","history","routes","component","Collections","DetailsProduct","ForgotPassword","VerificationCode","NewPassword","EditProduct","EditPartner","EditOrder","EditUser","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","r","d","definition","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","b","baseURI","self","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}