{"version":3,"file":"js/app.a2fc1f12.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/components/DynamicStyle.vue","webpack://frontend/./src/components/DynamicStyle.vue?0edb","webpack://frontend/./src/views/LoginPage.vue","webpack://frontend/./src/views/LoginPage.vue?fce3","webpack://frontend/./src/views/ForgotPassword.vue","webpack://frontend/./src/views/ForgotPassword.vue?1314","webpack://frontend/./src/views/VerificationCode.vue","webpack://frontend/./src/views/VerificationCode.vue?4302","webpack://frontend/./src/views/NewPassword.vue","webpack://frontend/./src/views/NewPassword.vue?f536","webpack://frontend/./src/services/fileService.js","webpack://frontend/./src/services/productService.js","webpack://frontend/./src/services/authService.js","webpack://frontend/./src/views/Collections.vue","webpack://frontend/./src/views/Collections.vue?31bb","webpack://frontend/./src/components/FaceTracking.vue","webpack://frontend/./src/components/FaceTracking.vue?f590","webpack://frontend/./src/views/DetailsProduct.vue","webpack://frontend/./src/views/DetailsProduct.vue?22e4","webpack://frontend/./src/components/navComponent.vue","webpack://frontend/./src/components/navComponent.vue?b925","webpack://frontend/./src/components/ProfilePicture.vue","webpack://frontend/./src/components/ProfilePicture.vue?a2f3","webpack://frontend/./src/views/admin/HomePage.vue","webpack://frontend/./src/views/admin/HomePage.vue?0670","webpack://frontend/./src/services/apiService.js","webpack://frontend/./src/services/configurationService.js","webpack://frontend/./src/components/DropdownToggle.vue","webpack://frontend/./src/components/DropdownToggle.vue?37d3","webpack://frontend/./src/components/DropdownToggleColor.vue","webpack://frontend/./src/components/DropdownToggleColor.vue?1995","webpack://frontend/./src/components/ColorSelectionToggle.vue","webpack://frontend/./src/components/ColorSelectionToggle.vue?b276","webpack://frontend/./src/components/ImageUpload.vue","webpack://frontend/./src/components/ImageUpload.vue?68da","webpack://frontend/./src/views/admin/AddNewProductPage.vue","webpack://frontend/./src/views/admin/AddNewProductPage.vue?473b","webpack://frontend/./src/views/admin/EditProduct.vue","webpack://frontend/./src/views/admin/EditProduct.vue?c69e","webpack://frontend/./src/views/admin/PartnersPage.vue","webpack://frontend/./src/views/admin/PartnersPage.vue?734d","webpack://frontend/./src/views/admin/AddNewPartnerPage.vue","webpack://frontend/./src/views/admin/AddNewPartnerPage.vue?735f","webpack://frontend/./src/views/admin/EditPartner.vue","webpack://frontend/./src/views/admin/EditPartner.vue?6254","webpack://frontend/./src/views/admin/OrdersPage.vue","webpack://frontend/./src/views/admin/OrdersPage.vue?2d24","webpack://frontend/./src/views/admin/EditOrder.vue","webpack://frontend/./src/views/admin/EditOrder.vue?a2d4","webpack://frontend/./src/views/admin/StylingPage.vue","webpack://frontend/./src/views/admin/StylingPage.vue?ccb1","webpack://frontend/./src/views/admin/UsersPage.vue","webpack://frontend/./src/views/admin/UsersPage.vue?713f","webpack://frontend/./src/views/admin/AddNewUserPage.vue","webpack://frontend/./src/views/admin/AddNewUserPage.vue?1662","webpack://frontend/./src/views/admin/EditUser.vue","webpack://frontend/./src/views/admin/EditUser.vue?515a","webpack://frontend/./src/views/admin/AddNewConfigurationPage.vue","webpack://frontend/./src/views/admin/AddNewConfigurationPage.vue?3434","webpack://frontend/./src/views/admin/EditConfigurationPage.vue","webpack://frontend/./src/views/admin/EditConfigurationPage.vue?5cd8","webpack://frontend/./src/views/admin/MyConfigurationsPage.vue","webpack://frontend/./src/views/admin/MyConfigurationsPage.vue?9acd","webpack://frontend/./src/views/admin/ManageConfigurationsPage.vue","webpack://frontend/./src/views/admin/ManageConfigurationsPage.vue?aecc","webpack://frontend/./src/views/admin/SettingsPage.vue","webpack://frontend/./src/views/admin/SettingsPage.vue?8b88","webpack://frontend/./src/router.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<script setup></script>\n\n<template>\n  <router-view />\n</template>\n\n<style scoped></style>\n","import { render } from \"./App.vue?vue&type=template&id=b4742da8\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\n// Router en JWT-token ophalen\nconst router = useRouter();\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\nlet partnerId = tokenPayload.companyId;\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Definieer fallback stijlen\nconst fallbackStyle = {\n  primary_color: \"rgb(151, 71, 255)\",\n  secondary_color: \"rgb(26, 26, 26)\",\n  text_color: \"rgb(255, 255, 255)\",\n  titles_color: \"rgb(0, 113, 227)\",\n  background_color: \"rgb(0, 0, 0)\",\n  button_color: \"#146ef5\",\n  logo_url: \"../assets/images/rebilt-favicon.svg\",\n  fontFamilyTitles: \"Syne, serif\",\n  fontFamilyBodyText: \"DM Sans, sans-serif\",\n  black: \"#080808\",\n  white: \"#fff\",\n  blue_600: \"#0055d4\",\n  gray_100: \"#f0f0f0\",\n  gray_200: \"#d8d8d8\",\n  gray_300: \"#ababab\",\n  gray_400: \"#898989\",\n  gray_500: \"#757575\",\n  gray_600: \"#5a5a5a\",\n  gray_700: \"#363636\",\n  gray_800: \"#222\",\n  gray_900: \"#171717\",\n};\n\n// Refs voor partnerId en foutmeldingen\nconst error = ref(null);\n\n// Functie om partnerId op te halen\nconst getPartnerId = async () => {\n  if (jwtToken) {\n    const tokenPayload = JSON.parse(atob(jwtToken.split(\".\")[1]));\n    return tokenPayload?.companyId || null;\n  } else {\n    const partnerName = router.currentRoute.value.query.partner;\n    if (partnerName) {\n      return fetchPartnerID(partnerName);\n    }\n  }\n};\n\n// Functie om huisstijl op te halen\nconst getHouseStyleFromDatabase = async (id) => {\n  if (!id) {\n    applyFallbackStyles();\n    return;\n  }\n\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n    });\n    const huisstijlData = response.data.data.partner || fallbackStyle;\n    document.documentElement.style.setProperty(\n      \"--primary-color\",\n      huisstijlData.primary_color\n    );\n    document.documentElement.style.setProperty(\n      \"--secondary-color\",\n      huisstijlData.secondary_color\n    );\n    document.documentElement.style.setProperty(\n      \"--text-color\",\n      huisstijlData.text_color\n    );\n    document.documentElement.style.setProperty(\n      \"--titles-color\",\n      huisstijlData.titles_color\n    );\n    document.documentElement.style.setProperty(\n      \"--background-color\",\n      huisstijlData.background_color\n    );\n    document.documentElement.style.setProperty(\n      \"--button-color\",\n      huisstijlData.button_color\n    );\n    document.documentElement.style.setProperty(\n      \"--background-image\",\n      `url(${huisstijlData.logo_url})`\n    );\n    document.documentElement.style.setProperty(\n      \"--title-font\",\n      huisstijlData.fontFamilyTitles\n    );\n    document.documentElement.style.setProperty(\n      \"--body-font\",\n      huisstijlData.fontFamilyBodyText\n    );\n    document.documentElement.style.setProperty(\"--black\", huisstijlData.black);\n    document.documentElement.style.setProperty(\"--white\", huisstijlData.white);\n    document.documentElement.style.setProperty(\n      \"--blue-600\",\n      huisstijlData.blue_600\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-100\",\n      huisstijlData.gray_100\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-200\",\n      huisstijlData.gray_200\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-300\",\n      huisstijlData.gray_300\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-400\",\n      huisstijlData.gray_400\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-500\",\n      huisstijlData.gray_500\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-600\",\n      huisstijlData.gray_600\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-700\",\n      huisstijlData.gray_700\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-800\",\n      huisstijlData.gray_800\n    );\n    document.documentElement.style.setProperty(\n      \"--gray-900\",\n      huisstijlData.gray_900\n    );\n\n    // Fonts laden\n    loadFonts(huisstijlData.fontFamilyBodyText, huisstijlData.fontFamilyTitles);\n  } catch (error) {\n    applyFallbackStyles();\n  }\n};\n\n// Asynchrone functie om partnerId op te halen uit de naam\nconst fetchPartnerID = async (partnerName) => {\n  try {\n    const formattedPartnerName = partnerName.replace(/([A-Z])/g, \" $1\").trim();\n    const response = await axios.get(\n      `${baseURL}/partners?partnerName=${formattedPartnerName}`\n    );\n\n    const partner = response.data.data.partners.find(\n      (p) => p.name.toLowerCase() === formattedPartnerName.toLowerCase()\n    );\n\n    return partner?._id || null;\n  } catch (err) {\n    error.value = \"Er is een fout opgetreden bij het ophalen van de partner.\";\n    return null;\n  }\n};\n\n// Fallback stijlen toepassen\nconst applyFallbackStyles = () => {\n  document.documentElement.style.setProperty(\n    \"--primary-color\",\n    fallbackStyle.primary_color\n  );\n  document.documentElement.style.setProperty(\n    \"--secondary-color\",\n    fallbackStyle.secondary_color\n  );\n  document.documentElement.style.setProperty(\n    \"--text-color\",\n    fallbackStyle.text_color\n  );\n  document.documentElement.style.setProperty(\n    \"--titles-color\",\n    fallbackStyle.titles_color\n  );\n  document.documentElement.style.setProperty(\n    \"--background-color\",\n    fallbackStyle.background_color\n  );\n  document.documentElement.style.setProperty(\n    \"--button-color\",\n    fallbackStyle.button_color\n  );\n  document.documentElement.style.setProperty(\n    \"--background-image\",\n    `url(${fallbackStyle.logo_url})`\n  );\n  document.documentElement.style.setProperty(\n    \"--title-font\",\n    fallbackStyle.fontFamilyTitles\n  );\n  document.documentElement.style.setProperty(\n    \"--body-font\",\n    fallbackStyle.fontFamilyBodyText\n  );\n  document.documentElement.style.setProperty(\"--black\", fallbackStyle.black);\n  document.documentElement.style.setProperty(\"--white\", fallbackStyle.white);\n  document.documentElement.style.setProperty(\n    \"--blue-600\",\n    fallbackStyle.blue_600\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-100\",\n    fallbackStyle.gray_100\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-200\",\n    fallbackStyle.gray_200\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-300\",\n    fallbackStyle.gray_300\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-400\",\n    fallbackStyle.gray_400\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-500\",\n    fallbackStyle.gray_500\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-600\",\n    fallbackStyle.gray_600\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-700\",\n    fallbackStyle.gray_700\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-800\",\n    fallbackStyle.gray_800\n  );\n  document.documentElement.style.setProperty(\n    \"--gray-900\",\n    fallbackStyle.gray_900\n  );\n\n  loadFonts(fallbackStyle.fontFamilyBodyText, fallbackStyle.fontFamilyTitles);\n};\n\n// Fonts laden\nconst loadFonts = (bodyFont, titleFont) => {\n  const addFontToDocument = (fontUrl) => {\n    const existingLink = document.head.querySelector(`link[href=\"${fontUrl}\"]`);\n    if (!existingLink) {\n      const link = document.createElement(\"link\");\n      link.rel = \"stylesheet\";\n      link.href = fontUrl;\n      document.head.appendChild(link);\n    }\n  };\n\n  if (bodyFont)\n    addFontToDocument(\n      `https://fonts.googleapis.com/css2?family=${bodyFont.replace(\n        / /g,\n        \"+\"\n      )}:wght@400;700&display=swap`\n    );\n  if (titleFont)\n    addFontToDocument(\n      `https://fonts.googleapis.com/css2?family=${titleFont.replace(\n        / /g,\n        \"+\"\n      )}:wght@400;700&display=swap`\n    );\n};\n\n// Component laden\nonMounted(async () => {\n  partnerId = await getPartnerId();\n  if (partnerId) {\n    await getHouseStyleFromDatabase(partnerId.value);\n  } else {\n    console.warn(\"Geen partner ID gevonden, fallback stijlen toepassen.\");\n    applyFallbackStyles();\n  }\n});\n</script>\n\n<template>\n  <div></div>\n</template>\n","import script from \"./DynamicStyle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DynamicStyle.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { ref } from \"vue\";\nimport router from \"../router\";\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\n\nconst email = ref(\"\");\nconst password = ref(\"\");\nconst errorMessage = ref(\"\");\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst login = () => {\n  errorMessage.value = \"\";\n\n  if (!email.value || !password.value) {\n    errorMessage.value = \"Gelieve alle velden in te vullen.\";\n    return;\n  }\n\n  fetch(`${baseURL}/users/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      email: email.value,\n      password: password.value,\n    }),\n  })\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(\"Login failed\");\n      }\n      return response.json();\n    })\n    .then((data) => {\n      if (data.status === \"success\") {\n        localStorage.setItem(\"jwtToken\", data.data.token);\n        const decodedToken = JSON.parse(atob(data.data.token.split(\".\")[1]));\n        const userRole = decodedToken.role;\n        if (userRole === \"partner_admin\" || userRole === \"partner_owner\") {\n          router.push(\"/admin\");\n        } else {\n          errorMessage.value = \"Geen toegang tot de admin sectie.\";\n        }\n        if (userRole === \"platform_admin\") {\n          router.push(\"/admin/partners\");\n        }\n      } else {\n        errorMessage.value = data.message || \"Inloggen mislukt.\";\n      }\n    })\n    .catch((error) => {\n      errorMessage.value = \"Er is een fout opgetreden. Probeer het opnieuw.\";\n    });\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <div class=\"container\">\n    <div class=\"overlay\">\n      <div class=\"elements\">\n        <h1>Welcome back</h1>\n        <form>\n          <div class=\"column\">\n            <label for=\"email\">Email</label>\n            <input\n              id=\"email\"\n              v-model=\"email\"\n              type=\"text\"\n              placeholder=\"johndoe@gmail.com\"\n            />\n          </div>\n\n          <div class=\"column\">\n            <label for=\"password\">Password</label>\n            <input\n              id=\"password\"\n              v-model=\"password\"\n              type=\"password\"\n              placeholder=\"\"\n              @focus=\"showPlaceholder = false\"\n              @blur=\"showPlaceholder = password === ''\"\n            />\n          </div>\n\n          <div class=\"row\">\n            <div class=\"rememberMe\">\n              <input type=\"checkbox\" id=\"rememberMeCheckbox\" />\n              <label for=\"rememberMeCheckbox\">Remember me</label>\n            </div>\n\n            <router-link exact to=\"./ForgotPassword\">\n              Forgot password?\n            </router-link>\n          </div>\n\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n\n          <button class=\"btn active\" type=\"submit\" @click.prevent=\"login\">\n            Login\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.container {\n  position: relative;\n  background-image: url(\"../assets/images/background.jpg\");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 100%;\n  height: 100vh;\n}\n\n.overlay {\n  background-color: rgba(0, 0, 0, 0.4);\n  width: 100%;\n  height: 100vh;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.elements {\n  background-color: rgba(0, 0, 0, 0.32);\n  border-radius: 1rem;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  width: 100%;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.row .rememberMe {\n  visibility: hidden;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n}\n\n.row .rememberMe input {\n  width: auto;\n}\n\n.row .rememberMe i,\n.row a {\n  color: rgba(255, 255, 255, 0.4);\n}\n\n.row a {\n  text-decoration: underline;\n}\n\n.rememberMe label,\n.row a {\n  font-size: 14px;\n}\n\nlabel,\ninput {\n  color: var(--text-color);\n}\n\ninput {\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  background-color: transparent;\n  padding: 0.25rem 1rem;\n  border-radius: 4px;\n  width: 100%;\n}\n\ninput::placeholder {\n  color: rgba(255, 255, 255, 0.4);\n  font-weight: 400;\n}\n\n.error {\n  color: #d34848;\n}\n\n@media (min-width: 800px) {\n  .elements {\n    position: absolute;\n    top: 50%;\n    left: auto;\n    right: 0;\n    transform: translateY(-50%);\n    width: 50%;\n    padding: 3rem;\n    margin: 3rem;\n  }\n}\n</style>\n","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=516a90d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-516a90d0\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\n\n// Variabelen voor e-mail, verificatiecode en foutmeldingen\nconst email = ref(\"\");\nconst verificationCode = ref(\"\");\nconst errorMessage = ref(\"\");\nconst router = useRouter();\nconst route = useRoute();\n\n// Functie voor e-mailvalidatie\nconst isValidEmail = (email) => {\n  if (!email || typeof email !== \"string\") {\n    return false;\n  }\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailPattern.test(email);\n};\n\n// Haal de 'email' queryparameter op via Vue Router\nonMounted(() => {\n  const routeEmail = route.query.email;\n  if (routeEmail) {\n    email.value = routeEmail;\n  }\n});\n\n// Controle of we in de productieomgeving draaien\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\" // Zorg dat dit HTTPS is voor productie\n  : \"http://localhost:3000/api/v1\"; // Gebruik HTTP voor lokaal\n\n// Functie om de e-mail te versturen naar de backend\nconst sendMail = async () => {\n  if (!isValidEmail(email.value)) {\n    errorMessage.value = \"Voer een geldig e-mailadres in.\";\n    return;\n  }\n\n  try {\n    const response = await axios.post(`${baseURL}/users/forgot-password`, {\n      email: email.value,\n    });\n\n    // Controleer of het antwoord succesvol is\n    if (response && response.status >= 200 && response.status < 300) {\n      errorMessage.value = \"\";\n      router.push({ path: \"/verificationCode\", query: { email: email.value } });\n    } else {\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\n    }\n  } catch (error) {\n    // Specifieke foutmelding voor een 404 of andere netwerkfouten\n    if (error.response) {\n      if (error.response.status === 404) {\n        errorMessage.value = \"Gebruiker niet gevonden.\";\n      } else if (error.response.status === 500) {\n        errorMessage.value =\n          \"Er is een serverfout opgetreden. Probeer het later opnieuw.\";\n        console.error(\"500 Error:\", error.response.data);\n      } else {\n        errorMessage.value = \"Er is een onbekende fout opgetreden.\";\n      }\n    } else {\n      errorMessage.value = \"Er is een probleem met het netwerk.\";\n    }\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <div class=\"container\">\n    <div class=\"overlay\">\n      <div class=\"elements\">\n        <h1>Forgot password</h1>\n        <form @submit.prevent=\"sendMail\">\n          <div class=\"column\">\n            <label for=\"email\">Email</label>\n            <input\n              id=\"email\"\n              v-model=\"email\"\n              type=\"email\"\n              placeholder=\"johndoe@gmail.com\"\n              required\n            />\n          </div>\n\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n\n          <button class=\"btn active\" type=\"submit\">Send mail</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* CSS-stijlen voor je formulier */\n.container {\n  position: relative;\n  background-image: url(\"../assets/images/background.jpg\");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 100%;\n  height: 100vh;\n}\n\n.overlay {\n  background-color: rgba(0, 0, 0, 0.4);\n  width: 100%;\n  height: 100vh;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.elements {\n  background-color: rgba(0, 0, 0, 0.32);\n  border-radius: 1rem;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  width: 100%;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\n.error {\n  color: #d34848;\n}\n\ninput {\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  background-color: transparent;\n  padding: 0.25rem 1rem;\n  border-radius: 4px;\n  width: 100%;\n}\n\n@media (min-width: 800px) {\n  .elements {\n    position: absolute;\n    top: 50%;\n    left: auto;\n    right: 0;\n    transform: translateY(-50%);\n    width: 50%;\n    padding: 3rem;\n    margin: 3rem;\n  }\n}\n</style>\n","import script from \"./ForgotPassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ForgotPassword.vue?vue&type=style&index=0&id=1b2fe415&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b2fe415\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\n\nconst email = ref(\"\");\nconst verificationCode = ref(\"\");\nconst successMessage = ref(\"\");\nconst errorMessage = ref(\"\");\nconst router = useRouter();\nconst route = useRoute();\n\nconst isValidEmail = (email) => {\n  // Controleer eerst of het emailadres leeg is\n  if (!email || typeof email !== \"string\") {\n    return false;\n  }\n\n  // Reguliere expressie voor e-mailvalidatie\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n  // Test de e-mail tegen de reguliere expressie\n  return emailPattern.test(email);\n};\n\nconst isValidCode = (code) => {\n  // Controleer of de code een geldige string is\n  if (typeof code !== \"string\") {\n    return false;\n  }\n\n  // Trim de string en controleer of deze niet leeg is\n  return code.trim().length > 0;\n};\n\nonMounted(() => {\n  const emailQuery = route.query.email;\n\n  if (typeof emailQuery === \"string\") {\n    email.value = emailQuery;\n  } else if (emailQuery) {\n    console.warn(\"Unexpected email query type:\", typeof emailQuery);\n  }\n});\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst sendMail = async () => {\n  if (!isValidEmail(email.value)) {\n    errorMessage.value = \"Voer een geldig e-mailadres in.\";\n    return;\n  }\n\n  try {\n    const response = await axios.post(`${baseURL}/users/forgot-password`, {\n      email: email.value,\n    });\n\n    if (response && response.status >= 200 && response.status < 300) {\n      errorMessage.value = \"\";\n      router.push({ path: \"/verificationCode\", query: { email: email.value } });\n    } else {\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\n    }\n    successMessage.value = \"De mail is succesvol opnieuw verstuurd.\";\n  } catch (error) {\n    if (error.response && error.response.status === 404) {\n      errorMessage.value = \"Gebruiker niet gevonden.\";\n    } else {\n      errorMessage.value =\n        \"Er is een fout opgetreden bij het versturen van de e-mail.\";\n    }\n  }\n};\n\nconst verifyCode = async () => {\n  if (!isValidCode(verificationCode.value)) {\n    errorMessage.value = \"Voer een geldige verificatiecode in.\";\n    return;\n  }\n\n  try {\n    const response = await axios.post(`${baseURL}/users/verify-code`, {\n      code: verificationCode.value,\n      email: email.value,\n    });\n\n    if (response.status === 200) {\n      router.push({ path: \"/newPassword\", query: { email: email.value } });\n    } else {\n      errorMessage.value = \"De verificatiecode is ongeldig.\";\n    }\n  } catch (error) {\n    if (axios.isAxiosError(error) && error.response) {\n      switch (error.response.status) {\n        case 400:\n          errorMessage.value = \"Ongeldige verificatiecode.\";\n          break;\n        case 404:\n          errorMessage.value = \"Verificatiecode niet gevonden.\";\n          break;\n        default:\n          errorMessage.value =\n            \"Er is een fout opgetreden bij het verifiren van de code.\";\n          break;\n      }\n    } else {\n      errorMessage.value = \"Er is een netwerkfout opgetreden.\";\n    }\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <div class=\"container\">\n    <div class=\"overlay\">\n      <div class=\"elements\">\n        <h1>Forgot password</h1>\n        <form @submit.prevent=\"verifyCode\">\n          <div class=\"column\">\n            <label for=\"verificationCode\">Verification code</label>\n            <input\n              id=\"verificationCode\"\n              v-model=\"verificationCode\"\n              type=\"text\"\n              placeholder=\"HFDQ2FDQL4\"\n              required\n            />\n          </div>\n\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n          <p v-if=\"successMessage\" class=\"success\">{{ successMessage }}</p>\n\n          <button class=\"btn\" type=\"button\" @click=\"sendMail\">\n            Send mail again\n          </button>\n          <button class=\"btn active\" type=\"submit\">Verify code</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* Jouw bestaande CSS-stijlen */\n.container {\n  position: relative;\n  background-image: url(\"../assets/images/background.jpg\");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 100%;\n  height: 100vh;\n}\n\n.overlay {\n  background-color: rgba(0, 0, 0, 0.4);\n  width: 100%;\n  height: 100vh;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.elements {\n  background-color: rgba(0, 0, 0, 0.32);\n  border-radius: 1rem;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  width: 100%;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\n.success {\n  color: #008000;\n}\n\n.error {\n  color: #d34848;\n}\n\ninput {\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  background-color: transparent;\n  padding: 0.25rem 1rem;\n  border-radius: 4px;\n  width: 100%;\n}\n\n.btn {\n  background-color: transparent;\n}\n\n.btn.active {\n  background-color: var(--button-color);\n}\n\n@media (min-width: 800px) {\n  .elements {\n    position: absolute;\n    top: 50%;\n    left: auto;\n    right: 0;\n    transform: translateY(-50%);\n    width: 50%;\n    padding: 3rem;\n    margin: 3rem;\n  }\n}\n</style>\n","import script from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VerificationCode.vue?vue&type=style&index=0&id=b93c90b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b93c90b0\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\n\nconst email = ref(\"\");\nconst newPassword = ref(\"\");\nconst repeatNewPassword = ref(\"\");\nconst errorMessage = ref(\"\");\nconst router = useRouter();\nconst route = useRoute();\n\nonMounted(() => {\n  const emailQuery = route.query.email;\n\n  if (typeof emailQuery === \"string\") {\n    email.value = emailQuery;\n  } else if (emailQuery) {\n    console.warn(\"Email query parameter is not a string:\", emailQuery);\n  } else {\n    console.info(\"No email query parameter provided.\");\n  }\n});\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst updatePassword = async () => {\n  if (newPassword.value !== repeatNewPassword.value) {\n    errorMessage.value = \"Wachtwoorden komen niet overeen.\";\n    return;\n  }\n\n  if (newPassword.value.length < 8) {\n    errorMessage.value = \"Het wachtwoord moet minimaal 8 tekens lang zijn.\";\n    return;\n  }\n\n  try {\n    const response = await axios.post(`${baseURL}/users/reset-password`, {\n      email: email.value,\n      newPassword: newPassword.value,\n    });\n\n    if (response.status === 200) {\n      router.push(\"/login\");\n    } else {\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\n    }\n  } catch (error) {\n    if (axios.isAxiosError(error) && error.response) {\n      switch (error.response.status) {\n        case 400:\n          errorMessage.value = \"Ongeldig verzoek.\";\n          break;\n        case 404:\n          errorMessage.value = \"Gebruiker niet gevonden.\";\n          break;\n        default:\n          errorMessage.value =\n            \"Er is een fout opgetreden bij het instellen van het wachtwoord.\";\n          break;\n      }\n    } else {\n      errorMessage.value = \"Netwerkfout.\";\n    }\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <div class=\"container\">\n    <div class=\"overlay\">\n      <div class=\"elements\">\n        <h1>Nieuw wachtwoord instellen</h1>\n        <form @submit.prevent=\"updatePassword\">\n          <div class=\"column\">\n            <label for=\"newPassword\">Nieuw wachtwoord</label>\n            <input\n              id=\"newPassword\"\n              v-model=\"newPassword\"\n              type=\"password\"\n              placeholder=\"\"\n              required\n            />\n          </div>\n          <div class=\"column\">\n            <label for=\"repeatNewPassword\">Herhaal nieuw wachtwoord</label>\n            <input\n              id=\"repeatNewPassword\"\n              v-model=\"repeatNewPassword\"\n              type=\"password\"\n              placeholder=\"\"\n              required\n            />\n          </div>\n\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n\n          <button class=\"btn active\" type=\"submit\">Wachtwoord instellen</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* Jouw bestaande CSS-stijlen */\n.container {\n  position: relative;\n  background-image: url(\"../assets/images/background.jpg\");\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  width: 100%;\n  height: 100vh;\n}\n\n.overlay {\n  background-color: rgba(0, 0, 0, 0.4);\n  width: 100%;\n  height: 100vh;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.elements {\n  background-color: rgba(0, 0, 0, 0.32);\n  border-radius: 1rem;\n  padding: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  width: 100%;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\n.error {\n  color: #d34848;\n}\n\ninput {\n  border: 1px solid rgba(255, 255, 255, 0.4);\n  background-color: transparent;\n  padding: 0.25rem 1rem;\n  border-radius: 4px;\n  width: 100%;\n}\n</style>\n","import script from \"./NewPassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NewPassword.vue?vue&type=style&index=0&id=298ebca1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-298ebca1\"]])\n\nexport default __exports__","/* Bestandsbeheer, zoals bestanduploads */\nimport { ref } from \"vue\";\n\n// Voeg foutmeldingen en status toe aan de data\nconst uploadError = ref(\"\");\nconst uploadStatus = ref(\"\");\n\nexport const uploadFileToCloudinary = async (\n  file,\n  productName,\n  partnerName\n) => {\n  try {\n    // Controleer of het bestand en de naam aanwezig zijn\n    if (!file || !file.name) {\n      throw new Error(\"No file provided or file name is missing.\");\n    }\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append(\"upload_preset\", \"ycy4zvmj\");\n    formData.append(\"cloud_name\", \"dzempjvto\");\n\n    const sanitizeFolderName = (name) => name.replace(/[^a-zA-Z0-9/_-]/g, \"\");\n\n    const folderName = sanitizeFolderName(\n      `${partnerName || \"DefaultFolder\"}/products/${productName}`\n    );\n    formData.append(\"folder\", folderName);\n\n    // Bepaal het uploadEndpoint op basis van het bestandstype\n    const fileExtension = file.name.split(\".\").pop().toLowerCase();\n    let uploadEndpoint;\n\n    if (\n      [\"jpg\", \"jpeg\", \"svg\", \"png\", \"gif\", \"bmp\", \"webp\"].includes(\n        fileExtension\n      )\n    ) {\n      uploadEndpoint = \"https://api.cloudinary.com/v1_1/dzempjvto/image/upload\"; // Afbeelding upload\n    } else if ([\"glb\", \"obj\", \"gltf\"].includes(fileExtension)) {\n      uploadEndpoint = \"https://api.cloudinary.com/v1_1/dzempjvto/raw/upload\"; // 3D-bestand upload\n    } else {\n      throw new Error(\"Unsupported file type\");\n    }\n\n    // Upload bestand naar Cloudinary\n    const response = await fetch(uploadEndpoint, {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(`Cloudinary upload failed: ${errorData.error.message}`);\n    }\n\n    const data = await response.json();\n    if (!data.secure_url) {\n      throw new Error(\"No secure_url found in Cloudinary response\");\n    }\n\n    // Retourneer de secure_url van de upload\n    return data.secure_url;\n  } catch (error) {\n    // Fout wordt naar de console gelogd en de foutmelding wordt gegooid\n    console.error(\"Error uploading file:\", error);\n    throw error;\n  }\n};\n","/* Productgerelateerde functies */\nimport { ref, toRaw } from \"vue\";\nimport axios from \"axios\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport { useRouter } from \"vue-router\";\nimport { uploadFileToCloudinary } from \"./fileService\"; // Assuming the path is correct\n\nconst router = useRouter();\n\n// Setup loaders\nconst dracoLoader = new DRACOLoader();\ndracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\nconst gltfLoader = new GLTFLoader();\ngltfLoader.setDRACOLoader(dracoLoader);\nconst objLoader = new OBJLoader();\n\n// Export loaders\nexport { objLoader, gltfLoader, dracoLoader };\nlet scene, camera, renderer, model;\n\nconst selectedType = ref(\"\");\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\nconst errorMessage = ref(\"\");\nconst colors = ref([]);\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\nconst partnerId = tokenPayload.companyId;\nconst filteredProducts = ref([]); // Correct initialiseren als lege array\nconst partnerConfigurations = ref([]);\nlet isMouseDown = false;\nlet prevMouseX = 0;\nlet prevMouseY = 0;\n\nexport const filterProductsByType = (\n  partnerId,\n  selectedType,\n  filteredProductsRef\n) => {\n  // Access the value of filteredProductsRef (which is a ref)\n  const filteredProducts = filteredProductsRef.value; // Correctly access the value of the ref\n\n  if (!Array.isArray(filteredProducts)) {\n    console.error(\n      \"filteredProducts is not properly initialized or is not an array.\"\n    );\n    return []; // Return an empty array if it's not properly initialized\n  }\n\n  // Continue with filtering\n  let filteredResults = [...filteredProducts]; // Make a copy of filteredProducts\n\n  if (selectedType) {\n    filteredResults = filteredResults.filter(\n      (product) => product.productType === selectedType\n    );\n  }\n\n  return filteredResults;\n};\n\nexport const fetchProductById = async (id) => {\n  if (!id) {\n    console.error(\"Product ID is required!\");\n    return null; // Return null if no ID is provided\n  }\n\n  try {\n    // Gebruik baseURL voor productie of lokaal\n    const response = await axios.get(`${baseURL}/products/${id}`);\n\n    if (response.status === 200) {\n      return response.data?.data || null; // Return the product data or null if not found\n    } else {\n      console.error(\"Failed to fetch product:\", response.status);\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Error fetching product by ID:\", error);\n    return null; // Return null in case of an error\n  }\n};\n\nexport const fetchProducts = async (partnerId) => {\n  // Controleer of partnerId bestaat\n  if (!partnerId) {\n    console.error(\"partnerId is undefined or null!\");\n    return []; // Return een lege array als partnerId ontbreekt\n  }\n\n  try {\n    const partnerResponse = await axios.get(`${baseURL}/partners/${partnerId}`);\n\n    const partnerName = partnerResponse.data.data.partner.name;\n\n    if (!partnerName) {\n      throw new Error(\"Partner name not found\");\n    }\n\n    const apiUrl = `${baseURL}/products?partnerName=${partnerName}`;\n\n    const productResponse = await axios.get(apiUrl);\n\n    const products = productResponse.data?.data?.products || [];\n    return products; // Return de producten als alles goed gaat\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n    return []; // Return een lege array als er iets misgaat\n  }\n};\n\nexport const fetchProductTypes = async (partnerId) => {\n  // Controleer of partnerId bestaat\n  if (!partnerId) {\n    console.error(\"partnerId is undefined or null!\");\n    return []; // Return een lege array als partnerId ontbreekt\n  }\n\n  try {\n    // Haal partnergegevens op via partnerId\n    const partnerResponse = await axios.get(`${baseURL}/partners/${partnerId}`);\n\n    // Haal de partnernaam op uit het antwoord\n    const partnerName = partnerResponse.data?.data?.partner?.name;\n\n    if (!partnerName) {\n      throw new Error(\"Partner name not found\");\n    }\n\n    // Bouw de API URL om producten op te halen op basis van de partnernaam\n    const apiUrl = `${baseURL}/products?partnerName=${partnerName}`;\n\n    // Haal producten op via de API\n    const productResponse = await axios.get(apiUrl);\n\n    // Haal de producten op uit het antwoord\n    const products = productResponse.data?.data?.products || [];\n\n    // Haal alleen de unieke productType's uit de productenlijst\n    const productTypesSet = new Set(\n      products.map((product) => product.productType)\n    );\n\n    // Convert the Set to an array before returning\n    const productTypes = Array.from(productTypesSet);\n    // Return de productTypes (Altijd als array)\n    return productTypes || []; // Ensure it returns an array, even if no product types are found\n  } catch (error) {\n    console.error(\"Error fetching products:\", error);\n    return []; // Return een lege array als er iets misgaat\n  }\n};\n\nexport async function getcolors(partnerId) {\n  try {\n    const configResponse = await axios.get(\n      `${baseURL}/partnerConfigurations?partnerId=${partnerId}`\n    );\n\n    if (configResponse.data.status !== \"success\" || !configResponse.data.data) {\n      throw new Error(\" Geen configuraties gevonden voor deze partner.\");\n    }\n\n    const configurations = configResponse.data.data;\n\n    const selectedColors = [];\n\n    configurations.forEach((config) => {\n      if (config.options.length > 0) {\n        config.options.forEach((option) => {\n          const optionId = option.optionId?._id;\n          const colorName = option.optionId?.name; // Naam of hex-waarde van de kleur\n\n          if (\n            optionId &&\n            !selectedColors.some((o) => o.optionId === optionId)\n          ) {\n            selectedColors.push({\n              optionId,\n              color: colorName || \"Unnamed Color\",\n            });\n          }\n        });\n      }\n    });\n\n    return selectedColors;\n  } catch (error) {\n    console.error(\" Fout in getcolors:\", error);\n    return []; // Retourneer een lege array bij een fout\n  }\n}\n\nconst fetchedColors = ref([]); // Gebruik een ref voor reactieve kleuren\n\n// Zorg ervoor dat `fetchcolors` de `colors.value` goed bijwerkt:\n\nexport const load3DModel = async (filePath) => {\n  if (!isSceneInitialized) {\n    console.error(\"Scene is not initialized.\");\n    return;\n  }\n\n  const fileExtension = filePath.split(\".\").pop().toLowerCase();\n\n  if (fileExtension === \"obj\") {\n    loadOBJModel(filePath); // Laad .obj bestand\n  } else if (fileExtension === \"glb\" || fileExtension === \"gltf\") {\n    loadGLBModel(filePath); // Laad .glb of .gltf bestand\n  } else {\n    console.error(\"Unsupported file type:\", fileExtension);\n  }\n};\n\n// In productService.js\nexport function loadOBJModel(url) {\n  return new Promise((resolve, reject) => {\n    const loader = new OBJLoader();\n    loader.load(\n      url,\n      (object) => {\n        resolve(object); // Retourneer het geladen model\n      },\n      undefined,\n      (error) => {\n        reject(error); // Foutafhandeling\n      }\n    );\n  });\n}\n\nexport function loadGLBModel(url) {\n  return new Promise((resolve, reject) => {\n    const loader = new GLTFLoader().setDRACOLoader(dracoLoader);\n    loader.load(\n      url,\n      (gltf) => {\n        resolve(gltf.scene); // Retourneer de scne van het GLTF-model\n      },\n      undefined,\n      (error) => {\n        reject(error); // Foutafhandeling\n      }\n    );\n  });\n}\n\n// Functies voor touch-events\nexport function onTouchStart(event) {\n  event.preventDefault(); // Voorkomt scrollen bij touch\n  isMouseDown = true;\n  const touch = event.touches ? event.touches[0] : event;\n  prevMouseX = touch.clientX;\n  prevMouseY = touch.clientY;\n}\n\nexport function onTouchMove(event) {\n  if (!isMouseDown) return;\n\n  const touch = event.touches ? event.touches[0] : event;\n  const deltaX = touch.clientX - prevMouseX;\n  const deltaY = touch.clientY - prevMouseY;\n\n  if (model) {\n    model.rotation.y += deltaX * rotationSpeed;\n    model.rotation.x += deltaY * rotationSpeed;\n  }\n\n  prevMouseX = touch.clientX;\n  prevMouseY = touch.clientY;\n}\n\nexport function onTouchEnd() {\n  isMouseDown = false;\n}\n\n// Functies voor muis-events (Desktop)\nexport function onMouseDown(event) {\n  isMouseDown = true;\n  prevMouseX = event.clientX;\n  prevMouseY = event.clientY;\n}\n\nexport function onMouseMove(event) {\n  if (!isMouseDown) return;\n\n  const deltaX = event.clientX - prevMouseX;\n  const deltaY = event.clientY - prevMouseY;\n\n  if (model) {\n    model.rotation.y += deltaX * rotationSpeed;\n    model.rotation.x += deltaY * rotationSpeed;\n  }\n\n  prevMouseX = event.clientX;\n  prevMouseY = event.clientY;\n}\n\nexport function onMouseUp() {\n  isMouseDown = false;\n}\n\nexport const fetchcolors = async (partnerId) => {\n  try {\n    const selectedOptions = await getcolors(partnerId);\n\n    if (\n      !selectedOptions ||\n      !Array.isArray(selectedOptions) ||\n      selectedOptions.length === 0\n    ) {\n      console.error(\" Geen geldige kleuren ontvangen\");\n      return;\n    }\n\n    // Ensure that fetchedColors.value is properly updated\n    fetchedColors.value = selectedOptions.map((option) => {\n      return {\n        optionId: option.optionId || \"\",\n        name: option.color || \"Unnamed Color\",\n        images: option.images || [], // Ensure images are assigned here\n      };\n    });\n  } catch (error) {\n    console.error(\" Fout in fetchcolors:\", error);\n  }\n};\n\nexport const addProductType = (productTypes, newType) => {\n  if (!Array.isArray(productTypes)) {\n    console.error(\"productTypes is not an array\", productTypes);\n    return;\n  }\n\n  if (!productTypes.includes(newType)) {\n    productTypes.push(newType);\n  } else {\n    console.warn(\"This product type already exists!\");\n  }\n};\n\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport async function add2DProduct({\n  productCode,\n  productName,\n  productType,\n  productPrice,\n  description,\n  brand,\n  file,\n  configurationId,\n  configurations, // Je ontvangt nu een reguliere array van configuraties\n  images,\n}) {\n  try {\n    // Log de ontvangen gegevens voor debugging\n    console.log(\n      \"Received selectedConfigurationId in add2DProduct:\",\n      configurationId\n    );\n    console.log(\"Received configurations:\", productCode); // Debug de ontvangen configuraties\n    console.log(\"Received images:\", images); // Debug de ontvangen afbeeldingen\n\n    // Controleer of configurations correct is gedefinieerd\n    if (!configurations || configurations.length === 0) {\n      console.error(\" Geen geldige configuraties ontvangen in add2DProduct!\");\n      return;\n    }\n\n    // Controleer of selectedConfigurationId geldig is\n    if (!configurationId) {\n      console.error(\" selectedConfigurationId is niet gedefinieerd!\");\n      throw new Error(\" selectedConfigurationId is niet gedefinieerd!\");\n    }\n\n    // Verwerk de afbeeldingen naar een array indien nodig\n    let imageArray = [];\n    if (Array.isArray(images)) {\n      imageArray = images;\n    } else if (typeof images === \"string\" && images.trim()) {\n      imageArray = [images]; // Maak een array met de enkele afbeelding\n    }\n\n    // Controleer of er afbeeldingen zijn en of ze geldig zijn\n    if (imageArray.length === 0) {\n      console.error(\" Geen afbeeldingen om te uploaden!\");\n      throw new Error(\" Geen afbeeldingen om te uploaden!\");\n    }\n\n    // Verwerk de 2D afbeeldingen naar een formaat met URL en configuratie ID\n    const processedImages = imageArray.map((imageUrl) => ({\n      url: imageUrl,\n      configurationId: configurationId,\n    }));\n\n    // Zoek naar de juiste configuratie in de ontvangen configuraties\n    const configuration = configurations.find((config) => {\n      const configId = config.configurationId?._id || config.configurationId;\n      return configId === configurationId;\n    });\n\n    if (!configuration) {\n      console.error(` Configuratie met ID ${configurationId} niet gevonden!`);\n      return;\n    }\n\n    // Controleer of de geselecteerde opties een array zijn\n    if (\n      !configuration.selectedOptions ||\n      !Array.isArray(configuration.selectedOptions)\n    ) {\n      console.warn(\n        \" selectedOptions ontbreekt of is geen array. Voeg lege array toe.\"\n      );\n      configuration.selectedOptions = [];\n    }\n\n    // Gebruik de eerste optie als default\n    let optionId = configuration.options?.[0]?._id;\n\n    if (!optionId) {\n      console.error(\n        ` Geen optionId gevonden voor configuratie ID: ${configurationId}`\n      );\n      return;\n    }\n\n    let existingOption = configuration.selectedOptions.find(\n      (opt) => opt.optionId === optionId\n    );\n\n    if (!existingOption) {\n      existingOption = { _id: uuidv4(), optionId: optionId, images: [] };\n      configuration.selectedOptions.push(existingOption);\n    }\n\n    // Voeg de nieuwe afbeeldingen toe aan de geselecteerde optie\n    if (existingOption.images) {\n      existingOption.images.push(...processedImages.map((img) => img.url));\n    } else {\n      existingOption.images = [...processedImages.map((img) => img.url)];\n    }\n\n    // Format de productdata voor verzending\n    const formattedProductData = {\n      productCode: productCode || \"\",\n      productName: productName || \"\",\n      productType: productType || \"\",\n      productPrice: productPrice || 0,\n      description: description || \"\",\n      brand: brand || \"\",\n      activeInactive: \"active\", // Default waarde\n      partnerId,\n      configurations: configurations.map((config) => ({\n        _id: uuidv4(),\n        configurationId: config.configurationId._id,\n        selectedOptions: Array.isArray(config.selectedOptions)\n          ? config.selectedOptions.map((opt) => ({\n              _id: opt._id || uuidv4(),\n              optionId: opt.optionId,\n              images: opt.images || [],\n            }))\n          : [],\n      })),\n    };\n\n    // Verstuur de data naar de backend\n    const token = localStorage.getItem(\"jwtToken\") || null;\n    const response = await fetch(`${baseURL}/products`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(formattedProductData),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error(\" Server response error:\", errorData);\n      throw new Error(errorData.message || \"Onbekende serverfout\");\n    }\n\n    // Verwerk de serverrespons\n    const responseBody = await response.json();\n    return responseBody;\n  } catch (error) {\n    console.error(\" Algemene fout:\", error.message);\n    console.error(\"Fout in add2DProduct:\", error);\n  }\n}\n\nexport const add3DProduct = async ({\n  productCode,\n  productName,\n  productType,\n  productPrice,\n  description,\n  brand,\n  activeInactive,\n  partnerId,\n  configurations,\n  file, // 3D file (in File object format)\n  thumbnail, // Thumbnail image (in File object format)\n}) => {\n  try {\n    // Upload de bestanden naar Cloudinary en verkrijg de URL's\n    const modelUrl = await uploadFileToCloudinary(file, productName, partnerId);\n    const thumbnailUrl = await uploadFileToCloudinary(\n      thumbnail,\n      productName,\n      partnerId\n    );\n\n    // Stap 3: Valideer de URLs\n    if (!modelUrl || !modelUrl.startsWith(\"https://\")) {\n      console.error(\" Ongeldige 3D-model URL:\", modelUrl);\n      return;\n    }\n\n    if (!thumbnailUrl || !thumbnailUrl.startsWith(\"https://\")) {\n      console.error(\" Ongeldige thumbnail URL:\", thumbnailUrl);\n      return;\n    }\n\n    // Stap 4: Verwerk de configuraties\n    let validConfigurations = [];\n\n    for (const config of configurations) {\n      let selectedOptions = [];\n\n      // Controleer of de configuratie opties aanwezig zijn\n      if (!Array.isArray(config.options) || config.options.length === 0) {\n        console.warn(\n          \" Geen opties beschikbaar voor configuratie:\",\n          config.configurationId\n        );\n        continue;\n      }\n\n      selectedOptions = config.options.map((option) => {\n        const optionId = option.optionId?._id || \"onbekend-option-id\";\n\n        return {\n          optionId,\n          images: [modelUrl], // De 3D model URL wordt hier opgeslagen\n          _id: `${optionId}-${Date.now()}`, // Unieke ID voor elke optie\n        };\n      });\n\n      if (selectedOptions.length > 0) {\n        validConfigurations.push({\n          configurationId: config.configurationId?._id || \"onbekend-config-id\",\n          selectedOptions,\n        });\n      }\n    }\n\n    // Als er geen geldige configuraties zijn, stop\n    if (validConfigurations.length === 0) {\n      console.error(\" Geen geldige configuraties gevonden\");\n      return;\n    }\n\n    // Stap 5: Maak het productdata object\n    const productData = {\n      productCode,\n      productName,\n      productType,\n      brand,\n      description,\n      productPrice,\n      activeInactive,\n      partnerId,\n      configurations: validConfigurations,\n      modelFile: modelUrl, // De model file URL wordt hier opgeslagen\n      thumbnail: thumbnailUrl, // De thumbnail URL wordt hier opgeslagen\n    };\n\n    // Stap 6: Verstuur de data naar de server\n    const token = localStorage.getItem(\"jwtToken\") || null;\n\n    const response = await fetch(`${baseURL}/products`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(productData), // De juiste productdata wordt verzonden\n    });\n\n    // Foutcontrole op de server respons\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error(\" Server response error:\", errorData);\n      throw new Error(errorData.message || \"Onbekende serverfout\");\n    }\n\n    // Ontvang en verwerk de serverresponse\n    const responseBody = await response.json();\n    return responseBody;\n  } catch (error) {\n    console.error(\" Algemene fout in add3DProduct:\", error);\n  }\n};\n","/* Functies voor authenticatie (checkToken) */\nimport { ref } from \"vue\";\nimport router from \"../router\"; // Zorg ervoor dat de router correct is gemporteerd\nimport axios from \"axios\";\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\nconst partnerPackage = ref(\"\");\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\n\nexport const checkToken = () => {\n  if (!jwtToken || !tokenPayload) {\n    console.warn(\"Geen geldig JWT token gevonden. Doorverwijzen naar login...\");\n    router.push(\"/login\");\n  }\n};\n\nexport async function fetchPartnerPackage(partnerId) {\n  try {\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n    const packageData = data.data?.partner?.package || null; // Verifieer de structuur\n    return packageData; // Retourneer het partner package\n  } catch (err) {\n    console.error(\"Error fetching partner package:\", err);\n    return null; // Zorg voor een fallback\n  }\n}\n\nexport async function fetchPartnerByName(partnerName) {\n  if (!partnerName || typeof partnerName !== \"string\") {\n    console.error(\"Partnernaam is ongeldig of ontbreekt.\");\n    return null;\n  }\n\n  try {\n    const response = await axios.get(\n      `${baseURL}/partners/partner/${partnerName}`, // We zoeken op naam\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n\n    if (response.status === 200) {\n      const partner = response.data?.data || null; // Haal het gehele partnerobject op\n\n      if (partner) {\n        return partner; // Hier geven we de partner met de ID terug\n      } else {\n        console.warn(\"Geen partner gevonden met deze naam.\");\n        return null;\n      }\n    } else {\n      console.error(`Onverwachte statuscode ontvangen: ${response.status}`);\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Fout tijdens het ophalen van de partner:\", error.message);\n    return null;\n  }\n}\n\nexport async function fetchPartnerById(partnerId) {\n  if (!partnerId || typeof partnerId !== \"string\") {\n    console.error(\"Partner ID is ongeldig of ontbreekt.\");\n    return null;\n  }\n\n  try {\n    const response = await axios.get(\n      `${baseURL}/partners/${partnerId}`, // Hier gebruiken we het partner-ID om de gegevens op te halen\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n\n    if (response.status === 200) {\n      const partner = response.data?.data || null; // Haal het gehele partnerobject op\n\n      if (partner) {\n        return partner; // Return de partner\n      } else {\n        console.warn(\"Geen partner gevonden met dit ID.\");\n        return null;\n      }\n    } else {\n      console.error(`Onverwachte statuscode ontvangen: ${response.status}`);\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Fout tijdens het ophalen van de partner:\", error.message);\n    return null;\n  }\n}\n","<script setup>\nimport { ref, onMounted, computed } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { fetchProducts, fetchProductTypes } from \"../services/productService\";\nimport { fetchPartnerByName, fetchPartnerById } from \"../services/authService\";\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\n\nconst route = useRoute();\n// Haal partnernaam op uit de URL en zet eventuele verbindingstekens (zoals streepjes of underscores) om naar spaties\n\nconst partnerId = ref(null); // Partner ID van de opgegeven naam\nconst products = ref([]); // Alle producten\nconst loading = ref(false); // Laadstatus\nconst error = ref(null); // Foutstatus\nconst filters = ref([\"All\"]); // Dynamische filters, standaard met \"All\"\nconst activeFilter = ref(\"All\"); // Actieve filterstatus\n\n// Functie om producten op te halen\nconst fetchAndSetProducts = async (partnerId) => {\n  try {\n    const filteredProducts = await fetchProducts(partnerId);\n    products.value = filteredProducts; // Sla producten op in de state\n  } catch (err) {\n    console.error(\"Error fetching products:\", err);\n    throw new Error(\"Er is een fout opgetreden bij het ophalen van producten.\");\n  }\n};\n\n// Functie om producttypes op te halen\nconst fetchAndSetProductTypes = async (partnerId) => {\n  try {\n    const productTypes = await fetchProductTypes(partnerId);\n    filters.value = [\"All\", ...productTypes]; // Voeg filters toe\n  } catch (err) {\n    console.error(\"Error fetching product types:\", err);\n    throw new Error(\n      \"Er is een fout opgetreden bij het ophalen van producttypes.\"\n    );\n  }\n};\n\n// onMounted: Controleer partnernaam en laad gegevens\nonMounted(async () => {\n  try {\n    loading.value = true;\n\n    // Stel de partnernaam in als queryparameter, bijv. 'OdetteLunettes'\n    const partnerName = route.query.partner\n      ? route.query.partner.replace(/([A-Z])/g, \" $1\").trim()\n      : null;\n\n    // Zoek de partner op naam\n    const partner = await fetchPartnerByName(partnerName);\n    if (partner) {\n      const partnerId = partner._id; // Haal het ID uit de gevonden partner\n      // Nu kun je de partner ophalen op basis van het ID\n      const detailedPartner = await fetchPartnerById(partnerId);\n      await fetchAndSetProducts(partnerId); // Haal producten op\n      await fetchAndSetProductTypes(partnerId); // Haal filters op\n    } else {\n      console.error(\"Partner niet gevonden.\");\n    }\n  } catch (err) {\n    error.value = err.message;\n  } finally {\n    loading.value = false;\n  }\n});\n\n// Filter producten op basis van actieve filter\nconst filteredProducts = computed(() => {\n  if (!activeFilter.value || activeFilter.value === \"All\") {\n    return products.value; // Geef alle producten terug als er geen filter is\n  }\n  return products.value.filter(\n    (product) =>\n      product.productType?.toLowerCase() === activeFilter.value.toLowerCase()\n  );\n});\n\nconst setActiveFilter = (filter) => {\n  activeFilter.value = filter;\n};\n\nfunction getFirstImage(product) {\n  // Zoek naar de eerste afbeelding in de configuraties\n  for (const config of product.configurations) {\n    for (const option of config.selectedOptions) {\n      if (option.images && option.images.length > 0) {\n        return option.images[0]; // Retourneer de eerste afbeelding die gevonden wordt\n      }\n    }\n  }\n  return \"\"; // Retourneer een lege string als geen afbeelding gevonden is\n}\n</script>\n\n<template>\n  <DynamicStyle />\n  <div class=\"content\">\n    <div class=\"top\">\n      <h1>Collections</h1>\n      <nav class=\"collection-nav\">\n        <p\n          v-for=\"filter in filters\"\n          :key=\"filter\"\n          :class=\"{ active: activeFilter === filter }\"\n          @click=\"setActiveFilter(filter)\"\n        >\n          {{ filter }}\n        </p>\n      </nav>\n    </div>\n\n    <!-- Laden en foutafhandeling -->\n    <div v-if=\"loading\">Laden...</div>\n    <div v-if=\"error\">{{ error }}</div>\n\n    <!-- Producten tonen -->\n    <div v-if=\"!loading && !error\" class=\"products\">\n      <div class=\"row\">\n        <h2>{{ activeFilter }}</h2>\n        <p>\n          <span>{{ filteredProducts ? filteredProducts.length : 0 }}</span>\n          items\n        </p>\n      </div>\n      <div class=\"product-grid\">\n        <router-link\n          v-for=\"product in filteredProducts\"\n          :key=\"product._id\"\n          :to=\"`/product/${product._id}`\"\n          :class=\"['product-card', product.productType]\"\n        >\n          <div class=\"product-image-container\">\n            <div\n              v-if=\"\n                product.configurations?.length > 0 &&\n                product.configurations[0].selectedOptions?.length > 0\n              \"\n              class=\"product-image\"\n              :style=\"{\n                backgroundImage:\n                  'url(' + (product.thumbnail || getFirstImage(product)) + ')',\n              }\"\n            ></div>\n\n            <div v-else class=\"no-image-message\">\n              Geen afbeelding beschikbaar\n            </div>\n          </div>\n          <div class=\"product-info\">\n            <p class=\"product-name\">{{ product.productName }}</p>\n            <p class=\"product-price\"> {{ product.productPrice }},00</p>\n          </div>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  align-items: center;\n}\n\n.content .top {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.collection-nav {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n}\n\n.collection-nav p {\n  cursor: pointer;\n  transition: color 0.3s;\n}\n\n.collection-nav .active {\n  color: var(--text-color);\n  padding-bottom: 8px;\n  border-bottom: 1px solid var(--text-color);\n}\n\n.products {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 24px;\n  width: 100%;\n}\n\n.products .row {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.products .product-grid {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  justify-content: center;\n  gap: 24px;\n  width: 100%;\n}\n\n.product-card {\n  background: var(--secondary-color);\n  border-radius: 10px;\n  box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n  text-align: center;\n  position: relative;\n  transition: transform 0.3s, box-shadow 0.3s;\n  width: 100%;\n}\n\n.product-card:hover {\n  transform: scale(1.05);\n  box-shadow: 0px 12px 25px rgba(0, 0, 0, 0.8);\n}\n\n.product-image-container {\n  position: relative;\n  width: 100%;\n  height: 200px;\n  background: var(--secondary-color);\n  padding: 20px;\n}\n\n.product-image {\n  width: 100%;\n  height: 100%;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  border-bottom: 1px solid var(--secondary-color);\n}\n\n.product-info {\n  padding: 16px 24px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.product-price {\n  color: var(--primary-color);\n}\n\n@media (min-width: 800px) {\n  .products .product-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .collection-nav {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    gap: 3rem;\n  }\n}\n\n@media (min-width: 1200px) {\n  .content {\n    padding: 108px 1.5rem 1.5rem 1.5rem;\n  }\n  .products {\n    padding: 0 200px;\n  }\n  .products .product-grid {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n@media (min-width: 2000px) {\n  .products {\n    padding: 0 600px;\n  }\n}\n</style>\n","import script from \"./Collections.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Collections.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Collections.vue?vue&type=style&index=0&id=67e69018&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67e69018\"]])\n\nexport default __exports__","<template>\n  <div class=\"ar-container\">\n    <video ref=\"videoElement\" autoplay playsinline></video>\n    <canvas ref=\"canvasElement\" width=\"640\" height=\"480\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { FaceMesh } from \"@mediapipe/face_mesh\";\nimport { Camera } from \"@mediapipe/camera_utils\";\nimport { drawConnectors, drawLandmarks } from \"@mediapipe/drawing_utils\";\nimport { FACEMESH_TESSELATION } from \"@mediapipe/face_mesh\";\n\nexport default {\n  name: \"FaceTracking\",\n\n  data() {\n    return {\n      video: null,\n      faceMesh: null,\n      canvas: null,\n      ctx: null,\n      camera: null\n    };\n  },\n\n  mounted() {\n    console.log(\"[FaceTracking] Component is mounted.\");\n    this.initCamera();\n  },\n\n  methods: {\n    async initCamera() {\n      console.log(\"[FaceTracking] initCamera() called.\");\n      try {\n        console.log(\"[FaceTracking] Requesting user camera access...\");\n        const stream = await navigator.mediaDevices.getUserMedia({\n          video: { facingMode: \"user\" },\n        });\n\n        this.video = this.$refs.videoElement;\n        this.video.srcObject = stream;\n        console.log(\"[FaceTracking] Stream obtained, setting video srcObject.\");\n\n        // Wanneer de videometadata geladen is, kunnen we beginnen met FaceMesh:\n        this.video.onloadedmetadata = () => {\n          console.log(\"[FaceTracking] Video metadata loaded. Starting video and initializing FaceMesh...\");\n          this.video.play();\n          this.initFaceMesh();\n        };\n      } catch (error) {\n        console.error(\"[FaceTracking] Camera error:\", error);\n      }\n    },\n\n    initFaceMesh() {\n      console.log(\"[FaceTracking] initFaceMesh() called.\");\n\n      // We gebruiken een custom locateFile, zodat de NON-SIMD wasm wordt geladen\n      // in plaats van face_mesh_solution_simd_wasm_bin.js\n      this.faceMesh = new FaceMesh({\n        locateFile: (file) => {\n          if (file === \"face_mesh_solution_simd_wasm_bin.js\") {\n            console.log(\"[FaceTracking] Replacing SIMD WASM with non-SIMD WASM -> face_mesh_solution_wasm_bin.js\");\n            return \"https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh@0.4/face_mesh_solution_wasm_bin.js\";\n          }\n          console.log(`[FaceTracking] Loading other file from CDN: ${file}`);\n          return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh@0.4/${file}`;\n        },\n      });\n\n      // Stel opties in\n      console.log(\"[FaceTracking] Setting FaceMesh options...\");\n      this.faceMesh.setOptions({\n        maxNumFaces: 1,\n        refineLandmarks: true,\n        minDetectionConfidence: 0.7,\n        minTrackingConfidence: 0.7,\n      });\n\n      // Koppel de onResults callback\n      console.log(\"[FaceTracking] Attaching faceMesh.onResults()\");\n      this.faceMesh.onResults(this.onFaceMeshResults);\n\n      // Maak de camera aan via Mediapipe's Camera helper\n      console.log(\"[FaceTracking] Creating Mediapipe Camera instance...\");\n      this.camera = new Camera(this.$refs.videoElement, {\n        onFrame: async () => {\n          // Hier sturen we elke frame naar FaceMesh\n          console.log(\"[FaceTracking] onFrame -> sending video frame to FaceMesh...\");\n          await this.faceMesh.send({ image: this.$refs.videoElement });\n        },\n        width: 640,\n        height: 480,\n      });\n      console.log(\"[FaceTracking] Starting camera...\");\n      this.camera.start();\n    },\n\n    onFaceMeshResults(results) {\n      console.log(\"[FaceTracking] onFaceMeshResults() triggered. Received results:\", results);\n\n      if (!this.canvas) {\n        console.log(\"[FaceTracking] Grabbing canvas reference...\");\n        this.canvas = this.$refs.canvasElement;\n      }\n      if (!this.ctx) {\n        console.log(\"[FaceTracking] Creating 2D context from canvas...\");\n        this.ctx = this.canvas.getContext(\"2d\");\n      }\n\n      // Clear het canvas\n      console.log(\"[FaceTracking] Clearing canvas...\");\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n      // Teken de video-image op het canvas\n      console.log(\"[FaceTracking] Drawing video image on canvas...\");\n      this.ctx.drawImage(results.image, 0, 0, this.canvas.width, this.canvas.height);\n\n      // Teken de gezichtslandmarks\n      if (results.multiFaceLandmarks && results.multiFaceLandmarks.length > 0) {\n        console.log(`[FaceTracking] Detected faces: ${results.multiFaceLandmarks.length}. Drawing landmarks...`);\n        for (const landmarks of results.multiFaceLandmarks) {\n          console.log(\"[FaceTracking] Landmarks object:\", landmarks);\n          drawConnectors(this.ctx, landmarks, FACEMESH_TESSELATION, {\n            color: \"#00FF00\",\n            lineWidth: 1,\n          });\n          drawLandmarks(this.ctx, landmarks, { color: \"#FF0000\", radius: 2 });\n        }\n      } else {\n        console.log(\"[FaceTracking] No face landmarks detected.\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.ar-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  background: #000; /* Eventueel zodat je ziet of het canvas/video wel of niet gevuld is */\n}\n\nvideo {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  transform: scaleX(-1); /* Spiegelt de camera, komt natuurlijker over voor een front-cam */\n  object-fit: cover;\n}\n\ncanvas {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: none; /* Maakt canvas 'klikdoorlatend' */\n}\n</style>\n","import { render } from \"./FaceTracking.vue?vue&type=template&id=16ce98cc&scoped=true\"\nimport script from \"./FaceTracking.vue?vue&type=script&lang=js\"\nexport * from \"./FaceTracking.vue?vue&type=script&lang=js\"\n\nimport \"./FaceTracking.vue?vue&type=style&index=0&id=16ce98cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16ce98cc\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted, onUnmounted, computed, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport * as THREE from \"three\";\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\n\nimport FaceTracking from \"../components/FaceTracking.vue\";\n\nconst showModel = ref(false);\nconst isFaceTrackingVisible = ref(false); // Zorg ervoor dat deze reactive is\n\n// Functie die de zichtbaarheid van FaceTracking toggelt\nfunction toggleFaceTracking() {\n  isFaceTrackingVisible.value = !isFaceTrackingVisible.value; // Toggle de waarde\n}\n\n// Functies voor touch-events\nfunction onTouchStart(event) {\n  event.preventDefault(); // Voorkomt scrollen bij touch\n  isMouseDown = true;\n  const touch = event.touches ? event.touches[0] : event;\n  prevMouseX = touch.clientX;\n  prevMouseY = touch.clientY;\n}\n\nfunction onTouchMove(event) {\n  if (!isMouseDown) return;\n\n  const touch = event.touches ? event.touches[0] : event;\n  const deltaX = touch.clientX - prevMouseX;\n  const deltaY = touch.clientY - prevMouseY;\n\n  if (model) {\n    model.rotation.y += deltaX * rotationSpeed;\n    model.rotation.x += deltaY * rotationSpeed;\n  }\n\n  prevMouseX = touch.clientX;\n  prevMouseY = touch.clientY;\n}\n\nfunction onTouchEnd() {\n  isMouseDown = false;\n}\n\n// Functies voor muis-events (Desktop)\nfunction onMouseDown(event) {\n  isMouseDown = true;\n  prevMouseX = event.clientX;\n  prevMouseY = event.clientY;\n}\n\nfunction onMouseMove(event) {\n  if (!isMouseDown) return;\n\n  const deltaX = event.clientX - prevMouseX;\n  const deltaY = event.clientY - prevMouseY;\n\n  if (model) {\n    model.rotation.y += deltaX * rotationSpeed;\n    model.rotation.x += deltaY * rotationSpeed;\n  }\n\n  prevMouseX = event.clientX;\n  prevMouseY = event.clientY;\n}\n\nfunction onMouseUp() {\n  isMouseDown = false;\n}\n\nconst sizes = ref([]);\nconst materials = ref([]);\nconst layers = ref([]);\nconst layersColors = ref([]);\nconst selectedThingsInLayers = ref([]);\nconst colors = ref([]);\nconst selectedLayerColor = ref(null);\nconst currentPageIndex = ref(0);\nconst productImages = ref([]);\nconst selectedImage = ref(null);\nconst route = useRoute();\nconst router = useRouter();\nconst productId = ref(null);\nconst productData = ref({\n  productName: \"\",\n  productCode: \"\",\n  productPrice: 0,\n  productModelFile: \"\",\n});\nconst productName = ref(\"\");\nconst productModelFile = ref(\"\");\n\nconst isLoading = ref(true);\nconst error = ref(null);\nconst logoUrl = ref(\"\");\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\nconst options = computed(() => optionNames.value);\nconst partnerName = ref(\"\");\nconst partnerPackage = ref(\"\");\nlet scene = new THREE.Scene();\n\nlet camera, rendererMobile, rendererDesktop;\nconst objLoader = new OBJLoader();\nconst dracoLoader = new DRACOLoader();\nconst gltfLoader = new GLTFLoader();\ndracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\ngltfLoader.setDRACOLoader(dracoLoader);\nconst fieldName = ref(null);\nlet isModelLoaded = false;\nlet model = null;\nlet isSceneInitialized = false;\nlet isRendererInitialized = false;\nlet isMouseDown = false;\nlet prevMouseX = 0;\nlet prevMouseY = 0;\nconst rotationSpeed = 0.005;\nconst selectedOption = ref(0);\nconst selectedOptionName = ref(null);\nconst optionNames = ref([]);\nconst selectedItems = ref([]);\nconst productConfigs = ref([]);\nconst partnerConfigurationsCount = ref([]);\n\nasync function fetchPartnerName(partnerId) {\n  try {\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n    partnerName.value = data.data.partner.name || \"\";\n  } catch (err) {\n    console.error(\"Error fetching partner package:\", err);\n  }\n}\n\nasync function fetchPartnerPackage(partnerId) {\n  try {\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch partner package\");\n    }\n    const data = await response.json();\n\n    // Controleer eerst of de gegevens beschikbaar zijn voordat je probeert 'package' te lezen\n    if (data && data.data && data.data.partner) {\n      partnerPackage.value = data.data.partner.package;\n    } else {\n      console.error(\"Partner data is incomplete:\", data);\n    }\n  } catch (error) {\n    console.error(\"Error fetching partner package:\", error);\n  }\n}\n\nonUnmounted(() => {\n  window.removeEventListener(\"resize\", onWindowResize);\n});\n\nfunction onWindowResize() {\n  const container = document.querySelector(\".model\");\n  if (container && rendererDesktop) {\n    rendererDesktop.setSize(container.offsetWidth, container.offsetHeight);\n    camera.aspect = container.offsetWidth / container.offsetHeight;\n    camera.updateProjectionMatrix();\n  }\n}\n\nfunction logSceneLayers() {\n  if (!scene) {\n    console.error(\"Scene is niet genitialiseerd!\");\n    return; // Stop als de scene niet bestaat\n  }\n}\n\nfunction initializeScene() {\n  if (isSceneInitialized) {\n    return; // Voorkom herinitialisatie\n  }\n\n  try {\n    // Initialiseer de scene, camera en renderer\n    scene = new THREE.Scene();\n    camera = new THREE.PerspectiveCamera(\n      75,\n      window.innerWidth / window.innerHeight,\n      0.1,\n      1000\n    );\n    camera.position.set(0, 0, 40);\n    camera.lookAt(0, 0, 0);\n\n    // Verkrijg de container voor mobiel en desktop\n    const containerModelMobile = document.querySelector(\n      \".mobileElements .model\"\n    );\n    const containerModelDesktop = document.querySelector(\".model.desktop\");\n\n    if (!containerModelMobile && !containerModelDesktop) {\n      console.error(\"3D container element niet gevonden!\");\n      return;\n    }\n\n    // Renderers alleen toevoegen als ze nog niet bestaan\n    if (!rendererMobile && window.innerWidth <= 768 && containerModelMobile) {\n      rendererMobile = new THREE.WebGLRenderer();\n      rendererMobile.setSize(\n        containerModelMobile.offsetWidth,\n        containerModelMobile.offsetHeight\n      );\n      if (!containerModelMobile.contains(rendererMobile.domElement)) {\n        containerModelMobile.appendChild(rendererMobile.domElement);\n      }\n    }\n\n    if (!rendererDesktop && window.innerWidth > 768 && containerModelDesktop) {\n      rendererDesktop = new THREE.WebGLRenderer();\n      rendererDesktop.setSize(\n        containerModelDesktop.offsetWidth,\n        containerModelDesktop.offsetHeight\n      );\n      if (!containerModelDesktop.contains(rendererDesktop.domElement)) {\n        containerModelDesktop.appendChild(rendererDesktop.domElement);\n      }\n    }\n\n    // Voeg lichten toe aan de scene\n    const light = new THREE.PointLight(0xffffff, 1, 100);\n    light.position.set(50, 50, 50);\n    scene.add(light);\n\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.4);\n    directionalLight.position.set(10, 20, 10);\n    directionalLight.target.position.set(0, 0, 0);\n    scene.add(directionalLight);\n    scene.add(directionalLight.target);\n\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.8);\n    scene.add(ambientLight);\n\n    // Voeg eventlisteners toe voor zowel mobiele als desktop\n    if (containerModelMobile) {\n      containerModelMobile.addEventListener(\"mousedown\", onMouseDown, false);\n      containerModelMobile.addEventListener(\"touchstart\", onTouchStart, false);\n    }\n\n    if (containerModelDesktop) {\n      containerModelDesktop.addEventListener(\"mousedown\", onMouseDown, false);\n      containerModelDesktop.addEventListener(\"touchstart\", onTouchStart, false);\n    }\n\n    window.addEventListener(\"mousemove\", onMouseMove, false);\n    window.addEventListener(\"touchmove\", onTouchMove, false);\n    window.addEventListener(\"mouseup\", onMouseUp, false);\n    window.addEventListener(\"touchend\", onTouchEnd, false);\n\n    // Laad het model (zorg ervoor dat je het juiste pad gebruikt)\n\n    // Initialiseer de scene en renderer\n    isRendererInitialized = true;\n    isSceneInitialized = true;\n\n    // Start de animatie\n    animate();\n  } catch (err) {\n    console.error(\"Fout bij initialisatie van de scene:\", err);\n  }\n}\n\nfunction animate() {\n  requestAnimationFrame(animate);\n\n  if (rendererMobile) {\n    rendererMobile.render(scene, camera);\n  } else if (rendererDesktop) {\n    rendererDesktop.render(scene, camera);\n  }\n}\n\nfunction extractMaterials(object) {\n  materials.value = [];\n  layers.value = [];\n  layersColors.value = [];\n\n  object.traverse((child) => {\n    if (child.isMesh) {\n      // Controleer of het een array van materialen is\n      if (Array.isArray(child.material)) {\n        child.material.forEach((material) => {\n          materials.value.push(material);\n          if (!layers.value.includes(material.name)) {\n            layers.value.push(material.name);\n            layersColors.value.push(\"#ffffff\"); // Default kleur voor het materiaal\n          }\n        });\n      } else {\n        materials.value.push(child.material);\n        if (!layers.value.includes(child.material.name)) {\n          layers.value.push(child.material.name);\n          layersColors.value.push(\"#ffffff\"); // Default kleur voor het materiaal\n        }\n      }\n    }\n  });\n\n  // Verwijder dubbele materialen\n  layers.value = [...new Set(layers.value)];\n}\n\nfunction load3DModel(filePath) {\n  if (!isSceneInitialized) {\n    console.error(\"Scene is not initialized.\");\n    return;\n  }\n\n  const fileExtension = filePath.split(\".\").pop().toLowerCase();\n  if (fileExtension === \"obj\") {\n    loadOBJModel(filePath); // Laad .obj bestand\n  } else if (fileExtension === \"glb\" || fileExtension === \"gltf\") {\n    loadGLBModel(filePath); // Laad .glb of .gltf bestand\n  } else {\n    console.error(\"Unsupported file type:\", fileExtension);\n  }\n}\n\nfunction loadGLBModel(filePath) {\n  gltfLoader.load(\n    filePath, // Gebruik het bestandspad voor .glb of .gltf\n    (gltf) => {\n      const object = gltf.scene;\n\n      // Verplaats het model naar het midden van de scene\n      const box = new THREE.Box3().setFromObject(object);\n      const center = box.getCenter(new THREE.Vector3());\n      object.position.set(-center.x, -center.y, -center.z);\n      object.scale.set(100, 100, 100); // Vergroot het model\n\n      // Voeg het object toe aan de scene\n      scene.add(object);\n      model = object;\n      isModelLoaded = true;\n      extractMaterials(object);\n\n      // Log de lagen na het toevoegen van het model en materialen\n      logSceneLayers(); // Verplaats deze lijn hier\n    }\n  );\n}\n\nfunction loadOBJModel(filePath) {\n  objLoader.load(filePath, (object) => {\n    object.scale.set(10, 10, 10); // Pas de schaal aan\n    scene.add(object);\n    model = object;\n    isModelLoaded = true;\n    extractMaterials(object);\n    logSceneLayers(); // Verplaats deze lijn hier\n  });\n}\n\n// Zoek de kleur voor een bepaalde laag\n// Zoek de kleur voor een bepaalde laag\nfunction getColorForLayer(newOption) {\n  let productConfigs = productData.value.configurations || [];\n\n  let config = productConfigs.find((config) =>\n    config.selectedOptions.some((option) => option.optionId?.name === newOption)\n  );\n\n  if (config) {\n    const fieldName = config.configurationId?.fieldName;\n\n    const selectedOption = config.selectedOptions.find(\n      (option) => option.optionId?.name === newOption\n    );\n\n    if (selectedOption) {\n      const color = selectedOption.optionId?.name; // Pas eventueel aan op de structuur van je data\n      if (color) {\n        return color; // Laag is zichtbaar, retourneer kleur\n      }\n    } else {\n      console.warn(`Geen geselecteerde optie gevonden voor ${newOption}`);\n    }\n  } else {\n    console.warn(`Geen configuratie gevonden voor ${newOption}`);\n  }\n\n  // Fallback kleur als geen kleur is gevonden\n  return \"#FFFFFF\"; // Standaard kleur\n}\n\n// Functie om de kleur toe te passen op de actieve laag\nfunction applyColorToActiveLayer(color) {\n  if (!scene) {\n    console.error(\"Scene is niet genitialiseerd!\");\n    return;\n  }\n\n  // Zoek de zichtbare config-ui__page (deze heeft de klasse 'active')\n  const activePage = document.querySelector(\".config-ui__page.active\");\n\n  // Als er geen actieve pagina is, stop de functie\n  if (!activePage) {\n    console.error(\"Geen actieve pagina gevonden.\");\n    return;\n  }\n\n  // Haal de naam van het veld uit de <h2> van de actieve pagina\n  const fieldNameElement = activePage.querySelector(\"h2.fieldName\");\n  let fieldName = fieldNameElement.textContent.trim();\n\n  // Gebruik een reguliere expressie om alles vr \"for\" te verwijderen\n  const match = fieldName.match(/for\\s+(.+)/);\n  if (match) {\n    fieldName = match[1].trim(); // Haal de tekst na \"for\" en verwijder extra spaties\n  }\n\n  if (!fieldName || typeof fieldName !== \"string\") {\n    console.error(\"Ongeldig fieldName opgegeven.\");\n    return;\n  }\n\n  // Valideer kleur (kleur moet een hex-code zijn)\n  const validColor = /^#[0-9A-Fa-f]{6}$/i.test(color);\n  if (!validColor) {\n    console.warn(`Ongeldige kleur: ${color}, standaardkleur wordt toegepast.`);\n    color = \"#FFFFFF\"; // Gebruik een standaardkleur als de kleur ongeldig is\n  }\n\n  let colorApplied = false;\n\n  // Traverse door de scne en zoek naar het juiste object\n  scene.traverse((object) => {\n    // Controleer of het object overeenkomt met de geselecteerde laag (fieldName)\n    if (\n      object instanceof THREE.Mesh &&\n      object.name.toLowerCase() === fieldName.toLowerCase()\n    ) {\n      // Zorg ervoor dat we alleen de kleur toepassen als het materiaal geschikt is\n      if (object.material) {\n        if (object.material instanceof THREE.MeshStandardMaterial) {\n          object.material.color.set(color);\n          colorApplied = true;\n        } else if (Array.isArray(object.material)) {\n          object.material.forEach((mat) => {\n            if (mat instanceof THREE.MeshStandardMaterial) {\n              mat.color.set(color);\n            }\n          });\n          colorApplied = true;\n        } else {\n          console.warn(\n            `Object '${object.name}' heeft een niet-ondersteund materiaaltype.`\n          );\n        }\n      }\n    }\n  });\n\n  // Als geen object is gevonden om de kleur toe te passen\n  if (!colorApplied) {\n    console.warn(\n      `Geen object gevonden met naam '${fieldName}' om de kleur toe te passen.`\n    );\n  }\n}\n\nasync function selectOption(optionId) {\n  const productId = route.params.productId;\n\n  if (!productId) {\n    console.error(\"productId is undefined!\");\n    return;\n  }\n\n  selectedOption.value = optionId;\n\n  try {\n    const response = await fetch(`${baseURL}/products/${productId}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`Product fetch error! Status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    const product = result.data.product;\n\n    // Haal de configuraties op\n    const configurations = product.configurations || [];\n\n    // Zoek de kleur voor de laag op basis van de geselecteerde optie\n    const color = getColorForLayer(optionId);\n    if (color) {\n      applyColorToActiveLayer(color); // Pas de kleur toe op de actieve laag\n    }\n\n    productData.value = {\n      productName: product.productName,\n      productCode: product.productCode,\n      productPrice: product.productPrice,\n      productModelFile: product.productModelFile,\n      configurations: configurations,\n    };\n  } catch (err) {\n    console.error(\"Error fetching product data:\", err.message);\n  }\n}\n\nfunction findFieldNameForOption(optionName) {\n  const productConfigs = productData.value.configurations || [];\n\n  // Zoek de configuratie die overeenkomt met de optie\n  const config = productConfigs.find((config) =>\n    config.selectedOptions.some(\n      (option) => option.optionId?.name === optionName\n    )\n  );\n\n  if (config) {\n    return config.configurationId?.fieldName || null; // Geef de fieldName terug of null als deze ontbreekt\n  }\n\n  console.warn(`Geen fieldName gevonden voor optie: ${optionName}`);\n  return null;\n}\n\nwatch(selectedOptionName, (newOption) => {\n  if (newOption) {\n    const fieldName = findFieldNameForOption(newOption);\n    const color = getColorForLayer(newOption);\n    if (color && fieldName) {\n      applyColorToActiveLayer(color);\n    }\n  }\n});\n\nonMounted(async () => {\n  const productId = route.params.productId; // Verkrijg productId uit route parameters\n  if (!productId) return; // Als er geen productId is, doe dan niets\n\n  try {\n    isLoading.value = true; // Zet laadtijdindicator aan\n    error.value = null; // Reset eventuele foutmeldingen\n\n    // Haal productgegevens op\n    await fetchProductData(productId); // Gebruik de fetchProductData functie om productinformatie te laden\n\n    // Controleer of er een partnerId is en haal partnerinformatie op\n    const partnerId = productData.value.partnerId;\n    if (partnerId) {\n      await fetchPartnerPackage(partnerId); // Haal partnerpakket op\n    }\n\n    // Als het partnerpakket \"pro\" is en er een geselecteerde afbeelding is, laad dan het 3D-model\n    if (partnerPackage.value === \"pro\" && selectedImage.value) {\n      const container = document.querySelector(\".model\");\n\n      if (container) {\n        initializeScene(); // Initialiseer de scne voor het 3D-model\n\n        const filePath = `${selectedImage.value}`; // Dynamisch pad op basis van geselecteerde afbeelding\n\n        load3DModel(filePath); // Laad het 3D-model met het pad\n      } else {\n        console.error(\"3D container not found!\"); // Foutmelding als de container niet wordt gevonden\n      }\n    }\n  } catch (err) {\n    console.error(\"Error fetching product data:\", err.message);\n    error.value = \"Error occurred while fetching product data.\"; // Zet foutmelding\n  } finally {\n    isLoading.value = false; // Zet laadtijdindicator uit\n  }\n});\n\n/* ---- 2D ---- */\nasync function fetchNumberOfPartnerConfigurations(partnerId) {\n  try {\n    const response = await fetch(`${baseURL}/partnerConfigurations`);\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n\n    const count = data.data.filter(\n      (config) => config.partnerId === partnerId\n    ).length;\n\n    partnerConfigurationsCount.value = count;\n    return count;\n  } catch (err) {\n    console.error(\"Error fetching partner configurations:\", err);\n  }\n}\n\n// Aangenomen dat je productgegevens en partnerconfiguraties al hebt\n\nasync function fetchPartnerConfigurations(partnerId, product) {\n  try {\n    // Fetch partner configurations\n    const response = await fetch(\n      `${baseURL}/partnerConfigurations?partnerId=${partnerId}`\n    );\n\n    if (!response.ok) throw new Error(\"Unable to fetch partner configurations\");\n\n    const data = await response.json();\n\n    // Check if the fetched data is an array\n    if (!Array.isArray(data.data)) {\n      console.error(\"Fetched data is not an array:\", data.data);\n      return [];\n    }\n\n    const partnerConfigs = data.data.filter(\n      (config) => config.partnerId === partnerId\n    );\n\n    // Ensure product configurations exist\n    if (product.configurations && product.configurations.length > 0) {\n      productConfigs.value = product.configurations;\n    } else {\n      console.error(\"No configurations available for the product.\");\n      productConfigs.value = [];\n    }\n\n    const productConfigurationId = product.configurations?.[0]?.configurationId;\n\n    if (!productConfigurationId) {\n      console.error(\"ConfigurationId for product is not available.\");\n      return [];\n    }\n  } catch (err) {\n    console.error(\"Error fetching partner configurations:\", err);\n    return [];\n  }\n}\n\n// Function to fetch the option name by optionId\nasync function optionNameById(optionId) {\n  try {\n    const response = await fetch(`${baseURL}/options/${optionId}`);\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n\n    // Check if the name already exists in the optionNames array, if not, push it\n    const existing = optionNames.value.find(\n      (item) => item.optionId === optionId\n    );\n    if (!existing) {\n      optionNames.value.push({ optionId, name: data.data.name }); // Push the optionId and name pair\n    }\n\n    return data.data.name; // Return the name for use\n  } catch (error) {\n    console.error(\"Error fetching option by ID:\", error);\n    return null; // Return null in case of an error\n  }\n}\n\n// Function to load options for a given configuration ID\nasync function loadOptionsForConfig(configId) {\n  try {\n    const response = await fetch(`${baseURL}/configurations/${configId}`);\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n    // For each option in the config, fetch its name\n    for (const option of data.data.options) {\n      await optionNameById(option.optionId);\n    }\n\n    // After fetching all names, log optionNames\n    return data.data.options; // Return the fetched options\n  } catch (error) {\n    console.error(\"Error fetching configuration options:\", error);\n    return null;\n  }\n}\n\nasync function fetchProductData(productCode) {\n  try {\n    isLoading.value = true;\n    error.value = null;\n\n    const response = await fetch(`${baseURL}/products/${productCode}`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    const product = result.data.product;\n    console.log(result.data.product);\n    productName.value = product.productName;\n    productModelFile.value = product.modelFile;\n    console.log(product.modelFile);\n\n    const configurations = product.configurations || [];\n    optionNames.value = [];\n\n    let selectedOptionImages = [];\n\n    const enrichedConfigurations = await Promise.all(\n      configurations.map(async (config) => {\n        let selectedConfigId = config.configurationId;\n\n        if (typeof selectedConfigId === \"object\" && selectedConfigId._id) {\n          selectedConfigId = selectedConfigId._id;\n        }\n\n        await loadOptionsForConfig(selectedConfigId);\n\n        const configUrl = `${baseURL}/configurations/${selectedConfigId}`;\n\n        try {\n          const configResponse = await fetch(configUrl, {\n            method: \"GET\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n          });\n\n          if (!configResponse.ok) {\n            throw new Error(\n              `Configuration fetch error! Status: ${configResponse.status}`\n            );\n          }\n\n          const configResult = await configResponse.json();\n          const options = configResult.data.options || [];\n\n          const selectedOptionData = config.selectedOptions[0];\n\n          let optionName = selectedOptionData?.name;\n\n          if (!optionName && selectedOptionData?.optionId) {\n            const optionUrl = `${baseURL}/options/${selectedOptionData.optionId._id}`;\n            const optionResponse = await fetch(optionUrl);\n            const optionResult = await optionResponse.json();\n            optionName = optionResult.data?.name || \"Option 1\";\n          }\n\n          // Voeg de geselecteerde afbeeldingen toe aan de array\n          if (selectedOptionData?.images) {\n            selectedOptionImages.push(...selectedOptionData.images); // voeg toe i.p.v. overschrijven\n          }\n\n          const existingConfigIndex = selectedItems.value.findIndex(\n            (item) => item.configurationId === selectedConfigId\n          );\n\n          if (existingConfigIndex !== -1) {\n            selectedItems.value[existingConfigIndex].selectedItem = {\n              optionName: optionName,\n              images: selectedOptionImages,\n            };\n          } else {\n            selectedItems.value.push({\n              configurationId: selectedConfigId,\n              selectedItem: {\n                optionName: optionName,\n                images: selectedOptionImages,\n              },\n            });\n          }\n\n          return {\n            ...config,\n            options,\n          };\n        } catch (err) {\n          console.error(\n            `Error fetching configuration for ID ${selectedConfigId}:`,\n            err.message\n          );\n          return { ...config, options: [] };\n        }\n      })\n    );\n\n    if (selectedOptionImages.length > 0) {\n      productImages.value = selectedOptionImages;\n      selectedImage.value = selectedOptionImages[0];\n    } else {\n      console.warn(\"No images found for the selected option\");\n    }\n\n    productData.value = {\n      productName: product.productName,\n      productCode: product.productCode,\n      productPrice: product.productPrice,\n      productModelFile: product.productModelFile,\n      images: selectedOptionImages,\n      configurations: enrichedConfigurations,\n    };\n\n    const optionNamesList = enrichedConfigurations.flatMap((config) =>\n      config.selectedOptions.map((selectedOption) => selectedOption.optionName)\n    );\n    optionNames.value = optionNamesList;\n\n    const partnerId = product.partnerId;\n    if (partnerId) {\n      await fetchPartnerName(partnerId);\n      await fetchPartnerPackage(partnerId);\n      await fetchNumberOfPartnerConfigurations(partnerId);\n      await fetchLogoUrl(partnerId);\n      await fetchPartnerConfigurations(partnerId, product);\n    }\n  } catch (err) {\n    console.error(\"Error fetching product data:\", err.message);\n    error.value =\n      \"Er is een fout opgetreden bij het ophalen van de productgegevens.\";\n  } finally {\n    isLoading.value = false;\n  }\n}\n\nasync function previousPage() {\n  const pages = document.querySelectorAll(\".config-ui__page\");\n  const overview = document.querySelector(\".overview\");\n  const summary = document.querySelector(\".summary\");\n  const nextButton = document.querySelector(\".nextButton\");\n  const backButton = document.querySelector(\".backButton\");\n\n  // Zorg ervoor dat er pagina's zijn\n  if (!pages || pages.length === 0) {\n    console.warn(\"No config-ui__page elements found.\");\n    return;\n  }\n\n  // Als we op de overzichtspagina zitten (pagina 0)\n  if (currentPageIndex.value === 0) {\n    // Maak de overzichtspagina zichtbaar\n    if (overview) {\n      overview.style.display = \"flex\"; // 'overview' wordt zichtbaar\n      pages.forEach((page) => page.classList.remove(\"active\"));\n    }\n\n    // Maak de 'next' knop zichtbaar\n    if (nextButton) {\n      nextButton.style.visibility = \"visible\"; // 'next' knop zichtbaar\n    }\n\n    // Verberg de 'back' knop\n    if (backButton) {\n      backButton.style.visibility = \"hidden\"; // 'back' knop wordt verborgen\n    }\n\n    if (summary && summary.style.display == \"flex\") {\n      overview.style.display = \"none\"; // 'overview' wordt zichtbaar\n      pages.forEach((page) => page.classList.remove(\"active\"));\n      pages[currentPageIndex.value].classList.add(\"active\");\n      backButton.style.visibility = \"visible\"; // 'back' knop wordt verborgen\n    }\n\n    // Verberg de samenvatting\n    if (summary) {\n      summary.style.display = \"none\"; // Verberg summary als we terug naar overview gaan\n    }\n  }\n\n  // Als we op de summary pagina zitten, verberg de summary en ga naar de vorige pagina\n  if (summary) {\n    summary.style.display = \"none\"; // Verberg de summary pagina\n    // Log naar de console als we van summary naar configuratiepagina gaan\n  }\n\n  // Als we op een configuratiepagina zitten, toon de vorige configuratiepagina\n  if (currentPageIndex.value > 0) {\n    // Verwijder de 'active' klasse van de huidige configuratiepagina\n    pages[currentPageIndex.value].classList.remove(\"active\");\n\n    // Ga naar de vorige pagina\n    currentPageIndex.value--;\n\n    // Zet de 'active' klasse op de vorige configuratiepagina\n    pages[currentPageIndex.value].classList.add(\"active\");\n\n    // Verberg de overzichtspagina\n    if (overview) {\n      overview.style.display = \"none\"; // 'overview' wordt verborgen\n    }\n\n    // Maak de 'back' knop zichtbaar\n    if (backButton) {\n      backButton.style.visibility = \"visible\"; // Toon de 'back' knop\n    }\n\n    // Als we op de eerste configuratiepagina zitten, verberg de 'back' knop\n    if (currentPageIndex.value === 0) {\n      if (backButton) {\n        backButton.style.visibility = \"hidden\"; // Verberg de 'back' knop op de eerste pagina\n      }\n    }\n\n    // Maak de 'next' knop zichtbaar (tenzij we op de laatste pagina zitten)\n    if (nextButton) {\n      nextButton.style.visibility = \"visible\"; // 'next' knop wordt zichtbaar\n    }\n  }\n}\n\nasync function nextPage() {\n  const overview = document.querySelector(\".overview\");\n  const summary = document.querySelector(\".summary\");\n  const pages = document.querySelectorAll(\".config-ui__page\");\n\n  // Controleer of er pagina's zijn\n  if (!pages || pages.length === 0) {\n    console.warn(\"No config-ui__page elements found.\");\n    return;\n  }\n\n  // Als we op de overzichtspagina zitten\n  if (overview && overview.style.display !== \"none\") {\n    // Verberg overzicht en zet de eerste pagina als actief\n    overview.style.display = \"none\";\n    currentPageIndex.value = 0;\n    pages.forEach((page) => page.classList.remove(\"active\"));\n    pages[currentPageIndex.value].classList.add(\"active\");\n\n    // Maak de back-knop zichtbaar\n    document.querySelector(\".backButton\").style.visibility = \"visible\";\n  } else {\n    // Verwijder de 'active' klasse van de huidige pagina\n    pages[currentPageIndex.value].classList.remove(\"active\");\n\n    // Verhoog de pagina-index en toon de volgende pagina\n    if (currentPageIndex.value < pages.length - 1) {\n      currentPageIndex.value++;\n      pages[currentPageIndex.value].classList.add(\"active\");\n    } else {\n      // Haal productId op uit de URL\n      const productId = route.params.productId;\n\n      // Controleer of productId beschikbaar is\n      if (!productId) {\n        console.error(\"productId is undefined!\");\n        return;\n      }\n\n      try {\n        // Haal productgegevens op\n        const response = await fetch(`${baseURL}/products/${productId}`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(\n            `Failed to fetch product data. Status: ${response.status}`\n          );\n        }\n\n        const result = await response.json();\n        const product = result.data.product; // Zorg ervoor dat 'product' hier wordt gedefinieerd\n\n        // Haal partnerId van het product\n        const partnerId = product.partnerId;\n\n        // Haal het aantal configuraties op voor de partner\n        const count = await fetchNumberOfPartnerConfigurations(partnerId);\n\n        // Als er meerdere configuraties zijn, toon de samenvatting\n        if (count <= 1) {\n          summary.style.display = \"flex\";\n          document.querySelector(\".nextButton\").style.visibility = \"hidden\";\n        }\n      } catch (err) {\n        console.error(\"Error fetching product data:\", err.message);\n      }\n    }\n  }\n}\n\nasync function fetchLogoUrl(partnerId) {\n  try {\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\n    if (!response.ok) throw new Error(\"Unable to fetch logo URL\");\n    const data = await response.json();\n    if (data?.data?.partner) {\n      logoUrl.value = data.data.partner.logo_url;\n    } else {\n      console.warn(\"Partner not found in the response.\");\n    }\n  } catch (err) {\n    console.error(\"Error fetching logo URL:\", err);\n  }\n}\n\nfunction showPreviousImage() {\n  const currentIndex = productImages.value.indexOf(selectedImage.value);\n  if (currentIndex > 0) {\n    selectedImage.value = productImages.value[currentIndex - 1];\n  }\n}\n\nfunction showNextImage() {\n  const currentIndex = productImages.value.indexOf(selectedImage.value);\n  if (currentIndex < productImages.value.length - 1) {\n    selectedImage.value = productImages.value[currentIndex + 1];\n  }\n}\n\nfunction setSelectedImage(image) {\n  selectedImage.value = image; // Zorg dat dit een object is\n}\n\nwatch(\n  () => route.params.productId,\n  async (newCode) => {\n    if (newCode && newCode !== productId.value) {\n      productId.value = newCode;\n      await fetchProductData(newCode);\n    }\n  },\n  { immediate: true }\n);\n</script>\n\n<template>\n  <DynamicStyle />\n  <div class=\"container\">\n    <div\n      class=\"logoConfigurator\"\n      :style=\"{ backgroundImage: `url(${logoUrl})` }\"\n    ></div>\n\n    <div class=\"carousel\" v-if=\"productModelFile == null\">\n      <div class=\"top\">\n        <div\n          class=\"icon\"\n          :class=\"{ disabled: selectedImage === productImages[0] }\"\n          @click=\"selectedImage !== productImages[0] && showPreviousImage()\"\n        >\n          <i class=\"fa fa-angle-left\"></i>\n        </div>\n        <div\n          class=\"image\"\n          :style=\"{ backgroundImage: `url(${selectedImage})` }\"\n        ></div>\n        <div\n          class=\"icon\"\n          :class=\"{\n            disabled: selectedImage === productImages[productImages.length - 1],\n          }\"\n          @click=\"\n            selectedImage !== productImages[productImages.length - 1] &&\n              showNextImage()\n          \"\n        >\n          <i class=\"fa fa-angle-right\"></i>\n        </div>\n      </div>\n      <div class=\"processbar\">\n        <div class=\"long-bar\"></div>\n        <div\n          class=\"short-bar\"\n          :style=\"{\n            width: `${\n              ((productImages.indexOf(selectedImage) + 1) /\n                productImages.length) *\n              100\n            }%`,\n          }\"\n        ></div>\n      </div>\n    </div>\n    <div class=\"model desktop\" v-if=\"productModelFile\"></div>\n    <div class=\"icons desktop\">\n      <a @click=\"$router.go(-1)\">\n        <div class=\"icon\">\n          <div>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"26\"\n              height=\"26\"\n              viewBox=\"0 0 256 256\"\n            >\n              <path\n                d=\"M104,216V152h48v64h64V120a8,8,0,0,0-2.34-5.66l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,40,120v96Z\"\n                fill=\"none\"\n                stroke=\"white\"\n                stroke-width=\"8\"\n              ></path>\n            </svg>\n          </div>\n          <p>Home</p>\n        </div>\n      </a>\n      <div class=\"icon\" v-if=\"partnerPackage === 'pro'\">\n        <div @click=\"showModel = !showModel\" class=\"AR\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n            <path\n              d=\"M11.98 2.36a.75.75 0 00-.33.1L8.3 4.11H8.3a.08.08 0 00-.01.01.76.76 0 00-.31 1c.09.18.24.31.43.38.19.06.4.05.57-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.54V4.34L15 5.47h.01a.76.76 0 001.03-.91.75.75 0 00-.34-.42l-.01-.01a.08.08 0 00-.01 0l-3.34-1.68a.75.75 0 00-.37-.09zm-5.57 2.8a.76.76 0 00-.34.08L2.72 6.9a.76.76 0 00-.42.7v3.9c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V8.81l2.26 1.13a.76.76 0 001.05-.91.76.76 0 00-.35-.42.08.08 0 00-.02-.02l-2-1 2-1c.3-.16.48-.52.4-.85a.77.77 0 00-.74-.58zm11.18 0a.77.77 0 00-.73.58c-.08.32.08.67.37.83l.02.02 2 1-2 1a.08.08 0 00-.02.02c-.17.1-.3.24-.35.42a.76.76 0 00.47.95c.19.06.4.05.58-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V7.6a.76.76 0 00-.42-.69l-3.35-1.67a.76.76 0 00-.34-.08zm-2.24 4.47a.75.75 0 00-.33.08L12 11.2l-3.02-1.5a.76.76 0 00-1.05.91c.06.18.2.33.36.42a.08.08 0 000 .01h.01a.08.08 0 000 .01l2.94 1.47v2.89c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.53v-2.9l2.93-1.46.02-.02c.3-.16.45-.5.37-.83a.77.77 0 00-.73-.58zM3.01 14.11a.75.75 0 00-.7.75v3.9c-.01.29.15.56.41.69l3.35 1.67a.76.76 0 001.05-.91.76.76 0 00-.34-.42.08.08 0 00-.03-.02l-2-1 2-1 .02-.02c.17-.1.3-.24.35-.42a.76.76 0 00-.47-.95.77.77 0 00-.58.04l-2.26 1.13v-2.7c0-.2-.08-.4-.24-.55a.76.76 0 00-.56-.2zm17.88 0a.76.76 0 00-.7.75v2.69l-2.26-1.13a.76.76 0 00-1.05.91c.06.18.18.33.35.42a.08.08 0 00.01 0v.02a.08.08 0 00.01 0l2 1-2 1h-.01a.08.08 0 000 .01h-.01a.76.76 0 00.13 1.37c.18.07.39.06.57-.03l3.35-1.67c.26-.13.42-.4.42-.69v-3.9a.76.76 0 00-.8-.75zm-8.94 4.47a.08.08 0 00-.03 0 .75.75 0 00-.47.23.76.76 0 00-.2.52v2.69l-2.26-1.13a.08.08 0 00-.01 0 .76.76 0 00-1.03.91c.05.18.18.33.34.42l.01.01a.08.08 0 00.01.01l3.34 1.67c.22.12.49.11.7 0l3.34-1.67.02-.01a.76.76 0 00.31-1 .76.76 0 00-1-.34l-2.26 1.13v-2.7a.76.76 0 00-.8-.74z\"\n            ></path>\n          </svg>\n        </div>\n        <p>AR</p>\n      </div>\n\n      <!-- <ModelViewer v-if=\"showModel\" /> -->\n\n      <!-- FaceTracking Component Tonen -->\n      <FaceTracking v-if=\"showModel\" @close=\"toggleFaceTracking\" />\n    </div>\n    <div class=\"rotate-informer desktop\" v-if=\"productModelFile != null\">\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"24\"\n        height=\"24\"\n        fill=\"#ffffff\"\n        viewBox=\"0 0 256 256\"\n      >\n        <path\n          d=\"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z\"\n        ></path>\n      </svg>\n      <p>Drag to rotate</p>\n    </div>\n\n    <div class=\"mobileElements\">\n      <router-link :to=\"`/`\" class=\"back\">\n        <i class=\"fa fa-angle-left\"></i>\n        <p>Back to collections</p>\n      </router-link>\n      <div class=\"row\">\n        <p class=\"name\">{{ productName }}</p>\n        <div class=\"icons\">\n          <div class=\"icon\" v-if=\"partnerPackage === 'pro'\">\n            <div @click=\"showModel = !showModel\" class=\"AR\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n                <path\n                  d=\"M11.98 2.36a.75.75 0 00-.33.1L8.3 4.11H8.3a.08.08 0 00-.01.01.76.76 0 00-.31 1c.09.18.24.31.43.38.19.06.4.05.57-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.54V4.34L15 5.47h.01a.76.76 0 001.03-.91.75.75 0 00-.34-.42l-.01-.01a.08.08 0 00-.01 0l-3.34-1.68a.75.75 0 00-.37-.09zm-5.57 2.8a.76.76 0 00-.34.08L2.72 6.9a.76.76 0 00-.42.7v3.9c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V8.81l2.26 1.13a.76.76 0 001.05-.91.76.76 0 00-.35-.42.08.08 0 00-.02-.02l-2-1 2-1c.3-.16.48-.52.4-.85a.77.77 0 00-.74-.58zm11.18 0a.77.77 0 00-.73.58c-.08.32.08.67.37.83l.02.02 2 1-2 1a.08.08 0 00-.02.02c-.17.1-.3.24-.35.42a.76.76 0 00.47.95c.19.06.4.05.58-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V7.6a.76.76 0 00-.42-.69l-3.35-1.67a.76.76 0 00-.34-.08zm-2.24 4.47a.75.75 0 00-.33.08L12 11.2l-3.02-1.5a.76.76 0 00-1.05.91c.06.18.2.33.36.42a.08.08 0 000 .01h.01a.08.08 0 000 .01l2.94 1.47v2.89c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.53v-2.9l2.93-1.46.02-.02c.3-.16.45-.5.37-.83a.77.77 0 00-.73-.58zM3.01 14.11a.75.75 0 00-.7.75v3.9c-.01.29.15.56.41.69l3.35 1.67a.76.76 0 001.05-.91.76.76 0 00-.34-.42.08.08 0 00-.03-.02l-2-1 2-1 .02-.02c.17-.1.3-.24.35-.42a.76.76 0 00-.47-.95.77.77 0 00-.58.04l-2.26 1.13v-2.7c0-.2-.08-.4-.24-.55a.76.76 0 00-.56-.2zm17.88 0a.76.76 0 00-.7.75v2.69l-2.26-1.13a.76.76 0 00-1.05.91c.06.18.18.33.35.42a.08.08 0 00.01 0v.02a.08.08 0 00.01 0l2 1-2 1h-.01a.08.08 0 000 .01h-.01a.76.76 0 00.13 1.37c.18.07.39.06.57-.03l3.35-1.67c.26-.13.42-.4.42-.69v-3.9a.76.76 0 00-.8-.75zm-8.94 4.47a.08.08 0 00-.03 0 .75.75 0 00-.47.23.76.76 0 00-.2.52v2.69l-2.26-1.13a.08.08 0 00-.01 0 .76.76 0 00-1.03.91c.05.18.18.33.34.42l.01.01a.08.08 0 00.01.01l3.34 1.67c.22.12.49.11.7 0l3.34-1.67.02-.01a.76.76 0 00.31-1 .76.76 0 00-1-.34l-2.26 1.13v-2.7a.76.76 0 00-.8-.74z\"\n                ></path>\n              </svg>\n            </div>\n            <p>AR</p>\n          </div>\n\n          <!-- <ModelViewer v-if=\"showModel\" /> -->\n          <FaceTracking v-if=\"showModel\" @close=\"toggleFaceTracking\" />\n        </div>\n      </div>\n\n      <div class=\"model\" v-if=\"productModelFile != null\"></div>\n      <div class=\"bigImageWithImages\" v-if=\"productModelFile == null\">\n        <!-- Big Image Display -->\n        <div\n          class=\"bigImage\"\n          :style=\"{ backgroundImage: `url(${selectedImage})` }\"\n        ></div>\n\n        <!-- Thumbnail Images -->\n        <div class=\"images\">\n          <div\n            v-for=\"(image, index) in productImages\"\n            :key=\"image._id\"\n            class=\"image\"\n            :class=\"{ active: image === selectedImage }\"\n            :style=\"{ backgroundImage: `url(${image})` }\"\n            @click=\"setSelectedImage(image)\"\n          ></div>\n        </div>\n      </div>\n\n      <div class=\"rotate-informer desktop\" v-if=\"productModelFile != null\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          fill=\"#ffffff\"\n          viewBox=\"0 0 256 256\"\n        >\n          <path\n            d=\"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z\"\n          ></path>\n        </svg>\n        <p>Drag to rotate</p>\n      </div>\n    </div>\n    <div class=\"config-wrapper\">\n      <div class=\"overview\">\n        <h2>Overview</h2>\n        <ul v-if=\"productConfigs.length > 0\">\n          <li v-for=\"(configuration, index) in productConfigs\" :key=\"index\">\n            <p>\n              {{ configuration.configurationId?.fieldName }}\n            </p>\n            <i class=\"fa fa-angle-right\"></i>\n          </li>\n        </ul>\n\n        <p v-else>No configurations found for this product.</p>\n      </div>\n      <div\n        v-for=\"(configuration, index) in productConfigs\"\n        :key=\"index\"\n        class=\"config-ui__page\"\n        v-show=\"currentPageIndex === index\"\n      >\n        <h2 class=\"fieldName\">\n          {{\n            configuration.configurationId?.fieldType === \"color\"\n              ? \"Choose the color for\"\n              : \"Choose an option for\"\n          }}\n          {{ configuration.configurationId?.fieldName || `Layer ${index}` }}\n        </h2>\n\n        <div class=\"row\">\n          <div\n            v-for=\"(selectedOption, index) in configuration.selectedOptions\"\n            :key=\"index\"\n            :class=\"{\n              active: selectedOption.optionId?.name === selectedOptionName,\n            }\"\n            @click=\"selectOption(selectedOption.optionId?.name)\"\n            :style=\"{ backgroundColor: selectedOption.optionId?.name }\"\n          ></div>\n        </div>\n      </div>\n\n      <div class=\"summary\">\n        <h2>Summary</h2>\n        <ul v-if=\"productConfigs.length > 0\">\n          <li\n            v-for=\"(configuration, index) in productConfigs\"\n            :key=\"index\"\n            class=\"borderBottom\"\n          >\n            <p>{{ configuration.configurationId?.fieldName }}</p>\n\n            <!-- Controleer of er geselecteerde items zijn -->\n            <ul>\n              <li\n                v-if=\"\n                  selectedItems.length > 0 &&\n                  selectedItems.some(\n                    (item) =>\n                      item.configurationId ===\n                      configuration.configurationId?._id\n                  )\n                \"\n                v-for=\"(item, index) in selectedItems\"\n                :key=\"index\"\n              >\n                <p\n                  class=\"border\"\n                  :style=\"{\n                    backgroundColor:\n                      item.selectedItem?.optionName || 'transparent',\n                  }\"\n                ></p>\n              </li>\n\n              <!-- Als er geen geselecteerde optie is, toon dan een transparante border met configuratienaam -->\n              <li v-else>\n                <p class=\"border\" style=\"background-color: transparent\">\n                  <span>No option selected</span>\n                </p>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n      <div class=\"links\">\n        <a\n          href=\"#\"\n          class=\"backButton\"\n          @click=\"previousPage\"\n          style=\"visibility: hidden\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 320 512\"\n            style=\"transform: rotate(180deg)\"\n          >\n            <path\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\n            ></path>\n          </svg>\n          <p>Back</p>\n        </a>\n\n        <a class=\"nextButton\" @click=\"nextPage\" style=\"visibility: visible\">\n          <p>Next</p>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\n            <path\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\n            ></path>\n          </svg>\n        </a>\n\n        <a href=\"#\" class=\"summaryButton\" style=\"display: none\">\n          <p>Summary</p>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\n            <path\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\n            ></path>\n          </svg>\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style src=\"../assets/css/detailsProduct.css\"></style>\n","import script from \"./DetailsProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DetailsProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"../assets/css/detailsProduct.css?vue&type=style&index=0&lang=css&external\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, watch, provide, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\nprovide(\"user\", user);\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.companyId || null;\nif (!tokenPayload || !userId) {\n  router.push(\"/login\");\n}\n\n// Partner related data\nconst partnerPackage = ref(null);\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\n\n// Base URL depending on environment\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Function to extract user data from the JWT token (kan mogelijk overbodig zijn als we al `user` injecteren)\nconst getUserDataFromToken = () => {\n  const token = localStorage.getItem(\"jwtToken\");\n  if (token) {\n    const payload = token.split(\".\")[1];\n    const decodedPayload = JSON.parse(atob(payload));\n    const userId = decodedPayload.userId;\n    const firstName = decodedPayload.firstname;\n    const lastName = decodedPayload.lastname;\n    const role = decodedPayload.role;\n    const profilePicture = decodedPayload.profilePicture || \"\";\n\n    return { userId, firstName, lastName, role, profilePicture }; // Return updated fields\n  }\n  console.error(\"No token found in localStorage\");\n  return null;\n};\n\n// Function to fetch user data via API (kan eventueel worden vervangen door data in `user` injecteren)\nconst fetchUserData = async (userId) => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`);\n    const userData = response.data?.data?.user || {};\n    if (userData) {\n      // Dynamically update the reactive user data\n      user.firstName = userData.firstname || \"\";\n      user.lastName = userData.lastname || \"\";\n      user.role = userData.role || \"\";\n      user.profilePicture = userData.profilePicture || \"\";\n    } else {\n      console.error(\"No user found in the response.\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching user data:\", error);\n  }\n};\n\n// Definieer de huisstijl data\nconst huisstijlData = reactive({\n  primaryColor: \"#d4af37\",\n  secondaryColor: \"#f0edea\",\n  backgroundColor: \"#ffffff\",\n  textColor: \"#ffffff\",\n  fontFamilyBodyText: \"Work Sans\",\n  fontFamilyTitles: \"Libre Barcode 128\",\n  logo_url: \"../../src/assets/images/rebilt-favicon.svg\",\n});\n\n// Fetch user data when component is mounted\nonMounted(() => {\n  const userData = getUserDataFromToken();\n  if (userData) {\n    // If user data is found in the token, fetch the full user data\n    fetchUserData(userData.userId);\n  }\n});\n\n// Function to handle logout\nconst logout = () => {\n  localStorage.removeItem(\"jwtToken\");\n  router.push(\"/login\");\n};\n\n// Function to dynamically select the icon based on the active route\nconst getActiveIcon = (routeName, defaultIcon) => {\n  const currentRoute = router.currentRoute.value.path;\n\n  switch (routeName) {\n    case \"products\":\n      return currentRoute === \"/admin\"\n        ? \"../src/assets/icons/tag_active.svg\"\n        : \"../src/assets/icons/tag.svg\";\n    case \"orders\":\n      return currentRoute === \"/admin/orders\"\n        ? \"../src/assets/icons/inbox_active.svg\"\n        : \"../src/assets/icons/inbox.svg\";\n    case \"partners\":\n      return currentRoute === \"/admin/partners\"\n        ? \"../src/assets/icons/partners_active.svg\"\n        : \"../src/assets/icons/partners.svg\";\n    case \"styling\":\n      return currentRoute === \"/admin/styling\"\n        ? \"../src/assets/icons/styling_active.svg\"\n        : \"../src/assets/icons/styling.svg\";\n    case \"users\":\n      return currentRoute === \"/admin/users\"\n        ? \"../src/assets/icons/users_active.svg\"\n        : \"../src/assets/icons/users.svg\";\n    case \"settings\":\n      return currentRoute === \"/admin/settings\"\n        ? \"../src/assets/icons/settings_active.svg\"\n        : \"../src/assets/icons/settings.svg\";\n    case \"logout\":\n      return \"../assets/icons/logout.svg\"; // Logout icon is always static\n    default:\n      return defaultIcon; // Return the default icon for all other routes\n  }\n};\n\nconst profileImage = computed(() => {\n  return (\n    user.profilePicture ||\n    new URL(\"../assets/images/Odette_lunettes.webp\", import.meta.url).href\n  );\n});\n\n// Reactieve variabele om bij te houden welk label moet worden weergegeven\nconst hoveredLabel = ref(\"\");\n\nfunction showLabel(label) {\n  hoveredLabel.value = label;\n}\n\nfunction hideLabel() {\n  hoveredLabel.value = \"\";\n}\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const userData = response.data?.data?.user || {};\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\nprovide(\"user\", user);\nprovide(\"baseURL\", baseURL);\nprovide(\"partnerId\", partnerId);\nprovide(\"userId\", userId);\nprovide(\"token\", token);\n\nonMounted(async () => {\n  await fetchUserProfile();\n});\n</script>\n\n<template>\n  <nav class=\"mobileNav\">\n    <router-link\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n      to=\"/admin\"\n      exact-active-class=\"active\"\n    >\n      <div\n        class=\"menu-item\"\n        @mouseover=\"showLabel('Products')\"\n        @mouseleave=\"hideLabel\"\n      >\n        <img\n          :src=\"getActiveIcon('products', '../assets/icons/tag.svg')\"\n          alt=\"icon\"\n        />\n        <p>Products</p>\n        <span class=\"label\" v-show=\"hoveredLabel === 'Products'\">Products</span>\n      </div>\n    </router-link>\n    <router-link\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n      to=\"/admin/orders\"\n      exact-active-class=\"active\"\n    >\n      <div\n        class=\"menu-item\"\n        @mouseover=\"showLabel('Orders')\"\n        @mouseleave=\"hideLabel\"\n      >\n        <img\n          :src=\"getActiveIcon('orders', '../assets/icons/inbox.svg')\"\n          alt=\"icon\"\n        />\n        <p>Orders</p>\n        <span class=\"label\" v-show=\"hoveredLabel === 'Orders'\">Orders</span>\n      </div>\n    </router-link>\n    <router-link\n      v-if=\"user.role === 'platform_admin'\"\n      to=\"/admin/partners\"\n      exact-active-class=\"active\"\n    >\n      <div\n        class=\"menu-item\"\n        @mouseover=\"showLabel('Partners')\"\n        @mouseleave=\"hideLabel\"\n      >\n        <img\n          :src=\"getActiveIcon('partners', '../assets/icons/partners.svg')\"\n          alt=\"icon\"\n        />\n        <p>Partners</p>\n        <span class=\"label\" v-show=\"hoveredLabel === 'Partners'\">Partners</span>\n      </div>\n    </router-link>\n    <router-link\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n      to=\"/admin/users\"\n      exact-active-class=\"active\"\n    >\n      <div\n        class=\"menu-item\"\n        @mouseover=\"showLabel('Users')\"\n        @mouseleave=\"hideLabel\"\n      >\n        <img\n          :src=\"getActiveIcon('users', '../assets/icons/users.svg')\"\n          alt=\"icon\"\n        />\n        <p>Users</p>\n        <span class=\"label\" v-show=\"hoveredLabel === 'Users'\">Users</span>\n      </div>\n    </router-link>\n    <router-link to=\"/admin/settings\" exact-active-class=\"active\">\n      <div\n        class=\"menu-item profilePicture\"\n        @mouseover=\"showLabel('Settings')\"\n        @mouseleave=\"hideLabel\"\n        :style=\"{ backgroundImage: 'url(' + profileImage + ')' }\"\n      >\n        <span class=\"label\" v-show=\"hoveredLabel === 'Settings'\">Settings</span>\n      </div>\n    </router-link>\n  </nav>\n\n  <nav class=\"desktopNav\">\n    <div class=\"elements\">\n      <div\n        class=\"logo\"\n        :style=\"{ backgroundImage: 'url(' + huisstijlData.logo_url + ')' }\"\n      ></div>\n      <div class=\"menu\">\n        <router-link\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n          to=\"/admin\"\n          exact-active-class=\"active\"\n        >\n          <div\n            class=\"menu-item\"\n            @mouseover=\"showLabel('Products')\"\n            @mouseleave=\"hideLabel\"\n          >\n            <img\n              :src=\"getActiveIcon('products', '../assets/icons/package.svg')\"\n              alt=\"icon\"\n            />\n            <span class=\"label\" v-show=\"hoveredLabel === 'Products'\"\n              >Products</span\n            >\n          </div>\n        </router-link>\n        <router-link\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n          to=\"/admin/orders\"\n          exact-active-class=\"active\"\n        >\n          <div\n            class=\"menu-item\"\n            @mouseover=\"showLabel('Orders')\"\n            @mouseleave=\"hideLabel\"\n          >\n            <img\n              :src=\"getActiveIcon('orders', '../assets/icons/order.svg')\"\n              alt=\"icon\"\n            />\n            <span class=\"label\" v-show=\"hoveredLabel === 'Orders'\">Orders</span>\n          </div>\n        </router-link>\n        <router-link\n          v-if=\"user.role === 'partner_owner'\"\n          to=\"/admin/styling\"\n          exact-active-class=\"active\"\n        >\n          <div\n            class=\"menu-item\"\n            @mouseover=\"showLabel('Styling')\"\n            @mouseleave=\"hideLabel\"\n          >\n            <img\n              :src=\"getActiveIcon('styling', '../assets/icons/styling.svg')\"\n              alt=\"icon\"\n            />\n            <span class=\"label\" v-show=\"hoveredLabel === 'Styling'\"\n              >Styling</span\n            >\n          </div>\n        </router-link>\n        <router-link\n          v-if=\"user.role === 'platform_admin'\"\n          to=\"/admin/partners\"\n          exact-active-class=\"active\"\n        >\n          <div\n            class=\"menu-item\"\n            @mouseover=\"showLabel('Partners')\"\n            @mouseleave=\"hideLabel\"\n          >\n            <img\n              :src=\"getActiveIcon('partners', '../assets/icons/users.svg')\"\n              alt=\"icon\"\n            />\n            <span class=\"label\" v-show=\"hoveredLabel === 'Partners'\"\n              >Partners</span\n            >\n          </div>\n        </router-link>\n        <router-link\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n          to=\"/admin/users\"\n          exact-active-class=\"active\"\n        >\n          <div\n            class=\"menu-item\"\n            @mouseover=\"showLabel('Users')\"\n            @mouseleave=\"hideLabel\"\n          >\n            <img\n              :src=\"getActiveIcon('users', '../assets/icons/users.svg')\"\n              alt=\"icon\"\n            />\n            <span class=\"label\" v-show=\"hoveredLabel === 'Users'\">Users</span>\n          </div>\n        </router-link>\n        <router-link\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n          to=\"/admin/myconfigurations\"\n          exact-active-class=\"active\"\n        >\n          <div\n            class=\"menu-item\"\n            @mouseover=\"showLabel('Configurations')\"\n            @mouseleave=\"hideLabel\"\n          >\n            <img\n              :src=\"getActiveIcon('settings', '../assets/icons/settings.svg')\"\n              alt=\"icon\"\n            />\n            <span class=\"label\" v-show=\"hoveredLabel === 'Configurations'\"\n              >Configurations</span\n            >\n          </div>\n        </router-link>\n      </div>\n    </div>\n    <a @click.prevent=\"logout\">\n      <img src=\"../assets/icons/logout.svg\" alt=\"icon\" />\n    </a>\n  </nav>\n</template>\n\n<style scoped>\n/* background: linear-gradient(-45deg, #473c5d, #000000); */\n.mobileNav {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n  background-color: var(--secondary-color);\n  box-shadow: 0px -4px 8px rgba(0, 0, 0, 0.1);\n  padding: 16px 24px 32px 24px;\n  position: fixed;\n  z-index: 999;\n  bottom: 0;\n  width: 100%;\n}\n\n.mobileNav a {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 4px;\n}\n\n.mobileNav a p {\n  display: none;\n}\n\nnav .profile {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.profilePicture {\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 1px solid #dadbdd;\n}\n\n.desktopNav .profile div {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.desktopNav {\n  display: none;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  background: linear-gradient(\n    -45deg,\n    var(--primary-color),\n    var(--background-color)\n  );\n  height: calc(100vh - 48px);\n  margin: 24px 0px 24px 24px;\n  padding: 24px;\n  position: fixed;\n  border-radius: 1rem;\n}\n\n.desktopNav .elements {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 64px;\n}\n\n.desktopNav .logo {\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: left;\n  width: 24px;\n  height: 24px;\n}\n\n.desktopNav .menu {\n  display: flex;\n  flex-direction: column;\n  gap: 48px;\n}\n\n.desktopNav .profile div {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n.desktopNav .menu a img {\n  width: 24px;\n}\n\n.desktopNav .menu a p {\n  color: var(--text-color);\n}\n\n.menu-item {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.menu-item .label {\n  position: absolute;\n  left: 64px;\n  top: 0; /* Past de afstand onder de afbeelding aan */\n  background-color: var(--primary-color);\n  color: #fff;\n  padding: 8px 12px;\n  border-radius: 4px;\n  font-size: 14px;\n  line-height: 14px;\n  margin: 0;\n  pointer-events: none;\n  transition: opacity 0.4s ease;\n  letter-spacing: 1px;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.icons .icon:hover p {\n  opacity: 1;\n}\n\n.menu-item:hover .label {\n  opacity: 1;\n}\n\n@media (min-width: 768px) {\n  .mobileNav {\n    display: none;\n  }\n  .desktopNav {\n    display: flex;\n  }\n  .profilePicture {\n    width: 24px;\n    height: 24px;\n  }\n}\n</style>\n","import script from \"./navComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./navComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./navComponent.vue?vue&type=style&index=0&id=837f2d1a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-837f2d1a\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, watch } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profileImage: \"\", // Store the profile picture\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  const base64Url = token.split(\".\")[1];\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split(\"\")\n      .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n      .join(\"\")\n  );\n  return JSON.parse(jsonPayload);\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Base URL for API calls\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const userData = response.data?.data?.user || {};\n    // Update the user object with the fetched data\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profileImage = userData.profileImage || \"\"; // Fetch the profile picture\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n    console.log(userData);\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Load the user profile when the component is mounted\nonMounted(() => {\n  fetchUserProfile();\n});\n\n// Ref for the profile image URL (will be dynamically updated)\nconst profileImage = ref(\"\");\n\n// Watch for changes in the user profile picture to update the profileImage ref\nwatch(\n  () => user.profileImage,\n  (newprofileImage) => {\n    // Set the profile image to the fetched picture or a default if none exists\n    profileImage.value = newprofileImage\n      ? newprofileImage\n      : \"https://via.placeholder.com/150\"; // Default image\n  }\n);\n</script>\n\n<template>\n  <router-link to=\"/admin/settings\" exact-active-class=\"active\">\n    <div\n      class=\"menu-item profileImage\"\n      :style=\"{ backgroundImage: 'url(' + profileImage + ')' }\"\n    ></div>\n  </router-link>\n</template>\n\n<style scoped>\n.profileImage {\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  border: 1px solid #dadbdd;\n  cursor: pointer;\n}\n\n.desktopNav .profile div {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n\n@media (min-width: 768px) {\n  .profileImage {\n    width: 40px;\n    height: 40px;\n  }\n}\n</style>\n","import script from \"./ProfilePicture.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ProfilePicture.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ProfilePicture.vue?vue&type=style&index=0&id=3e757442&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3e757442\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\nimport ProfilePicture from \"../../components/ProfilePicture.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.companyId;\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Base URL for API calls\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Partner related data\nconst partnerPackage = ref(null);\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const userData = response.data?.data?.user || {};\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n\n    if (\n      userData.role !== \"partner_admin\" &&\n      userData.role !== \"partner_owner\"\n    ) {\n      router.push(\"/login\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Fetch partner data (if applicable)\nconst fetchPartnerData = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const partner = response.data?.data?.partner || {};\n    partnerPackage.value = partner.package || \"No package available\";\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\n// Provide the user data to all components\nprovide(\"user\", user); // Makes user data available to child components like Navigation\n\n// Fetch products data\n// Fetch products data\n// Fetch products data\nconst fetchData = async () => {\n  try {\n    const token = localStorage.getItem(\"jwtToken\");\n    const response = await fetch(`${baseURL}/products`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    const userCompanyId = getUserCompanyId(token);\n\n    // Filter products based on the partnerId (companyId in the token payload)\n    data.value = result.data.products.filter(\n      (product) => product.partnerId === partnerId\n    );\n\n    // Bereken het aantal varianten voor elk product\n    // Bereken het aantal varianten op basis van selectedOptions lengte\n    data.value.forEach((product) => {\n      if (product.configurations && Array.isArray(product.configurations)) {\n        // Aantal varianten (op basis van geselecteerde opties)\n        product.variantsCount = product.configurations.reduce(\n          (count, config) => {\n            return (\n              count +\n              (config.selectedOptions ? config.selectedOptions.length : 0)\n            );\n          },\n          0\n        );\n      } else {\n        product.variantsCount = 0; // Geen varianten\n      }\n    });\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n};\n\n// Arrays to store configurations\nconst partnerConfigurations = ref([]);\nconst selectedConfigurations = ref([]);\n\n// Nieuwe API-aanroep om configuraties op te halen\nconst fetchConfigurations = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/configurations`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const configurations = response.data?.data || [];\n    return configurations;\n  } catch (error) {\n    console.error(\"Error fetching configurations:\", error);\n    return [];\n  }\n};\n\n// Fetch partner configurations\n// Haal de partnerconfiguraties en configuraties op en koppel ze\nconst fetchPartnerConfigurations = async () => {\n  if (!partnerId) {\n    console.warn(\"No partnerId provided.\");\n    return;\n  }\n\n  try {\n    // Haal de partnerconfiguraties op\n    const partnerResponse = await axios.get(\n      `${baseURL}/partnerConfigurations`,\n      {\n        headers: { Authorization: `Bearer ${token}` },\n        params: { partnerId },\n      }\n    );\n\n    const partnerConfigs = partnerResponse.data?.data || [];\n    partnerConfigurations.value = partnerConfigs.filter(\n      (config) => String(config.partnerId) === String(partnerId)\n    );\n\n    // Haal de algemene configuraties op\n    const configurations = await fetchConfigurations();\n\n    // Koppel de configuraties aan de partnerconfiguraties\n    partnerConfigurations.value.forEach((partnerConfig) => {\n      const matchingConfig = configurations.find(\n        (config) => config._id === partnerConfig.configurationId\n      );\n      if (matchingConfig) {\n        partnerConfig.fieldName = matchingConfig.fieldName; // Voeg het fieldName toe\n      }\n    });\n  } catch (error) {\n    console.error(\"Error fetching partner configurations:\", error);\n  }\n};\n\n// Computed properties\nconst selectedTypeFilter = ref(\"All\");\nconst data = ref([]);\nconst searchTerm = ref(\"\");\nconst selectedProducts = ref([]);\nconst isDeleteButtonVisible = computed(() => selectedProducts.value.length > 0);\nconst isPopupVisible = ref(false);\n\n// Get user company ID from JWT token\nconst getUserCompanyId = (token) => {\n  if (!token) return null;\n  const decoded = JSON.parse(atob(token.split(\".\")[1]));\n  return decoded.companyId;\n};\n\n// Select or deselect a product\nconst toggleSelection = (productId) => {\n  const index = selectedProducts.value.indexOf(productId);\n  if (index === -1) {\n    selectedProducts.value.push(productId);\n  } else {\n    selectedProducts.value.splice(index, 1);\n  }\n};\n\n// Select or deselect all products\nconst toggleSelectAll = (event) => {\n  selectedProducts.value = event.target.checked\n    ? data.value.map((product) => product._id)\n    : [];\n};\n\n// Start the delete process for selected products\nconst deleteSelectedProducts = () => {\n  if (selectedProducts.value.length === 0) return;\n  showPopup();\n};\n\n// Confirm the deletion of selected products\nconst confirmDelete = async () => {\n  await deleteProducts();\n  hidePopup();\n};\n\n// Extract public_id from Cloudinary URL\nconst extractPublicId = (imageUrl) => {\n  try {\n    const parts = imageUrl.split(\"/image/upload/\");\n    if (parts.length < 2) {\n      console.error(\"Invalid URL structure:\", imageUrl);\n      return null;\n    }\n\n    let publicIdWithVersion = parts[1];\n    const publicIdParts = publicIdWithVersion.split(\"/\");\n\n    if (\n      publicIdParts[0].startsWith(\"v\") &&\n      !isNaN(Number(publicIdParts[0].slice(1)))\n    ) {\n      publicIdParts.shift();\n    }\n\n    const publicIdWithoutExtension = publicIdParts.join(\"/\").split(\".\")[0];\n    return publicIdWithoutExtension;\n  } catch (error) {\n    console.error(\"Error extracting public_id:\", error);\n    return null;\n  }\n};\n\n// Delete image from Cloudinary\nconst deleteImageFromCloudinary = async (imageUrl) => {\n  const publicId = extractPublicId(imageUrl);\n  if (!publicId) {\n    console.error(\"No valid public_id found for image:\", imageUrl);\n    return;\n  }\n\n  try {\n    const timestamp = Math.floor(Date.now() / 1000);\n    const signature = generateSignature(timestamp, publicId);\n\n    const response = await fetch(\n      \"https://api.cloudinary.com/v1_1/dzempjvto/image/destroy\",\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          public_id: publicId,\n          api_key: \"496836855294519\",\n          timestamp: timestamp,\n          signature: signature,\n        }),\n      }\n    );\n\n    const result = await response.json();\n    if (result.result !== \"ok\") {\n      throw new Error(\"Cloudinary delete failed: \" + result.result);\n    }\n  } catch (error) {\n    console.error(\"Error deleting image from Cloudinary:\", error);\n  }\n};\n\n// Delete products\n// Delete products\nconst deleteProducts = async () => {\n  try {\n    for (const id of selectedProducts.value) {\n      const response = await fetch(`${baseURL}/products/${id}`, {\n        method: \"DELETE\",\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n    }\n    await fetchData();\n    selectedProducts.value = [];\n  } catch (error) {\n    console.error(\"Error deleting products:\", error);\n  }\n};\n\n// Show popup\nconst showPopup = () => {\n  isPopupVisible.value = true;\n};\n\n// Hide popup\nconst hidePopup = () => {\n  isPopupVisible.value = false;\n};\n\n// Generate signature for Cloudinary deletion\nconst generateSignature = (timestamp, publicId) => {\n  const secret = \"adA9j34J6UeMpoZwMcHzKNfuWoY\";\n  return md5(\n    `public_id=${publicId}&timestamp=${timestamp}&api_secret=${secret}`\n  );\n};\n\n// Verander deze regel van 'reactive' naar 'ref' voor de optie-namen\nconst optionNames = ref({});\n\nasync function fetchOptionNames(product) {\n  if (!product || !product.configurations) {\n    console.warn(\"Product or configurations missing\", product);\n    return 0; // Return 0 if no configurations are available\n  }\n\n  const customConfigs = product.configurations;\n\n  let totalOptionsCount = 0; // To accumulate the total number of options\n\n  try {\n    await Promise.all(\n      customConfigs.map(async (config) => {\n        if (config.configurationId) {\n          try {\n            // Fetch the configuration details based on configurationId\n            const response = await axios.get(\n              `${baseURL}/configurations/${config.configurationId}`,\n              { headers: { Authorization: `Bearer ${token}` } }\n            );\n\n            // Assuming response.data.data.options contains the options array\n            const optionsCount = response.data.data?.options?.length || 0;\n\n            // Add the options count for this configuration to the total\n            totalOptionsCount += optionsCount;\n\n            // Update the optionNames object (you can customize this part further if needed)\n            optionNames.value = {\n              ...optionNames.value,\n              [config._id]: optionsCount,\n            };\n          } catch (error) {\n            console.error(\n              `Error fetching configuration options with ID ${config.configurationId}:`,\n              error\n            );\n          }\n        }\n      })\n    );\n  } catch (error) {\n    console.error(\"Error fetching options:\", error);\n  }\n\n  return totalOptionsCount; // Return the total options count for the product\n}\n\nonMounted(async () => {\n  await fetchData();\n  await fetchPartnerConfigurations();\n\n  // Load option names for each product after the data fetch\n  data.value.forEach((product) => {\n    fetchOptionNames(product); // Pass the product to fetch options\n  });\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\n  <div class=\"content\">\n    <h2>Products</h2>\n    <div class=\"popup\" v-if=\"isPopupVisible\">\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\n      <div class=\"text\">\n        <h2>Are you sure?</h2>\n        <p>Do you really want to delete this item(s)?</p>\n        <div class=\"btns\">\n          <button @click=\"hidePopup\">Cancel</button>\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"menu\">\n      <div class=\"btns\">\n        <router-link exact to=\"/admin/add-new-product\" class=\"btn active\">\n          <p>Add new</p>\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\n        </router-link>\n        <div\n          @click=\"deleteSelectedProducts\"\n          class=\"btn display\"\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\n        >\n          <p>Delete item(s)</p>\n        </div>\n      </div>\n\n      <div class=\"search\">\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\n      </div>\n\n      <select class=\"filter\" v-model=\"selectedTypeFilter\">\n        <option value=\"All\">All</option>\n        <option value=\"optical\">Optical</option>\n        <option value=\"sun\">Sun</option>\n      </select>\n\n      <ProfilePicture />\n    </div>\n\n    <div class=\"search\">\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\n    </div>\n\n    <div class=\"products mobile\">\n      <div class=\"items\">\n        <router-link\n          v-if=\"data.length\"\n          v-for=\"product in data\"\n          :key=\"product._id\"\n          :to=\"{ name: 'EditProduct', params: { id: product._id } }\"\n        >\n          <div\n            class=\"image\"\n            :style=\"{\n              backgroundImage:\n                'url(' +\n                product.configurations[0].selectedOptions[0].images[0] +\n                ')',\n            }\"\n          ></div>\n\n          <div class=\"elements\">\n            <div class=\"text\">\n              <p class=\"name\">{{ product.productName }}</p>\n              <p>\n                {{ product.configurations[0].selectedOptions.length }} variant{{\n                  product.configurations[0].selectedOptions.length > 1\n                    ? \"s\"\n                    : \"\"\n                }}\n              </p>\n              <!-- Weergeven van het aantal varianten -->\n            </div>\n            <div\n              class=\"btn\"\n              :class=\"{ active: product.activeInactive === 'active' }\"\n            >\n              <p>{{ product.activeInactive }}</p>\n            </div>\n          </div>\n        </router-link>\n      </div>\n    </div>\n\n    <div class=\"products desktop\">\n      <div class=\"top\">\n        <input\n          type=\"checkbox\"\n          @change=\"toggleSelectAll\"\n          :checked=\"\n            selectedProducts.length === selectedProducts.length &&\n            selectedProducts.length > 0\n          \"\n        />\n        <p>Product Code</p>\n        <p>Product name</p>\n        <p>Type of product</p>\n        <p>Brand</p>\n        <p>Description</p>\n        <p>Status</p>\n      </div>\n\n      <ul v-if=\"data.length\" class=\"list\">\n        <li v-for=\"product in data\" :key=\"product._id\">\n          <input\n            type=\"checkbox\"\n            @change=\"toggleSelection(product._id)\"\n            :checked=\"selectedProducts.includes(product._id)\"\n          />\n          <router-link\n            :to=\"{ name: 'EditProduct', params: { id: product._id } }\"\n          >\n            <p>{{ product.productCode }}</p>\n            <p>{{ product.productName }}</p>\n            <p>{{ product.productType }}</p>\n            <p>{{ product.brand }}</p>\n            <p>{{ product.description }}</p>\n            <div\n              class=\"btn\"\n              :class=\"{ active: product.activeInactive === 'active' }\"\n            >\n              <p>{{ product.activeInactive }}</p>\n            </div>\n          </router-link>\n        </li>\n      </ul>\n\n      <div v-else class=\"no-products\">\n        <p>Geen producten gevonden voor de huidige zoekopdracht of filter.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  margin-bottom: 72px;\n}\n\nh2 {\n  text-align: center;\n  width: 100%;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n}\n\n.popup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.popup img {\n  width: 64px;\n  height: 64px;\n}\n\n.popup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.popup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.popup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.menu {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.menu .btns {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: center;\n}\n\n.btn.display {\n  display: none;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.btn.display p {\n  color: #d34848;\n}\n\n.search,\nselect {\n  padding: 4px 12px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-900);\n  background-color: var(--gray-900);\n  color: var(--text-color);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n}\n.search {\n  width: 100%;\n}\n\n.no-products {\n  text-align: center;\n  color: #fff;\n  padding: 20px;\n}\n\n.search {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n}\n\n.products .top {\n  display: flex; /* Keep the flexbox layout */\n  gap: 20px; /* Space between items */\n  border-radius: 4px 8px 0 0;\n  padding: 16px;\n  background-color: var(--secondary-color);\n  width: 100%;\n  overflow-x: auto; /* Allow horizontal scrolling */\n  -webkit-overflow-scrolling: touch; /* Smooth scrolling on mobile */\n}\n\n.products .top::-webkit-scrollbar {\n  display: none; /* Hide scrollbar */\n}\n\n.products .list {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  gap: 16px;\n  overflow-x: auto;\n}\n\n.products .list li {\n  display: flex;\n  flex-direction: row; /* Align items in a row */\n  align-items: center;\n  gap: 20px; /* Space between columns */\n  padding: 16px;\n}\n\n.products .list li:nth-child(even) {\n  background-color: rgb(\n    var(--primary-color),\n    0.1\n  ); /* Alternate background color */\n}\n\n.products .top p,\n.products .list li p {\n  color: var(--text-color);\n  min-width: 150px; /* Minimum width for each column */\n  box-sizing: border-box; /* Include padding/border in width calculation */\n}\n\n.products .top p {\n  flex-grow: 1; /* Allow flexibility in top items */\n}\n\n.products .list li p {\n  flex-grow: 1; /* Allow each product property to grow and fill space */\n}\n\n.products .list li a {\n  display: flex; /* Ensure the entire item is aligned in a row */\n  gap: 20px; /* Space out the child items */\n  width: 100%;\n}\n\n.products .list li a:hover {\n  text-decoration: underline; /* Hover effect */\n}\n\n.products .list li p {\n  color: var(--text-color);\n}\n\n.products .list li p:hover {\n  text-decoration: underline;\n}\n\n.products .top p {\n  flex: 1 1 auto; /* Dit maakt de elementen flexibel, met een minimum van de breedte die ze nodig hebben */\n  min-width: 90px; /* Minimale breedte per kolom */\n  box-sizing: border-box; /* Zorg ervoor dat padding en borders worden meegeteld in de breedte */\n}\n\n.products .top input {\n  width: 20px;\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.menu .search {\n  display: none;\n}\n\n.products.desktop {\n  background-color: var(--secondary-color);\n  width: 100%;\n  border-radius: 4px;\n  overflow-x: auto;\n}\n\n.products.desktop .list li:nth-child(odd) {\n  background-color: var(--gray-900);\n}\n\n.products.mobile {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n}\n\n.products.mobile .items {\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n}\n\n.products.mobile a {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  gap: 1.5em;\n  padding-bottom: 1em;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n}\n\n.products.mobile a .image {\n  width: 64px;\n  height: 64px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n\n.products.mobile a .elements {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 100%;\n  gap: 1em;\n}\n\n.products.mobile a .elements .text {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n}\n\n.products.mobile a .elements .btn,\n.products.desktop .btn {\n  border-radius: 0.75rem;\n  padding: 0.75rem 0.025rem;\n  width: 60px;\n  height: 26px;\n}\n\n.products.mobile a .elements .btn.active,\n.products.desktop .btn.active {\n  background-color: #53e971;\n  border: none;\n}\n\n.products.mobile a .elements .btn p,\n.products.desktop .btn p {\n  opacity: 1;\n}\n\n.products.mobile a .elements .btn.active p,\n.products.desktop .btn.active p {\n  color: #000;\n  opacity: 1;\n}\n\n.products.mobile a p {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.products.mobile a p.name {\n  opacity: 1;\n}\n\n.products.desktop {\n  display: none;\n}\n\n@media (min-width: 1200px) {\n  h2,\n  .search,\n  .products.mobile {\n    display: none;\n  }\n\n  .menu .search {\n    display: flex;\n  }\n\n  .products {\n    background-color: var(--secondary-color);\n    width: 100%;\n    border-radius: 4px;\n    overflow-x: auto; /* Enable horizontal scrolling */\n    white-space: nowrap; /* Prevent wrapping of items */\n  }\n\n  .products.desktop {\n    display: block;\n  }\n  .search {\n    width: auto;\n  }\n\n  .menu .search,\n  select {\n    min-width: 320px;\n  }\n}\n</style>\n","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=5110ea75&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5110ea75\"]])\n\nexport default __exports__","/* Algemeen API-beheer */\nimport axios from \"axios\";\nimport router from \"../router\"; // Importeer hier de router-instantie\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nexport const fetchPartnerData = async (partnerId, jwtToken) => {\n  try {\n    if (!partnerId) {\n      console.error(\"Partner ID (companyId) is not available in the token.\");\n      router.push(\"/login\"); // Gebruik hier de gemporteerde router\n      return;\n    }\n\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n    });\n\n    const partner = response.data?.data?.partner;\n    if (partner) {\n      return partner;\n    } else {\n      console.error(\"Partner data not found in response\");\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error.response || error);\n    return null;\n  }\n};\n","/* Configuratiegerelateerde logica */\nimport axios from \"axios\";\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nexport const fetchPartnerConfigurations = async (partnerId, jwtToken) => {\n  if (!partnerId) {\n    console.warn(\"No partnerId provided.\");\n    return [];\n  }\n\n  try {\n    // Haal de partner configuraties op\n    const partnerResponse = await axios.get(\n      `${baseURL}/partnerConfigurations`,\n      {\n        headers: { Authorization: `Bearer ${jwtToken}` },\n        params: { partnerId },\n      }\n    );\n\n    // Haal de algemene configuraties op\n    const configurationsResponse = await axios.get(\n      `${baseURL}/configurations`,\n      {\n        headers: { Authorization: `Bearer ${jwtToken}` },\n      }\n    );\n\n    const partnerConfigs = partnerResponse.data?.data || [];\n    const configurations = configurationsResponse.data?.data || [];\n\n    // Haal gedetailleerde configuraties op voor elke configurationId in partnerConfigs\n    const partnerConfigsWithDetails = await Promise.all(\n      partnerConfigs.map(async (config) => {\n        const configurationId = config.configurationId._id;\n        try {\n          const configDetailsResponse = await axios.get(\n            `${baseURL}/configurations/${configurationId}`,\n            {\n              headers: { Authorization: `Bearer ${jwtToken}` },\n            }\n          );\n          const configDetails = configDetailsResponse.data?.data || {};\n          return { ...config, configurationDetails: configDetails };\n        } catch (error) {\n          console.error(\n            `Error fetching configuration details for ${configurationId}:`,\n            error\n          );\n          return { ...config, configurationDetails: {} };\n        }\n      })\n    );\n\n    // Return both partner configurations with details and general configurations\n    return { partnerConfigs: partnerConfigsWithDetails, configurations };\n  } catch (error) {\n    console.error(\"Error fetching partner configurations:\", error);\n    return [];\n  }\n};\n\nexport const fetchOptionNames = async (optionsData) => {\n  try {\n    const validOptions = optionsData.filter(\n      (option) => option.optionId && option.optionId !== \"undefined\"\n    );\n\n    if (validOptions.length === 0) {\n      return optionsData.map(() => ({ name: \"Unknown\" }));\n    }\n\n    const responses = await Promise.all(\n      validOptions.map((option) =>\n        axios.get(`${baseURL}/options/${option.optionId._id}`, {\n          headers: { Authorization: `Bearer ${jwtToken}` },\n        })\n      )\n    );\n\n    return responses.map((res, index) => {\n      const optionData = res.data?.data;\n      return {\n        optionId: validOptions[index].optionId,\n        name: optionData?.name,\n      };\n    });\n  } catch (error) {\n    console.error(\"Error fetching option names:\", error);\n    return optionsData.map(() => ({ name: \"Unknown\" }));\n  }\n};\n\nexport const addNewColor = async (config, fieldName) => {\n  const configId = config.configurationId._id;\n\n  if (\n    !newColorName.value[configId] ||\n    newColorName.value[configId].trim() === \"\"\n  ) {\n    return; // Geen lege kleuren toevoegen\n  }\n\n  const newColor = {\n    name: newColorName.value[configId].trim(),\n    type: \"kleur\", // Aangeven dat het een kleur is\n    price: 0, // Stel hier een prijs in, als nodig\n  };\n\n  try {\n    // Verstuur een POST-verzoek naar de server om de kleur op te slaan\n    const response = await fetch(`${baseURL}/options`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(newColor), // Verstuur de nieuwe kleur\n    });\n\n    const data = await response.json();\n\n    // Controleer of 'data.data' en 'data.data._id' bestaan\n    if (data && data.data && data.data._id) {\n      // Voeg de nieuwe kleur toe aan de geselecteerde kleuren (selectedColors)\n      const color = {\n        optionId: data.data._id,\n        name: newColor.name,\n        images: [], // Voeg hier een lege array voor afbeeldingen toe\n      };\n      selectedColors.value.push(color); // Voeg toe aan selectedColors\n\n      // Voeg de nieuwe kleur toe aan de beschikbare kleuren (colors)\n      colors.value.push(color); // Voeg toe aan colors\n\n      // Voeg de nieuwe kleur toe aan de opties in config\n      config.options.push({\n        optionId: data.data._id, // Gebruik het ontvangen _id van de server\n        name: newColor.name,\n      });\n\n      // Voeg de nieuwe kleur toe aan de beschikbare kleuren array\n      availableNewColors.value.push({\n        optionId: data.data._id,\n        name: newColor.name,\n      });\n\n      // Reset het invoerveld\n      newColorName.value[configId] = \"\";\n    } else {\n      console.error(\n        \"Fout bij het toevoegen van de kleur: geen _id ontvangen\",\n        data\n      );\n    }\n  } catch (error) {\n    console.error(\n      \"Er is een fout opgetreden bij het versturen van de kleur:\",\n      error\n    );\n  }\n};\n","<template>\n  <div class=\"dropdown-selected\" @click=\"toggleDropdown\">\n    <!-- Trigger button for dropdown, display selected value or buttonText -->\n    <p class=\"text\">{{ selectedOption || buttonText }}</p>\n\n    <!-- Dropdown content -->\n    <div v-if=\"isOpen\" class=\"dropdown-options\" @click.stop>\n      <!-- Dropdown options -->\n      <div\n        v-for=\"(type, index) in types\"\n        :key=\"index\"\n        class=\"dropdown-option\"\n        @click=\"selectOption(type)\"\n        :class=\"{ selected: type === selectedOption }\"\n      >\n        <p>{{ type }}</p>\n      </div>\n      <!-- Input field and button for adding new option -->\n      <div class=\"dropdown-add-option\">\n        <input v-model=\"newOption\" type=\"text\" placeholder=\"Add new option\" />\n        <button @click=\"handleAddOption\">Add</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DropdownToggle\",\n  props: {\n    fieldName: {\n      type: String,\n      required: true,\n    },\n    dropdownStates: {\n      type: Object,\n      required: true,\n    },\n    buttonText: {\n      type: String,\n      required: true,\n    },\n    types: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      newOption: \"\",\n      selectedOption: null,\n    };\n  },\n  computed: {\n    isOpen() {\n      return this.dropdownStates[this.fieldName];\n    },\n  },\n  methods: {\n    toggleDropdown() {\n      // Sluit andere dropdowns en toggle de huidige\n      for (const key in this.dropdownStates) {\n        if (key !== this.fieldName) {\n          this.dropdownStates[key] = false;\n        }\n      }\n      // Toggle de dropdown\n      this.dropdownStates[this.fieldName] =\n        !this.dropdownStates[this.fieldName];\n    },\n    selectOption(type) {\n      // Verander de geselecteerde waarde\n      this.selectedOption = type;\n      this.$emit(\"update:modelValue\", type);\n      this.toggleDropdown(); // Sluit de dropdown nadat een optie is geselecteerd\n    },\n    handleAddOption(event) {\n      // Voorkom dat de dropdown sluit wanneer de Add knop wordt geklikt\n      event.stopPropagation();\n\n      if (this.newOption.trim()) {\n        this.$emit(\"addOption\", this.newOption.trim());\n        this.newOption = \"\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.dropdown-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: var(--gray-900);\n  border-radius: 4px;\n  width: 100%;\n  z-index: 10;\n  max-height: 200px;\n  overflow-y: auto;\n  margin-top: 4px;\n}\n\n.dropdown-option {\n  padding: 8px;\n  cursor: pointer;\n}\n\n.dropdown-option:hover,\n.dropdown-option.selected {\n  background-color: var(--blue-500); /* Highlight selected option */\n  color: white;\n}\n\n.dropdown-add-option {\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  gap: 8px;\n}\n\n.dropdown-add-option input {\n  flex: 1;\n  padding: 4px;\n  border: 1px solid var(--gray-700);\n  border-radius: 4px;\n  background-color: var(--gray-800);\n  color: white;\n}\n\n.dropdown-add-option button {\n  padding: 4px 8px;\n  border: none;\n  border-radius: 4px;\n  background-color: var(--blue-600);\n  color: white;\n  cursor: pointer;\n}\n\n.dropdown-add-option button:hover {\n  background-color: var(--blue-600);\n}\n\n.dropdown-selected .text {\n  opacity: 0.6;\n  font-size: 0.875rem;\n}\n</style>\n","import { render } from \"./DropdownToggle.vue?vue&type=template&id=a8090492&scoped=true\"\nimport script from \"./DropdownToggle.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownToggle.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownToggle.vue?vue&type=style&index=0&id=a8090492&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a8090492\"]])\n\nexport default __exports__","<template>\n  <div class=\"dropdown-selected\" @click=\"toggleDropdown\">\n    <!-- Trigger button for dropdown -->\n    <p class=\"text\">{{ buttonText }}</p>\n\n    <!-- Dropdown content -->\n    <div v-if=\"isOpen\" class=\"dropdown-options\" @click.stop>\n      <slot></slot>\n      <!-- Slot voor dynamische inhoud in de dropdown -->\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"DropdownToggle\",\n  props: {\n    fieldName: {\n      type: String,\n      required: true,\n    },\n    dropdownStates: {\n      type: Object,\n      required: true,\n    },\n    buttonText: {\n      type: String,\n      default: \"Choose your colors\",\n    },\n  },\n  data() {\n    return {\n      isAdding: false, // Flag om toe te voegen zonder de dropdown te sluiten\n    };\n  },\n  computed: {\n    isOpen() {\n      return this.dropdownStates[this.fieldName];\n    },\n  },\n  methods: {\n    toggleDropdown() {\n      // Sluit alle andere dropdowns\n      for (const key in this.dropdownStates) {\n        if (key !== this.fieldName) {\n          this.dropdownStates[key] = false;\n        }\n      }\n\n      // Toggle de huidige dropdown\n      this.dropdownStates[this.fieldName] =\n        !this.dropdownStates[this.fieldName];\n    },\n\n    // Methode om een actie te doen zonder de dropdown te sluiten\n    handleAddAction(event) {\n      event.stopPropagation(); // Voorkom dat het klikken op de knop de dropdown sluit\n      this.isAdding = true;\n\n      // Doe de actie die je nodig hebt (bijv. iets toevoegen)\n      // Reset na de actie\n      this.isAdding = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.dropdown-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: var(--gray-900);\n  border-radius: 4px;\n  width: 100%;\n  z-index: 10;\n  max-height: 200px;\n  overflow-y: auto;\n  margin-top: 4px;\n}\n\n.dropdown-selected .text {\n  opacity: 0.6;\n  font-size: 0.875rem;\n}\n</style>\n","import { render } from \"./DropdownToggleColor.vue?vue&type=template&id=12b85d8e&scoped=true\"\nimport script from \"./DropdownToggleColor.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownToggleColor.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownToggleColor.vue?vue&type=style&index=0&id=12b85d8e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12b85d8e\"]])\n\nexport default __exports__","<template>\n  <div>\n    <!-- Dropdown voor het weergeven van kleur opties -->\n    <div\n      v-for=\"(option, index) in colorOptions\"\n      :key=\"option.optionId\"\n      class=\"dropdown-option\"\n    >\n      <input\n        type=\"checkbox\"\n        :value=\"option.optionId\"\n        :checked=\"isSelected(option)\"\n        @click=\"toggleColor(option)\"\n      />\n      <span\n        class=\"color-bullet\"\n        :style=\"{ backgroundColor: option.name || 'transparent' }\"\n      ></span>\n      <p class=\"stroke\">-</p>\n      <p>{{ option.name || \"Unnamed Color\" }}</p>\n    </div>\n\n    <!-- Input veld voor het toevoegen van een nieuwe kleur -->\n    <div v-if=\"isOpen\" class=\"dropdown-add-option\">\n      <input v-model=\"newColor\" type=\"text\" placeholder=\"Add new color\" />\n      <button @click=\"addColor\">Add</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ColorSelectionToggle\",\n  props: {\n    selectedColors: {\n      type: Array,\n      required: true,\n    },\n    dropdownStates: {\n      type: Object,\n      required: true,\n    },\n    fieldName: {\n      type: String,\n      required: true,\n    },\n    colorOptions: {\n      type: Array,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      newColor: \"\", // Houdt de invoer voor de nieuwe kleur bij\n      isAddingColor: false, // Voeg een flag toe om het toevoegen van een kleur te controleren\n    };\n  },\n  computed: {\n    isOpen() {\n      return this.dropdownStates[this.fieldName];\n    },\n  },\n  methods: {\n    // Controleer of een kleur is geselecteerd\n    isSelected(option) {\n      return this.selectedColors.some(\n        (color) => color.optionId === option.optionId\n      );\n    },\n\n    // Toggle de kleur in de lijst van geselecteerde kleuren\n    toggleColor(option) {\n      const selectedColorsCopy = [...this.selectedColors];\n      const index = selectedColorsCopy.findIndex(\n        (color) => color.optionId === option.optionId\n      );\n\n      if (index === -1) {\n        selectedColorsCopy.push({\n          optionId: option.optionId,\n          name: option.name || \"Unnamed Color\",\n          images: Array.isArray(option.images) ? option.images : [],\n        });\n      } else {\n        selectedColorsCopy.splice(index, 1);\n      }\n\n      // Emit de bijgewerkte lijst van geselecteerde kleuren\n      this.$emit(\"update:selectedColors\", selectedColorsCopy);\n\n      // Sluit de dropdown alleen als een kleur is geselecteerd, niet als een kleur is toegevoegd\n      if (option.name) {\n        this.dropdownStates[this.fieldName] = false;\n      }\n    },\n\n    // Voeg een nieuwe kleur optie toe\n    addColor() {\n      if (this.isAddingColor) return; // Voorkom herhaald klikken als het toevoegen bezig is\n      this.isAddingColor = true; // Zet de flag om aan te geven dat een kleur wordt toegevoegd\n\n      if (\n        this.newColor.trim() &&\n        !this.colorOptions.some(\n          (option) => option.name === this.newColor.trim()\n        )\n      ) {\n        const newColorOption = {\n          optionId: Date.now(), // Genereer een unieke ID\n          name: this.newColor.trim(),\n          images: [],\n        };\n        this.colorOptions.push(newColorOption); // Voeg de nieuwe kleur toe aan de lijst\n        this.$emit(\"update:colorOptions\", this.colorOptions); // Emit de bijgewerkte lijst van kleuren\n\n        this.newColor = \"\"; // Maak het invoerveld leeg\n      }\n\n      this.isAddingColor = false; // Reset de flag\n    },\n  },\n};\n</script>\n\n<style scoped>\n.dropdown-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: var(--gray-900);\n  border-radius: 4px;\n  width: 100%;\n  z-index: 10;\n  max-height: 200px;\n  overflow-y: auto;\n  margin-top: 4px;\n}\n\n.dropdown-option {\n  display: flex;\n  align-items: center;\n  padding: 5px;\n}\n\n.color-bullet {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin-right: 0.5rem;\n  display: inline-block;\n}\n\n.dropdown-option p {\n  opacity: 0.8;\n  font-size: 0.75rem;\n}\n\n.stroke {\n  margin-right: 0.5rem;\n}\n\ninput[type=\"checkbox\"] {\n  margin-right: 10px;\n}\n\np {\n  margin: 0;\n}\n\n.dropdown-add-option {\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  gap: 8px;\n}\n\n.dropdown-add-option input {\n  flex: 1;\n  padding: 4px;\n  border: 1px solid var(--gray-700);\n  border-radius: 4px;\n  background-color: var(--gray-800);\n  color: white;\n}\n\n.dropdown-add-option button {\n  padding: 4px 8px;\n  border: none;\n  border-radius: 4px;\n  background-color: var(--blue-500);\n  color: white;\n  cursor: pointer;\n}\n\n.dropdown-add-option button:hover {\n  background-color: var(--blue-600);\n}\n</style>\n","import { render } from \"./ColorSelectionToggle.vue?vue&type=template&id=4a0f85b1&scoped=true\"\nimport script from \"./ColorSelectionToggle.vue?vue&type=script&lang=js\"\nexport * from \"./ColorSelectionToggle.vue?vue&type=script&lang=js\"\n\nimport \"./ColorSelectionToggle.vue?vue&type=style&index=0&id=4a0f85b1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a0f85b1\"]])\n\nexport default __exports__","<template>\n  <div class=\"color-upload-section\">\n    <!-- Verborgen input voor het selecteren van bestanden -->\n    <input\n      type=\"file\"\n      :id=\"'images-' + index\"\n      style=\"display: none\"\n      multiple\n      @change=\"handleColorImageUpload($event, index)\"\n    />\n\n    <!-- Upload knop -->\n    <div\n      class=\"uploadImage\"\n      @click=\"() => (isModelLoaded ? null : triggerFileInput(index))\"\n      :style=\"{\n        justifyContent: colorUploads[index]?.images?.length\n          ? 'flex-start'\n          : 'center',\n      }\"\n    >\n      <div v-if=\"!colorUploads[index]?.images?.length\" class=\"text\">\n        <img src=\"../assets/icons/image-add.svg\" alt=\"image-add\" />\n        <p>Bestanden toevoegen</p>\n      </div>\n\n      <!-- Lijst van geploade bestanden -->\n      <div\n        v-for=\"(previewUrl, imgIndex) in previewImages(\n          colorUploads[index]?.images\n        )\"\n        :key=\"imgIndex\"\n        class=\"image-preview\"\n      >\n        <!-- Template voor afbeeldingen -->\n        <template v-if=\"isImageUrl(previewUrl)\">\n          <img :src=\"previewUrl\" alt=\"Uploaded file preview\" width=\"100\" />\n        </template>\n\n        <template v-else>\n          <p>3D bestand gepload:</p>\n          <div :id=\"'threejs-' + index\" class=\"threejs-container\" />\n          <button\n            @click=\"triggerFileInput(index)\"\n            v-if=\"isModelLoaded\"\n            class=\"btn active\"\n          >\n            Upload nieuw 3D model\n          </button>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { uploadFileToCloudinary } from \"../services/fileService\";\n\nexport default {\n  name: \"ImageUpload\",\n  props: {\n    color: Object,\n    index: Number,\n    colorUploads: Array,\n    partnerName: String,\n    partnerPackage: String,\n  },\n  data() {\n    return {\n      isModelLoaded: false,\n    };\n  },\n  methods: {\n    triggerFileInput(index) {\n      const fileInput = document.getElementById(`images-${index}`);\n      if (fileInput) {\n        fileInput.click();\n      } else {\n        console.warn(\"File input not found\");\n      }\n    },\n\n    async handleThumbnailUpload(event, index) {\n      const files = event.target.files;\n\n      // Controleer of er daadwerkelijk bestanden zijn geselecteerd\n      if (!files || files.length === 0) {\n        console.warn(\" Geen thumbnail bestand geselecteerd.\");\n        return;\n      }\n\n      const validFiles = Array.from(files).filter((file) => {\n        // Controleer of het bestand een afbeelding is\n        return this.isImageFile(file);\n      });\n\n      if (!validFiles.length) {\n        console.warn(\" Geen geldige thumbnail geselecteerd.\");\n        return;\n      }\n\n      const uploadedUrls = [];\n      for (let file of files) {\n        // Extra check of file null is\n        if (!file) {\n          console.error(\" Thumbnail bestand is null.\");\n          continue;\n        }\n\n        // Controleer of de naam van het bestand beschikbaar is\n        if (!file.name) {\n          console.error(\" Thumbnail bestand heeft geen naam.\");\n          continue;\n        }\n\n        const fileExtension = file.name.split(\".\").pop().toLowerCase();\n\n        try {\n          const secureUrl = await uploadFileToCloudinary(\n            file,\n            this.color.name,\n            this.partnerName\n          );\n\n          // Voeg de thumbnail toe aan de uploads\n          this.colorUploads[index] = this.colorUploads[index] || { images: [] };\n          this.colorUploads[index].images.push(secureUrl);\n          uploadedUrls.push(secureUrl);\n\n          // **Emit naar parent**\n          this.$emit(\"file-uploaded\", uploadedUrls);\n        } catch (error) {\n          console.error(\n            \"Fout bij uploaden van thumbnail naar Cloudinary:\",\n            error\n          );\n        }\n      }\n    },\n\n    async handleColorImageUpload(event, index) {\n      const files = event.target.files;\n      console.log(\" Bestanden geselecteerd:\", files);\n      console.log(\" Index van upload:\", index);\n      console.log(\" Partner Package:\", this.partnerPackage);\n      console.log(\" Kleur:\", this.color?.name);\n      console.log(\" Partner naam:\", this.partnerName);\n\n      // Controleer of er daadwerkelijk bestanden zijn geselecteerd\n      if (!files || files.length === 0) {\n        console.warn(\" Geen bestanden geselecteerd.\");\n        return;\n      }\n\n      const validFiles = Array.from(files).filter((file) => {\n        if (!file) return false; // Extra check om te voorkomen dat file null of undefined is\n\n        // Pro-gebruikers kunnen zowel afbeeldingen als 3D-bestanden uploaden\n        if (this.partnerPackage === \"pro\" && this.is3DFile(file)) {\n          return true;\n        }\n\n        // Standaard-gebruikers mogen alleen 2D-afbeeldingen uploaden\n        if (this.partnerPackage !== \"pro\" && this.is3DFile(file)) {\n          alert(\n            \" Standaard-gebruikers kunnen alleen 2D-afbeeldingen uploaden.\"\n          );\n          return false;\n        }\n\n        // Controleer of het bestand een afbeelding is\n        return this.isImageFile(file);\n      });\n\n      if (!validFiles.length) {\n        console.warn(\" Geen geldige bestanden geselecteerd.\");\n        return;\n      }\n\n      const uploadedUrls = [];\n      for (let file of validFiles) {\n        // Extra check of file null is\n        if (!file) {\n          console.error(\" Bestand is null.\");\n          continue;\n        }\n\n        // Controleer of de naam van het bestand beschikbaar is\n        if (!file.name) {\n          console.error(\" Bestand heeft geen naam.\");\n          continue;\n        }\n\n        try {\n          console.log(\" Uploading file:\", file.name);\n          const secureUrl = await uploadFileToCloudinary(\n            file,\n            this.color?.name || \"default_color\",\n            this.partnerName || \"default_partner\"\n          );\n          console.log(\" Upload geslaagd! URL:\", secureUrl);\n\n          // Voeg de geploade afbeelding toe aan de lijst\n          this.colorUploads[index] = this.colorUploads[index] || { images: [] };\n          this.colorUploads[index].images.push(secureUrl);\n          uploadedUrls.push(secureUrl);\n\n          // Render 3D model als het een 3D bestand is\n          if (this.is3DFile(file)) {\n            const fileExtension = file.name.split(\".\").pop().toLowerCase();\n            this.render3DModel(secureUrl, `threejs-${index}`, fileExtension);\n          }\n\n          // Emit naar parent component\n          this.$emit(\"file-uploaded\", uploadedUrls);\n        } catch (error) {\n          console.error(\n            \" Fout bij uploaden naar Cloudinary:\",\n            error.message,\n            error\n          );\n        }\n      }\n    },\n\n    render3DModel(url, containerId, fileExtension) {\n      // Hier zou je Three.js of een andere 3D library kunnen gebruiken\n      this.isModelLoaded = true;\n    },\n\n    previewImages(images) {\n      return images || [];\n    },\n\n    isImageFile(file) {\n      return file && file.type && file.type.startsWith(\"image/\");\n    },\n\n    isImageUrl(url) {\n      return /\\.(jpeg|jpg|png|gif|webp)$/i.test(url);\n    },\n\n    is3DFile(file) {\n      return file && file.name && /\\.(glb|gltf|fbx|obj)$/i.test(file.name);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.color-upload-section,\n.image-preview div {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.uploadImage {\n  display: flex;\n  flex-direction: row;\n  gap: 0.5rem;\n  padding: 1rem;\n  border-radius: 0.25rem;\n  width: 100%;\n  background-color: var(--gray-700);\n}\n\n.uploadImage .text {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.image-preview {\n  width: 50px;\n}\n\n.image-preview img {\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n}\n\n.image-preview div {\n  width: 100%;\n}\n\n.threejs-container {\n  width: 100%;\n  height: 400px;\n}\n</style>\n","import { render } from \"./ImageUpload.vue?vue&type=template&id=2effda9c&scoped=true\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js\"\n\nimport \"./ImageUpload.vue?vue&type=style&index=0&id=2effda9c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2effda9c\"]])\n\nexport default __exports__","<script setup>\nimport { ref, toRaw, computed, onMounted, nextTick } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = import.meta.env.VITE_API_BASE_URL;\n\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\nimport { fetchPartnerData } from \"../../services/apiService\";\nimport { checkToken, fetchPartnerPackage } from \"../../services/authService\";\nimport { fetchPartnerConfigurations } from \"../../services/configurationService\";\nimport {\n  fetchProductTypes,\n  getcolors,\n  addProductType,\n  add3DProduct,\n  add2DProduct,\n} from \"../../services/productService\";\nimport DropdownToggle from \"../../components/DropdownToggle.vue\";\nimport DropdownToggleColor from \"../../components/DropdownToggleColor.vue\";\nimport ColorSelectionToggle from \"../../components/ColorSelectionToggle.vue\";\nimport ImageUpload from \"../../components/ImageUpload.vue\";\n\n// Reactive variables\nconst router = useRouter();\nconst partnerConfigurations = ref([]);\nconst productCode = ref(\"\");\nconst productName = ref(\"\");\nconst brand = ref(\"\");\nconst productType = ref(\"\");\nconst productPrice = ref(\"\");\nconst description = ref(\"\");\nconst colorUploads = ref([]);\nconst dropdownStates = ref({});\nconst uploadedFile = ref(null);\nconst thumbnail = ref(null);\nconst modelFile = ref(null);\nconst newColorName = ref(\"\");\nconst newProducts = ref([]);\n\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\nconst partnerId = tokenPayload.companyId;\nconst selectedType = ref(\"\");\nconst partnerPackage = ref(\"\");\nconst colors = ref([]);\nconst partnerName = ref(\"\");\nconst productTypes = ref([]);\n\n// Object to store selected colors per configuration\nconst selectedColors = ref({});\n\nconst buttonText = (configId) => {\n  const selected = selectedColors.value[configId]?.length || 0;\n  if (selected === 0) {\n    return \"Select colors\";\n  }\n\n  const colorNames = selectedColors.value[configId]\n    .slice(0, 2)\n    .map((color) => color.name)\n    .join(\", \");\n\n  if (selectedColors.value[configId].length > 2) {\n    return `${colorNames} + ${selected - 2} more`;\n  }\n\n  return colorNames;\n};\n\n// Fetch colors for each configuration\nconst fetchedColors = ref([]);\nconst fetchcolors = async (partnerId) => {\n  try {\n    const selectedOptions = await getcolors(partnerId);\n    if (\n      !selectedOptions ||\n      !Array.isArray(selectedOptions) ||\n      selectedOptions.length === 0\n    ) {\n      console.error(\" Geen geldige kleuren ontvangen\");\n      return;\n    }\n\n    fetchedColors.value = selectedOptions.map((option) => ({\n      optionId: option.optionId || \"\",\n      name: option.color || \"Unnamed Color\",\n      images: option.images || [],\n    }));\n  } catch (error) {\n    console.error(\" Fout in fetchcolors:\", error);\n  }\n};\n\n// Map colors per configuration\nconst fetchedColorsPerConfig = {};\n\nconst handleFileUpload = (uploadedUrls) => {\n  if (!uploadedUrls || uploadedUrls.length === 0) {\n    console.error(\" Geen geldige upload-URL ontvangen.\");\n    return;\n  }\n\n  console.log(\" Bestanden succesvol gepload:\", uploadedUrls);\n\n  // Voorbeeld: Voeg de eerste geploade URL toe aan een state variabele\n  uploadedFile.value = uploadedUrls[0]; // Werk nu met de URL i.p.v. een bestand\n};\n\nconst handleThumbnailUpload = (event) => {\n  const files = event.target.files;\n  console.log(files);\n\n  if (!files || files.length === 0) {\n    console.error(\" Geen geldige afbeeldings-URL.\");\n    return;\n  }\n\n  const file = files[0];\n  if (!file || !file.name) {\n    console.error(\" Bestand heeft geen naam.\");\n    return;\n  }\n\n  // Update the thumbnail value for the thumbnail file\n  thumbnail.value = file; // Use a separate reference for the thumbnail file\n};\n\nconst modelFileInput = ref(null);\n\nconst addNewProduct = async () => {\n  try {\n    // Validatie van verplichte velden\n    if (!productName.value || !productPrice.value || !productCode.value) {\n      console.error(\" Missing required fields.\");\n      return;\n    }\n\n    // Validatie of kleuren geselecteerd zijn\n    if (\n      Object.values(selectedColors.value).every((colors) => colors.length === 0)\n    ) {\n      console.error(\" No colors selected.\");\n      return;\n    }\n\n    // Toevoegen van afbeeldingen voor elke kleurconfiguratie\n    partnerConfigurations.value.forEach((config) => {\n      if (config.configurationDetails.fieldType === \"color\") {\n        const configId = config.configurationId._id;\n        const selectedColorOptions = selectedColors.value[configId] || [];\n\n        // Log om te controleren of we de geselecteerde kleuren hebben\n        console.log(\n          \"Selected colors for configId:\",\n          configId,\n          selectedColorOptions\n        );\n\n        config.options.forEach((option) => {\n          // Haal de afbeeldingen op voor de geselecteerde kleuropties\n          const colorImages =\n            fetchedColorsPerConfig[configId]?.find(\n              (color) => color.optionId === option.optionId\n            )?.images || []; // Gebruik een lege array als er geen afbeeldingen zijn\n\n          console.log(\"Color images for option\", option.optionId, colorImages);\n\n          // Voeg de afbeeldingen toe aan de optie als de kleur geselecteerd is\n          if (\n            selectedColorOptions.some(\n              (selected) => selected.optionId === option.optionId\n            )\n          ) {\n            option.images = colorImages; // Kleurafbeeldingen toewijzen\n          }\n        });\n      }\n    });\n\n    // Maak de API-aanroep met de bijgewerkte configuraties en afbeeldingen\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\n    partnerPackage.value = partnerPackageResponse || \"\";\n\n    let modelFile = modelFileInput.value?.files[0];\n\n    if (partnerPackage.value == \"pro\" && selectedType.value === \"3D\") {\n      await add3DProduct({\n        productCode: productCode.value,\n        productName: productName.value,\n        productType: productType.value || \"sunglasses\", // Zorg ervoor dat dit correct wordt ingevuld\n        productPrice: productPrice.value,\n        description: description.value,\n        brand: brand.value,\n        activeInactive: \"active\",\n        partnerId,\n        configurations: partnerConfigurations.value,\n        file: modelFile, // 3D model bestand\n        thumbnail: thumbnail.value, // Correcte verwijzing naar de thumbnail\n      });\n    }\n\n    if (partnerPackage.value == \"pro\" && selectedType.value === \"2D\") {\n      console.log(partnerPackage.value);\n      console.log(uploadedFile.value);\n\n      // Controleer of partnerConfigurations correct is gedefinieerd en niet leeg is\n      if (\n        !partnerConfigurations.value ||\n        partnerConfigurations.value.length === 0\n      ) {\n        console.error(\" Geen geldige configuraties gevonden!\");\n        return;\n      }\n\n      // Log de configuraties om te zien of ze goed zijn geladen\n      console.log(\"Partner configurations:\", partnerConfigurations.value);\n\n      // Controleer of de configuratie-ID beschikbaar is\n      const selectedConfigurationId =\n        partnerConfigurations.value[0]?.configurationId?._id || null;\n\n      // Log de configuratie-ID voor debugging\n      console.log(\n        \"selectedConfigurationId in addNewProduct:\",\n        selectedConfigurationId\n      );\n\n      if (!selectedConfigurationId) {\n        console.error(\" selectedConfigurationId ontbreekt in addNewProduct!\");\n        return;\n      }\n\n      // Controleer of er afbeeldingen zijn om door te geven\n      if (!uploadedFile.value) {\n        console.error(\" Geen afbeeldingen om te uploaden!\");\n        return;\n      }\n\n      // Zorg ervoor dat de afbeeldingen in de juiste structuur zijn\n      const images = Array.isArray(uploadedFile.value)\n        ? uploadedFile.value\n        : [uploadedFile.value]; // Zet het bestand om naar een array als het een enkel bestand is\n\n      // De afbeeldingen voor het 2D-product kunnen verschillende opties hebben, dus we moeten zorgen dat ze correct worden doorgegeven\n      try {\n        // Converteer de Proxy naar een eenvoudig array-object voor doorgeven aan add2DProduct\n        const configurations = JSON.parse(\n          JSON.stringify(partnerConfigurations.value)\n        );\n        console.log(\n          \"Partner configurations passed to add2DProduct:\",\n          configurations\n        );\n\n        // Geef de gegevens door aan de functie\n        await add2DProduct({\n          file: uploadedFile.value,\n          configurationId: selectedConfigurationId,\n          configurations: configurations, // Geef de configuraties direct door\n          productCode: productCode.value,\n          productName: productName.value,\n          productType: selectedType.value || \"sunglasses\",\n          productPrice: productPrice.value,\n          description: description.value,\n          brand: brand.value,\n          activeInactive: \"active\",\n          partnerId,\n          images: images, // Zorg ervoor dat de afbeeldingen een array zijn en doorgegeven worden\n        });\n      } catch (error) {\n        console.error(\"Fout bij het toevoegen van product:\", error);\n      }\n    }\n\n    // Redirect naar de homepagina na het toevoegen\n    router.push(\"/\");\n  } catch (error) {\n    console.error(\" Error adding product:\", error);\n  }\n};\n\nonMounted(async () => {\n  if (!partnerId) {\n    console.error(\" Partner ID is niet beschikbaar.\");\n    return;\n  }\n\n  try {\n    await checkToken();\n\n    // Fetch partner data\n    const partnerData = await fetchPartnerData(partnerId, jwtToken);\n    partnerName.value = partnerData?.name || \"\";\n\n    // Fetch partner package\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\n    partnerPackage.value = partnerPackageResponse || \"\";\n\n    // Fetch partner configurations\n    const { partnerConfigs } = await fetchPartnerConfigurations(\n      partnerId,\n      jwtToken\n    );\n    partnerConfigurations.value = partnerConfigs || [];\n\n    // Fetch colors\n    await fetchcolors(partnerId);\n\n    // Wait for Vue reactivity to process the color updates\n    await nextTick();\n\n    const rawFetchedColors = fetchedColors.value;\n\n    if (rawFetchedColors.length > 0) {\n      partnerConfigurations.value.forEach((config) => {\n        if (config?.configurationDetails?.fieldType === \"color\") {\n          const configId = config.configurationId._id;\n\n          const configColors = config.options.map((option) => {\n            return rawFetchedColors.find(\n              (color) => color.optionId === option.optionId._id\n            );\n          });\n\n          fetchedColorsPerConfig[configId] = configColors;\n          selectedColors.value[configId] = []; // Initialize selected colors for this config\n        }\n      });\n    } else {\n      console.warn(\" Geen kleuren gevonden.\");\n    }\n\n    // Fetch product types\n    const fetchedProductTypes = await fetchProductTypes(partnerId);\n    productTypes.value = fetchedProductTypes;\n  } catch (error) {\n    console.error(\" Error tijdens initialisatie:\", error);\n  }\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Add new product</h1>\n    <form @submit.prevent=\"addNewProduct\">\n      <h3>Product info:</h3>\n      <div class=\"row\" v-if=\"partnerPackage == 'pro'\">\n        <div class=\"column\">\n          <label for=\"2DOr3DProduct\">Select Product Type:</label>\n          <select v-model=\"selectedType\" id=\"2DOr3DProduct\">\n            <option value=\"2D\">2D Product</option>\n            <option value=\"3D\">3D Product</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productCode\">Product Code:</label>\n          <input v-model=\"productCode\" id=\"productCode\" type=\"text\" required />\n        </div>\n        <div class=\"column\">\n          <label for=\"productName\">Product Name:</label>\n          <input v-model=\"productName\" id=\"productName\" type=\"text\" required />\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productType\">Type Of Product:</label>\n          <div class=\"dropdown\">\n            <DropdownToggle\n              v-model=\"productType\"\n              :fieldName=\"'sole_top'\"\n              :dropdownStates=\"dropdownStates\"\n              :buttonText=\"'Select type of product'\"\n              :types=\"productTypes\"\n              @addOption=\"addProductType(productTypes, $event)\"\n            >\n            </DropdownToggle>\n          </div>\n        </div>\n        <div class=\"column\">\n          <label for=\"brand\">Brand:</label>\n          <input v-model=\"brand\" id=\"brand\" type=\"text\" required />\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productPrice\">Price:</label>\n          <input\n            v-model=\"productPrice\"\n            id=\"productPrice\"\n            type=\"number\"\n            required\n          />\n        </div>\n        <div class=\"column\">\n          <label for=\"description\">Description:</label>\n          <textarea v-model=\"description\" id=\"description\" required></textarea>\n        </div>\n      </div>\n\n      <h3>Configurations:</h3>\n      <template v-if=\"partnerPackage == 'standard'\">\n        <template\n          v-for=\"(config, index) in partnerConfigurations\"\n          :key=\"config._id\"\n        >\n          <div class=\"row\">\n            <div class=\"column\">\n              <label :for=\"config.configurationDetails.fieldName\">\n                {{ config.configurationDetails.fieldName }}:\n              </label>\n\n              <!-- Text field -->\n              <template v-if=\"config.configurationDetails.fieldType === 'Text'\">\n                <input\n                  v-model=\"config.value\"\n                  :id=\"config.configurationDetails.fieldName\"\n                  type=\"text\"\n                />\n              </template>\n\n              <!-- Dropdown field -->\n              <template\n                v-else-if=\"config.configurationDetails.fieldType === 'Dropdown'\"\n              >\n                <DropdownToggleColor\n                  :fieldName=\"config.configurationDetails.fieldName\"\n                  :dropdownStates=\"dropdownStates\"\n                  buttonText=\"Toggle Dropdown\"\n                >\n                  <div\n                    v-for=\"(option, optionIndex) in configurations\"\n                    :key=\"optionIndex\"\n                  >\n                    <span\n                      class=\"color-bullet\"\n                      :style=\"{ backgroundColor: color.name || 'transparent' }\"\n                    ></span>\n                    {{ color.name || \"Unnamed Color\" }}\n                  </div>\n                </DropdownToggleColor>\n              </template>\n\n              <!-- Color field -->\n              <template\n                v-else-if=\"config.configurationDetails.fieldType === 'color'\"\n              >\n                <div class=\"color-dropdown\">\n                  <div class=\"dropdown\">\n                    <DropdownToggleColor\n                      :fieldName=\"config.configurationDetails.fieldName\"\n                      :dropdownStates=\"dropdownStates\"\n                      :buttonText=\"buttonText(config.configurationId._id)\"\n                    >\n                      <ColorSelectionToggle\n                        v-model:selectedColors=\"\n                          selectedColors[config.configurationId._id]\n                        \"\n                        :colors=\"\n                          fetchedColorsPerConfig[config.configurationId._id] ||\n                          []\n                        \"\n                        :dropdownStates=\"dropdownStates\"\n                        :fieldName=\"config.configurationDetails.fieldName\"\n                        :colorOptions=\"\n                          fetchedColorsPerConfig[config.configurationId._id] ||\n                          []\n                        \"\n                      />\n                    </DropdownToggleColor>\n                  </div>\n                </div>\n              </template>\n            </div>\n          </div>\n\n          <!-- Upload zone voor 'standard' pakket -->\n          <!-- Upload zone per geselecteerde kleur binnen een configuratie -->\n          <template v-if=\"config.configurationDetails.fieldType === 'color'\">\n            <div\n              v-for=\"(selectedColor, colorIndex) in selectedColors[\n                config.configurationId._id\n              ] || []\"\n              :key=\"colorIndex\"\n              class=\"column\"\n            >\n              <p>{{ selectedColor.name }} - Upload images</p>\n              <ImageUpload\n                @file-uploaded=\"handleFileUpload\"\n                v-if=\"selectedColor.name\"\n                :color=\"selectedColor\"\n                :index=\"colorIndex\"\n                :colorUploads=\"colorUploads\"\n                :partnerPackage=\"partnerPackage\"\n                :partnerName=\"partnerName\"\n              />\n            </div>\n          </template>\n        </template>\n      </template>\n\n      <template v-if=\"partnerPackage == 'pro'\">\n        <div class=\"configurations\">\n          <!-- Configuraties voor het product -->\n          <template\n            v-for=\"(config, index) in partnerConfigurations\"\n            :key=\"config._id\"\n          >\n            <div class=\"row\">\n              <div class=\"column\">\n                <label\n                  v-if=\"config.configurationDetails\"\n                  :for=\"config.configurationDetails.fieldName\"\n                >\n                  {{ config.configurationDetails.fieldName }}:\n                </label>\n\n                <!-- Text field -->\n                <template\n                  v-if=\"config.configurationDetails?.fieldType === 'Text'\"\n                >\n                  <input\n                    v-model=\"config.value\"\n                    :id=\"config.configurationDetails.fieldName\"\n                    type=\"text\"\n                  />\n                </template>\n\n                <!-- Dropdown field -->\n                <template\n                  v-else-if=\"\n                    config.configurationDetails?.fieldType === 'Dropdown'\n                  \"\n                >\n                  <DropdownToggleColor\n                    :fieldName=\"config.configurationDetails.fieldName\"\n                    :dropdownStates=\"dropdownStates\"\n                    buttonText=\"Toggle Dropdown\"\n                  >\n                    <div\n                      v-for=\"(option, optionIndex) in config.options\"\n                      :key=\"optionIndex\"\n                    >\n                      <span\n                        class=\"color-bullet\"\n                        :style=\"{\n                          backgroundColor: option.name || 'transparent',\n                        }\"\n                      ></span>\n                      {{ option.name || \"Unnamed Color\" }}\n                    </div>\n                  </DropdownToggleColor>\n                </template>\n\n                <!-- Color field -->\n                <template\n                  v-else-if=\"config.configurationDetails?.fieldType === 'color'\"\n                >\n                  <div class=\"color-dropdown\">\n                    <div class=\"dropdown\">\n                      <DropdownToggleColor\n                        :fieldName=\"config.configurationDetails.fieldName\"\n                        :dropdownStates=\"dropdownStates\"\n                        :buttonText=\"buttonText(config.configurationId._id)\"\n                      >\n                        <ColorSelectionToggle\n                          v-model:selectedColors=\"\n                            selectedColors[config.configurationId._id]\n                          \"\n                          :colors=\"\n                            fetchedColorsPerConfig[\n                              config.configurationId._id\n                            ] || []\n                          \"\n                          :dropdownStates=\"dropdownStates\"\n                          :fieldName=\"config.configurationDetails.fieldName\"\n                          :colorOptions=\"\n                            fetchedColorsPerConfig[\n                              config.configurationId._id\n                            ] || []\n                          \"\n                        />\n                      </DropdownToggleColor>\n                    </div>\n                  </div>\n                </template>\n              </div>\n            </div>\n          </template>\n        </div>\n\n        <!-- Uploadzone voor 2D of 3D afhankelijk van keuze -->\n        <div v-if=\"selectedType === '2D'\" class=\"uploadzones\">\n          <h3>Upload Images for 2D Product:</h3>\n          <template\n            v-for=\"(config, index) in partnerConfigurations\"\n            :key=\"config._id\"\n          >\n            <!-- Upload zones per geselecteerde kleur binnen configuratie -->\n            <template v-if=\"config.configurationDetails.fieldType === 'color'\">\n              <div\n                v-for=\"(selectedColor, colorIndex) in selectedColors[\n                  config.configurationId._id\n                ] || []\"\n                :key=\"colorIndex\"\n                class=\"column\"\n              >\n                <p>{{ selectedColor.name }} - Upload images</p>\n                <ImageUpload\n                  @file-uploaded=\"handleFileUpload\"\n                  v-if=\"selectedColor.name\"\n                  :color=\"selectedColor\"\n                  :index=\"colorIndex\"\n                  :colorUploads=\"colorUploads\"\n                  :partnerPackage=\"partnerPackage\"\n                  :partnerName=\"partnerName\"\n                />\n              </div>\n            </template>\n          </template>\n        </div>\n\n        <div v-if=\"selectedType === '3D'\" class=\"uploadzones\">\n          <div class=\"uploadzone\">\n            <h3>Upload 3D Model File:</h3>\n            <div class=\"row\">\n              <div class=\"column\">\n                <input\n                  ref=\"modelFileInput\"\n                  type=\"file\"\n                  @change=\"handleFileUpload\"\n                  accept=\".glb,.fbx,.obj\"\n                />\n                <p>Upload 3D model file (GLB, FBX, OBJ formats)</p>\n              </div>\n            </div>\n          </div>\n          <div class=\"uploadzone\">\n            <!-- Upload de thumbnail voor het 3D-model -->\n            <h3>Upload Thumbnail for 3D Model:</h3>\n            <div class=\"row\">\n              <div class=\"column\">\n                <input\n                  type=\"file\"\n                  @change=\"handleThumbnailUpload\"\n                  accept=\".jpeg,.jpg,.png,.gif\"\n                />\n                <p>Upload Thumbnail (JPG, PNG, GIF formats)</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n      <button class=\"btn active\" type=\"submit\">Add Product</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  margin-bottom: 72px;\n}\n\n.error-message {\n  color: red;\n  font-weight: bold;\n  padding: 10px;\n  background-color: #f8d7da;\n  border: 1px solid #f5c6cb;\n  border-radius: 5px;\n}\n\nform,\n.color-dropdown {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform h3 {\n  width: 100%;\n}\n\nform .row,\nform .column,\n.color-upload-section {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect,\ntextarea {\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n  width: 100%;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n.colorpicker {\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  background-color: transparent;\n  border: none;\n}\n\n.error {\n  color: #d34848;\n}\n\n.color-box {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  margin: 5px;\n  border-radius: 4px;\n}\n\n.image-preview {\n  display: flex;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.preview-image {\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.error-message {\n  color: #d34848;\n  margin-top: 20px;\n}\n\n.color-dropdown {\n  position: relative;\n  width: 100%;\n}\n\n.dropdown {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n}\n\n.dropdown-selected {\n  padding: 8px;\n  background-color: var(--gray-700);\n  color: white;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  width: 100%;\n}\n\n.dropdown-selected span {\n  color: var(--text-color);\n}\n\n.color-bullet {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: transparent;\n}\n\n.dropdown-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: var(--gray-900);\n  border-radius: 4px;\n  width: 100%;\n  z-index: 10;\n  max-height: 200px;\n  overflow-y: auto;\n  margin-top: 4px;\n}\n\n.dropdown-option {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 8px;\n  color: white;\n  cursor: pointer;\n}\n\n.dropdown-option input {\n  width: auto;\n}\n\n.dropdown-option:hover {\n  background-color: #555;\n}\n\n.dropdown-option:active {\n  background-color: #444;\n}\n\n.configurations {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  gap: 2rem;\n  width: 100%;\n}\n\n.uploadzones {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  gap: 1rem;\n  width: 100%;\n}\n\n.uploadzones .uploadzone {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n\n  form .row {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 120px;\n    width: 100%;\n  }\n\n  .configurations {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (min-width: 1024px) {\n  .configurations {\n    grid-template-columns: repeat(4, 1fr);\n  }\n}\n</style>\n","import script from \"./AddNewProductPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewProductPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewProductPage.vue?vue&type=style&index=0&id=7c2856f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7c2856f6\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted, nextTick } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = import.meta.env.VITE_API_BASE_URL;\n\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\nimport { fetchPartnerData } from \"../../services/apiService\";\nimport { checkToken, fetchPartnerPackage } from \"../../services/authService\";\nimport { fetchPartnerConfigurations } from \"../../services/configurationService\";\nimport {\n  fetchProductTypes,\n  getcolors,\n  addProductType,\n} from \"../../services/productService\";\nimport DropdownToggle from \"../../components/DropdownToggle.vue\";\nimport DropdownToggleColor from \"../../components/DropdownToggleColor.vue\";\nimport ColorSelectionToggle from \"../../components/ColorSelectionToggle.vue\";\nimport ImageUpload from \"../../components/ImageUpload.vue\";\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\nconst router = useRouter();\nconst route = useRoute();\nconst productId = route.params.id;\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\nconst partnerId = tokenPayload.companyId;\nconst partnerConfigurations = ref([]);\nconst productCode = ref(\"\");\nconst partnerName = ref(\"\");\nconst productName = ref(\"\");\nconst productType = ref(\"\");\nconst activeInactive = ref(\"\");\nconst brand = ref(\"\");\nconst productPrice = ref(\"\");\nconst description = ref(\"\");\nconst colorUploads = ref([]);\nconst uploadedFile = ref(null);\nconst selectedType = ref(\"\");\nconst partnerPackage = ref(\"\");\nconst images = ref([]);\nconst selectedOptions = ref([]);\nconst selectedOption = ref([]);\nconst productTypes = ref([]);\nconst dropdownStates = ref({\n  sole_top: false, // Begin met de status van de dropdown als gesloten\n});\n\nconst fetchProductData = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/products/${productId}`, {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n    });\n\n    const productData = response.data?.data?.product;\n\n    if (productData) {\n      productCode.value = productData.productCode;\n      productName.value = productData.productName;\n      productType.value = productData.productType;\n      activeInactive.value = productData.activeInactive;\n      brand.value = productData.brand;\n      productPrice.value = productData.productPrice;\n      description.value = productData.description;\n\n      // **Bestaande afbeeldingen in colorUploads zetten**\n      let colorUploadsArray = [];\n\n      if (productData.configurations) {\n        productData.configurations.forEach((config, index) => {\n          let images = [];\n\n          if (config.selectedOptions) {\n            config.selectedOptions.forEach((option) => {\n              if (option.images && option.images.length > 0) {\n                images.push(...option.images);\n              }\n            });\n          }\n\n          colorUploadsArray[index] = { images };\n        });\n      }\n\n      colorUploads.value = colorUploadsArray; // Opslaan in Vue-reactive state\n    } else {\n      console.error(\"Geen productdata gevonden.\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching product data:\", error);\n  }\n};\n\nconst editProduct = async () => {\n  try {\n    if (!productName.value || !productPrice.value || !productCode.value) {\n      console.error(\" Missing required fields.\");\n      return;\n    }\n\n    if (!uploadedFile.value) {\n      console.error(\" No file uploaded.\");\n      return;\n    }\n\n    await updateProduct(productId, {\n      productCode: productCode.value,\n      productName: productName.value,\n      productType: selectedType.value,\n      productPrice: productPrice.value,\n      description: description.value,\n      brand: brand.value,\n      file: uploadedFile.value,\n      configurations: partnerConfigurations.value,\n    });\n\n    router.push(\"/\");\n  } catch (error) {\n    console.error(\" Error updating product:\", error);\n  }\n};\n\n// Object to store selected colors per configuration\nconst selectedColors = ref({});\n\nconst buttonText = (configId) => {\n  const selected = selectedColors.value[configId]?.length || 0;\n  if (selected === 0) {\n    return \"Select colors\";\n  }\n\n  const colorNames = selectedColors.value[configId]\n    .slice(0, 2)\n    .map((color) => color.name)\n    .join(\", \");\n\n  if (selectedColors.value[configId].length > 2) {\n    return `${colorNames} + ${selected - 2} more`;\n  }\n\n  return colorNames;\n};\n\n// Fetch colors for each configuration\nconst fetchedColors = ref([]);\nconst fetchcolors = async (partnerId) => {\n  try {\n    const selectedOptions = await getcolors(partnerId);\n    if (\n      !selectedOptions ||\n      !Array.isArray(selectedOptions) ||\n      selectedOptions.length === 0\n    ) {\n      console.error(\" Geen geldige kleuren ontvangen\");\n      return;\n    }\n\n    fetchedColors.value = selectedOptions.map((option) => ({\n      optionId: option.optionId || \"\",\n      name: option.color || \"Unnamed Color\",\n      images: option.images || [],\n    }));\n  } catch (error) {\n    console.error(\" Fout in fetchcolors:\", error);\n  }\n};\n\n// Map colors per configuration\nconst fetchedColorsPerConfig = {};\n\nconst handleFileUpload = (fileUrl) => {\n  if (!fileUrl || !fileUrl[0]) {\n    console.error(\" Geen geldige afbeeldings-URL.\");\n    return;\n  }\n\n  // Zet de eerste waarde van de array als de URL\n  uploadedFile.value = fileUrl; // Gebruik enkel de eerste URL als string\n};\n\nonMounted(async () => {\n  if (!partnerId) {\n    console.error(\" Partner ID is niet beschikbaar.\");\n    return;\n  }\n\n  try {\n    await checkToken();\n\n    // Fetch partner data\n    const partnerData = await fetchPartnerData(partnerId, jwtToken);\n    partnerName.value = partnerData?.name || \"\";\n\n    // Fetch partner package\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\n    partnerPackage.value = partnerPackageResponse || \"\";\n\n    // Fetch partner configurations\n    const { partnerConfigs } = await fetchPartnerConfigurations(\n      partnerId,\n      jwtToken\n    );\n\n    partnerConfigurations.value = partnerConfigs || [];\n\n    // Fetch colors\n    await fetchProductData();\n    await fetchcolors(partnerId);\n\n    // Wait for Vue reactivity to process the color updates\n    await nextTick();\n\n    const rawFetchedColors = fetchedColors.value;\n\n    if (rawFetchedColors.length > 0) {\n      partnerConfigurations.value.forEach((config) => {\n        if (config?.configurationDetails?.fieldType === \"color\") {\n          const configId = config.configurationId._id;\n\n          const configColors = config.options.map((option) => {\n            return rawFetchedColors.find(\n              (color) => color.optionId === option.optionId._id\n            );\n          });\n\n          fetchedColorsPerConfig[configId] = configColors;\n          selectedColors.value[configId] = []; // Initialize selected colors for this config\n        }\n      });\n    } else {\n      console.warn(\" Geen kleuren gevonden.\");\n    }\n\n    // Fetch product types\n    const fetchedProductTypes = await fetchProductTypes(partnerId);\n    productTypes.value = fetchedProductTypes;\n  } catch (error) {\n    console.error(\" Error tijdens initialisatie:\", error);\n  }\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Edit Product</h1>\n    <form @submit.prevent=\"editProduct\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productCode\">Product Code:</label>\n          <input v-model=\"productCode\" id=\"productCode\" type=\"text\" required />\n        </div>\n        <div class=\"column\">\n          <label for=\"productName\">Product Name:</label>\n          <input v-model=\"productName\" id=\"productName\" type=\"text\" required />\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productType\">Type Of Product:</label>\n          <div class=\"dropdown\" v-if=\"productTypes.length > 0\">\n            <DropdownToggle\n              v-model=\"selectedType\"\n              :fieldName=\"'sole_top'\"\n              :dropdownStates=\"dropdownStates\"\n              :buttonText=\"'Select colors'\"\n              :types=\"productTypes\"\n              @addOption=\"addProductType(productTypes, $event)\"\n            >\n            </DropdownToggle>\n          </div>\n        </div>\n        <div class=\"column\">\n          <label for=\"brand\">Brand:</label>\n          <input v-model=\"brand\" id=\"brand\" type=\"text\" required />\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productPrice\">Price:</label>\n          <input\n            v-model=\"productPrice\"\n            id=\"productPrice\"\n            type=\"number\"\n            required\n          />\n        </div>\n        <div class=\"column\">\n          <label for=\"description\">Description:</label>\n          <textarea v-model=\"description\" id=\"description\" required></textarea>\n        </div>\n      </div>\n\n      <!-- Render partner configurations dynamically -->\n      <template v-if=\"partnerPackage == 'standard'\">\n        <template\n          class=\"configurations\"\n          v-for=\"(config, index) in partnerConfigurations\"\n          :key=\"config._id\"\n        >\n          <div class=\"row\">\n            <div class=\"column\">\n              <label :for=\"config.configurationDetails.fieldName\">\n                {{ config.configurationDetails.fieldName }}:\n              </label>\n\n              <!-- Text field -->\n              <template v-if=\"config.configurationDetails.fieldType === 'Text'\">\n                <input\n                  v-model=\"config.value\"\n                  :id=\"config.configurationDetails.fieldName\"\n                  type=\"text\"\n                />\n              </template>\n\n              <!-- Dropdown field -->\n              <template\n                v-else-if=\"config.configurationDetails.fieldType === 'Dropdown'\"\n              >\n                <DropdownToggleColor\n                  :fieldName=\"config.configurationDetails.fieldName\"\n                  :dropdownStates=\"dropdownStates\"\n                  buttonText=\"Toggle Dropdown\"\n                >\n                  <div\n                    v-for=\"(option, optionIndex) in configurations\"\n                    :key=\"optionIndex\"\n                  >\n                    <span\n                      class=\"color-bullet\"\n                      :style=\"{ backgroundColor: color.name || 'transparent' }\"\n                    ></span>\n                    {{ color.name || \"Unnamed Color\" }}\n                  </div>\n                </DropdownToggleColor>\n              </template>\n\n              <!-- Color field -->\n              <template\n                v-else-if=\"config.configurationDetails.fieldType === 'color'\"\n              >\n                <div class=\"color-dropdown\">\n                  <div class=\"dropdown\">\n                    <DropdownToggleColor\n                      :fieldName=\"config.configurationDetails.fieldName\"\n                      :dropdownStates=\"dropdownStates\"\n                      :buttonText=\"buttonText(config.configurationId._id)\"\n                    >\n                      <ColorSelectionToggle\n                        v-model:selectedColors=\"\n                          selectedColors[config.configurationId._id]\n                        \"\n                        :colors=\"\n                          fetchedColorsPerConfig[config.configurationId._id] ||\n                          []\n                        \"\n                        :dropdownStates=\"dropdownStates\"\n                        :fieldName=\"config.configurationDetails.fieldName\"\n                        :colorOptions=\"\n                          fetchedColorsPerConfig[config.configurationId._id] ||\n                          []\n                        \"\n                      />\n                    </DropdownToggleColor>\n                  </div>\n                </div>\n              </template>\n            </div>\n          </div>\n\n          <!-- Upload zone voor 'standard' pakket -->\n          <!-- Upload zone per geselecteerde kleur binnen een configuratie -->\n          <template v-if=\"config.configurationDetails.fieldType === 'color'\">\n            <div\n              v-for=\"(selectedColor, colorIndex) in selectedColors[\n                config.configurationId._id\n              ] || []\"\n              :key=\"colorIndex\"\n              class=\"column\"\n            >\n              <p>{{ selectedColor.name }} - Upload images</p>\n              <ImageUpload\n                @file-uploaded=\"handleFileUpload\"\n                :existingFiles=\"images\"\n                :partnerPackage=\"partnerPackage\"\n                :partnerName=\"partnerName\"\n              />\n            </div>\n          </template>\n        </template>\n      </template>\n\n      <!-- Submit Button -->\n      <template v-if=\"partnerPackage == 'pro'\">\n        <div class=\"configurations\">\n          <template\n            v-for=\"(config, index) in partnerConfigurations\"\n            :key=\"config._id\"\n          >\n            <div class=\"row\">\n              <div class=\"column\">\n                <label\n                  v-if=\"config.configurationDetails\"\n                  :for=\"config.configurationDetails.fieldName\"\n                >\n                  {{ config.configurationDetails.fieldName }}:\n                </label>\n\n                <!-- Text field -->\n                <template\n                  v-if=\"config.configurationDetails?.fieldType === 'Text'\"\n                >\n                  <input\n                    v-model=\"config.value\"\n                    :id=\"config.configurationDetails.fieldName\"\n                    type=\"text\"\n                  />\n                </template>\n\n                <!-- Dropdown field -->\n                <template\n                  v-else-if=\"\n                    config.configurationDetails?.fieldType === 'Dropdown'\n                  \"\n                >\n                  <DropdownToggleColor\n                    :fieldName=\"config.configurationDetails.fieldName\"\n                    :dropdownStates=\"dropdownStates\"\n                    buttonText=\"Toggle Dropdown\"\n                  >\n                    <div\n                      v-for=\"(option, optionIndex) in configurations\"\n                      :key=\"optionIndex\"\n                    >\n                      <span\n                        class=\"color-bullet\"\n                        :style=\"{\n                          backgroundColor: option.name || 'transparent',\n                        }\"\n                      ></span>\n                      {{ option.name || \"Unnamed Color\" }}\n                    </div>\n                  </DropdownToggleColor>\n                </template>\n\n                <!-- Color field -->\n                <template\n                  v-else-if=\"config.configurationDetails?.fieldType === 'color'\"\n                >\n                  <div class=\"color-dropdown\">\n                    <div class=\"dropdown\">\n                      <DropdownToggleColor\n                        :fieldName=\"config.configurationDetails.fieldName\"\n                        :dropdownStates=\"dropdownStates\"\n                        :buttonText=\"buttonText(config.configurationId._id)\"\n                      >\n                        <ColorSelectionToggle\n                          v-model:selectedColors=\"\n                            selectedColors[config.configurationId._id]\n                          \"\n                          :colors=\"\n                            fetchedColorsPerConfig[\n                              config.configurationId._id\n                            ] || []\n                          \"\n                          :dropdownStates=\"dropdownStates\"\n                          :fieldName=\"config.configurationDetails.fieldName\"\n                          :colorOptions=\"\n                            fetchedColorsPerConfig[\n                              config.configurationId._id\n                            ] || []\n                          \"\n                        />\n                      </DropdownToggleColor>\n                    </div>\n                  </div>\n                </template>\n              </div>\n            </div>\n          </template>\n        </div>\n\n        <!-- Display one ImageUpload if there's at least one selected color -->\n        <template\n          v-if=\"\n            Object.values(selectedColors).some((colors) => colors.length > 0)\n          \"\n        >\n          <ImageUpload\n            @file-uploaded=\"handleFileUpload\"\n            :colorUploads=\"colorUploads\"\n            :partnerPackage=\"partnerPackage\"\n            :partnerName=\"partnerName\"\n          />\n        </template>\n      </template>\n\n      <button class=\"btn active\" type=\"submit\">Update Product</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  margin-bottom: 72px;\n}\n\n.error-message {\n  color: red;\n  font-weight: bold;\n  padding: 10px;\n  background-color: #f8d7da;\n  border: 1px solid #f5c6cb;\n  border-radius: 5px;\n}\n\nform,\n.color-dropdown {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row,\nform .column,\n.color-upload-section {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect,\ntextarea {\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n  width: 100%;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n.colorpicker {\n  padding: 0;\n  width: 32px;\n  height: 32px;\n  background-color: transparent;\n  border: none;\n}\n\n.error {\n  color: #d34848;\n}\n\n.color-box {\n  display: inline-block;\n  width: 30px;\n  height: 30px;\n  margin: 5px;\n  border-radius: 4px;\n}\n\n.image-preview {\n  display: flex;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.preview-image {\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.error-message {\n  color: #d34848;\n  margin-top: 20px;\n}\n\n.color-dropdown {\n  position: relative;\n  width: 100%;\n}\n\n.dropdown {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n}\n\n.dropdown-selected {\n  padding: 8px;\n  background-color: var(--gray-700);\n  color: white;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  width: 100%;\n}\n\n.dropdown-selected span {\n  color: var(--text-color);\n}\n\n.color-bullet {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: transparent;\n}\n\n.dropdown-options {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  background-color: var(--gray-900);\n  border-radius: 4px;\n  width: 100%;\n  z-index: 10;\n  max-height: 200px;\n  overflow-y: auto;\n  margin-top: 4px;\n}\n\n.dropdown-option {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 8px;\n  color: white;\n  cursor: pointer;\n}\n\n.dropdown-option input {\n  width: auto;\n}\n\n.dropdown-option:hover {\n  background-color: #555;\n}\n\n.dropdown-option:active {\n  background-color: #444;\n}\n\n.configurations {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  gap: 2rem;\n  width: 100%;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n\n  form .row {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 120px;\n    width: 100%;\n  }\n\n  .configurations {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (min-width: 1024px) {\n  .configurations {\n    grid-template-columns: repeat(4, 1fr);\n  }\n}\n</style>\n","import script from \"./EditProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditProduct.vue?vue&type=style&index=0&id=e73a67c8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e73a67c8\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.partnerId || null;\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Partner related data\nconst partnerPackage = ref(null);\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const userData = response.data?.data?.user || {};\n    // Update the user object\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n\n    if (userData.role !== \"platform_admin\") {\n      router.push(\"/login\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Fetch partner data (if applicable)\nconst fetchPartnerData = async () => {\n  if (!partnerId) return;\n\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const partner = response.data?.data?.partner || {};\n    partnerPackage.value = partner.package || \"No package available\";\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\n// Fetch initial data on mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n});\n\n// Provide the user data to all components (including Navigation)\nprovide(\"user\", user); // Makes user data available to child components like Navigation\n\n// Haal de producten op vanuit de API\nconst fetchData = async () => {\n  try {\n    const token = localStorage.getItem(\"jwtToken\"); // Use the correct variable name\n    const response = await fetch(`${baseURL}/products`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    const userCompanyId = getUserCompanyId(token); // Pass the correct token here\n\n    data.value = result.data.products.filter(\n      (product) => product.partnerId === userCompanyId\n    );\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n};\n\n// Initialiseer component en haal data op\nonMounted(fetchData);\n\n// Definities van refs en computed properties\nconst selectedTypeFilter = ref(\"All\");\nconst data = ref([]);\n\n// Haal companyId uit het JWT token\nconst getUserCompanyId = (token) => {\n  if (!token) return null;\n  const decoded = JSON.parse(atob(token.split(\".\")[1]));\n  return decoded.companyId;\n};\n\n// Haal gegevens op bij het laden van de component\nonMounted(() => {\n  fetchData();\n});\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst selectedFilter = ref(\"all\");\nconst partners = ref([]);\nconst searchTerm = ref(\"\");\nconst selectedpartners = ref([]);\nconst isDeleteButtonVisible = computed(() => selectedpartners.value.length > 0);\nconst isPopupVisible = ref(false);\n\nconst fetchpartners = async () => {\n  try {\n    const token = localStorage.getItem(\"jwtToken\");\n    const response = await fetch(`${baseURL}/partners`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n\n    if (result && result.data && result.data.partners) {\n      partners.value = result.data.partners;\n    } else {\n      console.error(\"No partners found in the response.\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching partners:\", error);\n  }\n};\n\nconst toggleSelection = (partnerId) => {\n  const index = selectedpartners.value.indexOf(partnerId);\n  if (index === -1) {\n    selectedpartners.value.push(partnerId);\n  } else {\n    selectedpartners.value.splice(index, 1);\n  }\n};\n\nconst toggleSelectAll = (event) => {\n  selectedpartners.value = event.target.checked\n    ? partners.value.map((partner) => partner._id)\n    : [];\n};\n\nconst confirmDelete = async () => {\n  await deletepartners();\n  hidePopup();\n};\n\nconst deletepartners = async () => {\n  try {\n    for (const id of selectedpartners.value) {\n      const response = await fetch(`${baseURL}/partners/${id}`, {\n        method: \"DELETE\",\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n    }\n    await fetchpartners();\n    selectedpartners.value = [];\n  } catch (error) {\n    console.error(\"Error deleting partners:\", error);\n  }\n};\n\nconst showPopup = () => {\n  isPopupVisible.value = true;\n};\n\nconst hidePopup = () => {\n  isPopupVisible.value = false;\n};\n\nconst filteredpartners = computed(() => {\n  if (!partners.value) return [];\n  const filteredBySearch = partners.value.filter((partner) => {\n    return Object.values(partner).some((value) =>\n      String(value).toLowerCase().includes(searchTerm.value.toLowerCase())\n    );\n  });\n\n  const filteredByType = filteredBySearch.filter(\n    (partner) =>\n      selectedFilter.value === \"all\" || partner.package === selectedFilter.value\n  );\n\n  return filteredByType;\n});\n\nonMounted(() => {\n  fetchpartners();\n  setInterval(() => {\n    fetchpartners();\n  }, 5000);\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\n  <div class=\"content\">\n    <h2>Partners</h2>\n    <div class=\"popup\" v-if=\"isPopupVisible\">\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\n      <div class=\"text\">\n        <h2>Are you sure?</h2>\n        <p>Do you really want to delete this item(s)?</p>\n        <div class=\"btns\">\n          <button @click=\"hidePopup\">Cancel</button>\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"menu\">\n      <div class=\"btns\">\n        <router-link exact to=\"/admin/add-new-partner\" class=\"btn active\">\n          <p>Add new</p>\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\n        </router-link>\n        <div\n          class=\"btn display\"\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\n          @click=\"showPopup\"\n        >\n          <p>Delete item(s)</p>\n        </div>\n      </div>\n\n      <div class=\"search\">\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\n      </div>\n\n      <select class=\"filter\" v-model=\"selectedFilter\">\n        <option value=\"all\">All</option>\n        <option value=\"standard\">Standard</option>\n        <option value=\"plus\">Plus</option>\n        <option value=\"pro\">Pro</option>\n      </select>\n    </div>\n\n    <div class=\"search\">\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\n    </div>\n\n    <div class=\"partners mobile\">\n      <div class=\"items\">\n        <router-link\n          v-if=\"filteredpartners.length\"\n          v-for=\"partner in filteredpartners\"\n          :key=\"partner._id\"\n          :to=\"{ name: 'EditPartner', params: { id: partner._id } }\"\n        >\n          <div\n            class=\"image\"\n            :style=\"{\n              backgroundImage:\n                'url(http://localhost:5173/src/assets/images/Odette_lunettes.webp)',\n            }\"\n          ></div>\n          <div class=\"elements\">\n            <div class=\"text\">\n              <p class=\"name\">{{ partner.name }}</p>\n              <p>{{ partner.contact_email }}</p>\n              <p>{{ partner.contact_phone }}</p>\n              <p>{{ partner.package }}</p>\n            </div>\n            <div class=\"btn\">\n              <p>Active</p>\n            </div>\n          </div>\n        </router-link>\n      </div>\n    </div>\n\n    <div class=\"partners desktop\">\n      <div class=\"top\">\n        <input\n          type=\"checkbox\"\n          @change=\"toggleSelectAll\"\n          :checked=\"\n            selectedpartners.length === filteredpartners.length &&\n            filteredpartners.length > 0\n          \"\n        />\n        <p>Partner ID</p>\n        <p>Name</p>\n        <p>Contact Email</p>\n        <p>Contact Phone</p>\n        <p>Package</p>\n      </div>\n\n      <div class=\"table-container\">\n        <ul v-if=\"filteredpartners.length\" class=\"list\">\n          <li v-for=\"partner in filteredpartners\" :key=\"partner._id\">\n            <input\n              type=\"checkbox\"\n              @change=\"toggleSelection(partner._id)\"\n              :checked=\"selectedpartners.includes(partner._id)\"\n            />\n            <router-link\n              :to=\"{ name: 'EditPartner', params: { id: partner._id } }\"\n            >\n              <p>{{ partner._id }}</p>\n              <p>{{ partner.name }}</p>\n              <p>{{ partner.contact_email }}</p>\n              <p>{{ partner.contact_phone }}</p>\n              <p>{{ partner.package }}</p>\n            </router-link>\n          </li>\n        </ul>\n\n        <div v-else class=\"no-partners\">\n          <p>No partners found matching the selected filters.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\nh2 {\n  text-align: center;\n  width: 100%;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n}\n\n.popup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.popup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.popup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.popup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.popup img {\n  width: 64px;\n  height: 64px;\n}\n\n.menu {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  gap: 80px;\n  width: 100%;\n}\n\n.menu .btns {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: center;\n}\n\n.btn.display {\n  display: none;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.search,\nselect {\n  padding: 4px 12px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-900);\n  background-color: var(--gray-900);\n  color: var(--text-color);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n}\n\n.search {\n  width: 100%;\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.menu .search {\n  display: none;\n}\n\n.partners.desktop {\n  background-color: var(--secondary-color);\n  width: 100%;\n  border-radius: 4px;\n  overflow-x: auto;\n}\n\n.partners.mobile {\n  width: 100%;\n}\n\n.partners.mobile .items {\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n}\n\n.partners.mobile a {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  gap: 1.5em;\n  padding-bottom: 1em;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n}\n\n.partners.mobile a .image {\n  width: 64px;\n  height: 64px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n\n.partners.mobile a .elements {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 100%;\n  gap: 1em;\n}\n\n.partners.mobile a .elements .text {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n}\n\n.partners.mobile a p {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.partners.mobile a p.name {\n  opacity: 1;\n}\n\n.partners.desktop {\n  display: none;\n}\n\n.partners::-webkit-scrollbar {\n  display: none;\n}\n\n.partners .top {\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  gap: 40px;\n  padding: 16px;\n  background-color: var(--secondary-color);\n  align-items: center;\n}\n\n.partners .list {\n  display: flex;\n  flex-direction: column;\n}\n\n.partners .list li {\n  display: grid;\n  grid-template-columns: repeat(8, 1fr);\n  gap: 40px;\n  align-items: center;\n  padding: 16px;\n}\n\n.partners.desktop .list li:nth-child(odd) {\n  background-color: var(--gray-900);\n}\n\n.partners .list li a {\n  display: contents; /* Zorg ervoor dat de a-tag zich gedraagt als inhoud van de grid */\n}\n\n.partners .top p,\n.partners .list li p {\n  color: var(--text-color);\n  white-space: nowrap; /* Zorg ervoor dat tekst niet over meerdere regels gaat */\n  overflow: hidden; /* Verberg tekst die te lang is */\n  text-overflow: ellipsis; /* Voeg een ellipsis toe als de tekst te lang is */\n}\n\n.partners .top p:nth-child(1),\n.partners .list li p:nth-child(1) {\n  width: 200px; /* De Order ID kolom is nu groter */\n}\n\n.partners .top p:nth-child(2),\n.partners .list li p:nth-child(2) {\n  width: 200px;\n}\n\n.partners .top p:nth-child(3),\n.partners .list li p:nth-child(3) {\n  width: 200px;\n}\n\n.partners .top p:nth-child(4),\n.partners .list li p:nth-child(4) {\n  width: 200px;\n}\n\n.partners .top p:nth-child(5),\n.partners .list li p:nth-child(5) {\n  width: 200px;\n}\n\n.partners .top p:nth-child(6),\n.partners .list li p:nth-child(6) {\n  width: 200px;\n}\n\n.partners .list li p:hover {\n  text-decoration: underline;\n}\n\n.no-partners {\n  padding: 16px;\n  text-align: center;\n  color: var(--text-color);\n}\n\n@media (min-width: 1200px) {\n  h2,\n  .search,\n  .partners.mobile {\n    display: none;\n  }\n\n  .menu .search {\n    display: flex;\n  }\n\n  .partners.desktop {\n    display: block;\n  }\n  .search {\n    width: auto;\n  }\n\n  .menu .search,\n  select {\n    min-width: 320px;\n  }\n}\n</style>\n","import script from \"./PartnersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PartnersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PartnersPage.vue?vue&type=style&index=0&id=61f3a1da&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61f3a1da\"]])\n\nexport default __exports__","<script setup>\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Basis-URL afhankelijk van de omgeving\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst router = useRouter();\n\n// Redirect naar login als er geen token is\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\n// Variabelen voor partnergegevens\nconst name = ref(\"\");\nconst street = ref(\"\");\nconst city = ref(\"\");\nconst postalCode = ref(\"\");\nconst country = ref(\"\");\nconst contactEmail = ref(\"\");\nconst contactPhone = ref(\"\");\nconst subscriptionPackage = ref(\"standard\"); // Herbenoemd van 'package' naar 'subscriptionPackage'\n\nconst defaultStyles = {\n  primary_color: \"rgb(151, 71, 255)\",\n  secondary_color: \"rgb(0, 0, 0)\",\n  titles_color: \"rgb(0, 113, 227)\",\n  text_color: \"rgb(255, 255, 255)\",\n  background_color: \"rgb(0, 0, 0)\",\n  button_color: \"#146ef5\",\n  fontFamilyTitles: \"Syne, serif\",\n  fontFamilyBodyText: \"DM Sans, sans-serif\",\n  logo_url: \"../../src/assets/images/rebilt-favicon.svg\",\n};\n\n// Validatie van het e-mailadres\nconst isValidEmail = (email) => {\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailPattern.test(email);\n};\n\n// Functie om een nieuwe partner toe te voegen\nconst addPartner = async () => {\n  // Validatie van verplichte velden\n  if (!name.value || !subscriptionPackage.value) {\n    alert(\"Naam en pakket zijn verplicht.\");\n    return;\n  }\n\n  if (contactEmail.value && !isValidEmail(contactEmail.value)) {\n    alert(\"Voer een geldig e-mailadres in.\");\n    return;\n  }\n\n  // Definieer de partnerPayload hier\n  const partnerPayload = {\n    name: name.value,\n    address: {\n      street: street.value,\n      city: city.value,\n      postal_code: postalCode.value,\n      country: country.value,\n    },\n    contact_email: contactEmail.value || null,\n    contact_phone: contactPhone.value || null,\n    package: subscriptionPackage.value, // Gebruik hier de hernoemde variabele 'subscriptionPackage'\n    ...defaultStyles, // Voeg de standaard huisstijl toe aan het payload\n  };\n\n  try {\n    const response = await fetch(`${baseURL}/partners`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      body: JSON.stringify(partnerPayload),\n    });\n\n    if (!response.ok) {\n      const errorDetail = await response.json();\n      throw new Error(\n        `Fout bij het toevoegen van de partner: ${errorDetail.message}`\n      );\n    }\n\n    const result = await response.json();\n\n    // Redirect naar partnerspagina\n    router.push(\"/admin/partners\");\n  } catch (error) {\n    console.error(\"Error adding partner:\", error.message);\n    alert(\n      \"Er is een fout opgetreden bij het toevoegen van de partner. Controleer de console voor details.\"\n    );\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Add new partner</h1>\n    <form @submit.prevent=\"addPartner\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"name\">Naam:</label>\n          <input v-model=\"name\" id=\"name\" type=\"text\" required />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"street\">Straat:</label>\n          <input v-model=\"street\" id=\"street\" type=\"text\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"city\">Stad:</label>\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"postalCode\">Postcode:</label>\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"country\">Land:</label>\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"contactEmail\">Contact E-mail:</label>\n          <input v-model=\"contactEmail\" id=\"contactEmail\" type=\"email\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"contactPhone\">Contact Telefoon:</label>\n          <input v-model=\"contactPhone\" id=\"contactPhone\" type=\"tel\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"subscriptionPackage\">Pakket:</label>\n          <select\n            v-model=\"subscriptionPackage\"\n            id=\"subscriptionPackage\"\n            required\n          >\n            <option value=\"standard\">Standard</option>\n            <option value=\"plus\">Plus</option>\n            <option value=\"pro\">Pro</option>\n          </select>\n        </div>\n      </div>\n\n      <button type=\"submit\" class=\"btn active\">Save</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n/* Voeg hier je stijlen toe */\n.content {\n  width: 100%;\n  height: 100vh;\n  margin-bottom: 136px;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\nform .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect {\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n\n  form .row {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 120px;\n    width: 100%;\n  }\n}\n</style>\n","import script from \"./AddNewPartnerPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewPartnerPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewPartnerPage.vue?vue&type=style&index=0&id=672cee12&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-672cee12\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Basis-URL afhankelijk van de omgeving\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Router en route-instellingen\nconst router = useRouter();\nconst route = useRoute();\nconst jwtToken = localStorage.getItem(\"jwtToken\");\n\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\n// Verkrijg de partnerId uit de routeparameter\nconst partnerId = route.params.id; // Haal partnerId uit de route\n\n// Partnergegevens en andere variabelen\nconst partnerData = ref({\n  name: \"\",\n  address: {\n    street: \"\",\n    city: \"\",\n    postal_code: \"\",\n    country: \"\",\n  },\n  contact_email: \"\",\n  contact_phone: \"\",\n  package: \"standard\", // Default package value is \"Standard\"\n});\n\nconst fetchPartnerData = async () => {\n  if (!partnerId) {\n    console.error(\"Geen partnerId beschikbaar.\");\n    alert(\"Geen partnerId beschikbaar.\");\n    return;\n  }\n\n  try {\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    partnerData.value = {\n      ...data.data.partner,\n      address: {\n        ...data.data.partner.address,\n      },\n    }; // Vul partnergegevens in\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    alert(\"Er is een fout opgetreden bij het ophalen van de partnergegevens.\");\n  }\n};\n\nonMounted(() => {\n  fetchPartnerData();\n});\n\n// Partnergegevens bijwerken\nconst updatePartner = async () => {\n  if (!partnerData.value.name || !partnerData.value.package) {\n    alert(\"Naam en Pakket zijn verplicht.\");\n    return;\n  }\n\n  try {\n    const response = await fetch(`${baseURL}/partners/${partnerId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: partnerData.value.name,\n        address: partnerData.value.address, // Verstuur het volledige adresobject\n        contact_email: partnerData.value.contact_email,\n        contact_phone: partnerData.value.contact_phone,\n        package: partnerData.value.package, // Verstuur het geselecteerde pakket\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    router.push(\"/admin/partners\"); // Redirect na succesvolle update\n  } catch (error) {\n    console.error(\"Error updating partner:\", error);\n    alert(\"Er is een fout opgetreden bij het bijwerken van de partner.\");\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Edit partner</h1>\n    <form v-if=\"partnerData\" @submit.prevent=\"updatePartner\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"name\">Naam:</label>\n          <input v-model=\"partnerData.name\" type=\"text\" id=\"name\" required />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"street\">Straat:</label>\n          <input v-model=\"partnerData.address.street\" type=\"text\" id=\"street\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"city\">Stad:</label>\n          <input v-model=\"partnerData.address.city\" type=\"text\" id=\"city\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"postal_code\">Postcode:</label>\n          <input\n            v-model=\"partnerData.address.postal_code\"\n            type=\"text\"\n            id=\"postal_code\"\n          />\n        </div>\n        <div class=\"column\">\n          <label for=\"country\">Land:</label>\n          <input\n            v-model=\"partnerData.address.country\"\n            type=\"text\"\n            id=\"country\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"contact_email\">Contact Email:</label>\n          <input\n            v-model=\"partnerData.contact_email\"\n            type=\"email\"\n            id=\"contact_email\"\n          />\n        </div>\n        <div class=\"column\">\n          <label for=\"contact_phone\">Contact Telefoon:</label>\n          <input\n            v-model=\"partnerData.contact_phone\"\n            type=\"tel\"\n            id=\"contact_phone\"\n          />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"package\">Pakket:</label>\n          <!-- Dropdown voor package -->\n          <select v-model=\"partnerData.package\" id=\"package\" required>\n            <option value=\"\" disabled>Kies een pakket</option>\n            <option value=\"standard\">Standard</option>\n            <option value=\"plus\">Plus</option>\n            <option value=\"pro\">Pro</option>\n          </select>\n        </div>\n      </div>\n      <button type=\"submit\" class=\"btn active\">Save</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n/* Stijlen voor je formulier en pagina */\n.content {\n  width: 100%;\n  height: 100vh;\n  margin-bottom: 136px;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\nform .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect {\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n\n  form .row {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 120px;\n    width: 100%;\n  }\n}\n</style>\n","import script from \"./EditPartner.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditPartner.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditPartner.vue?vue&type=style&index=0&id=51264c17&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51264c17\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, computed, onMounted, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// JWT Handling Utility\nconst getToken = () => localStorage.getItem(\"jwtToken\");\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\n// Check for token validity\nconst token = getToken();\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.partnerId || null;\n\n// If no valid userId, redirect to login\nif (!userId) {\n  router.push(\"/login\");\n}\n\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Reactive state\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\nconst partnerPackage = ref(null);\nconst orders = ref([]);\nconst selectedOrders = ref([]);\nconst searchTerm = ref(\"\");\nconst selectedFilter = ref(\"All\");\n\n// API Call Utility Function\nconst fetchDataFromApi = async (url, method = \"GET\", data = {}) => {\n  const token = getToken();\n  const config = {\n    headers: { Authorization: `Bearer ${token}` },\n    method,\n    data,\n  };\n\n  try {\n    const response = await axios(url, config);\n    return response.data?.data || {};\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n    return null;\n  }\n};\n\n// Fetch User Profile\nconst fetchUserProfile = async () => {\n  const userData = await fetchDataFromApi(`${baseURL}/users/${userId}`);\n  if (userData?.user) {\n    Object.assign(user, userData.user); // Directly update the user object\n  }\n};\n\n// Fetch Partner Data\nconst fetchPartnerData = async () => {\n  if (partnerId) {\n    const partnerData = await fetchDataFromApi(\n      `${baseURL}/partners/${partnerId}`\n    );\n    partnerPackage.value =\n      partnerData?.partner?.package || \"No package available\";\n  }\n};\n\nlet productCode = \"\";\n// Fetch Orders Data\nconst fetchOrders = async () => {\n  const ordersData = await fetchDataFromApi(`${baseURL}/orders`);\n  orders.value = ordersData?.orders || [];\n\n  // Iterate over each order to access productCode\n  orders.value.forEach((order) => {\n    if (order.productId && order.productId.productCode) {\n      const productCode = order.productId.productCode;\n    }\n  });\n};\n\n// Initial Fetch on Mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n  await fetchOrders();\n  setInterval(fetchOrders, 5000); // Poll orders every 5 seconds\n});\n\n// Computed values for filtering\nconst filteredOrders = computed(() => {\n  return orders.value.filter((order) => {\n    const matchesSearchTerm = Object.values(order).some((value) =>\n      String(value).toLowerCase().includes(searchTerm.value.toLowerCase())\n    );\n    const matchesFilter =\n      selectedFilter.value === \"All\" ||\n      order.orderStatus === selectedFilter.value;\n    return matchesSearchTerm && matchesFilter;\n  });\n});\n\n// Handle Order Selection\nconst toggleSelection = (orderId) => {\n  const index = selectedOrders.value.indexOf(orderId);\n  if (index === -1) {\n    selectedOrders.value.push(orderId);\n  } else {\n    selectedOrders.value.splice(index, 1);\n  }\n};\n\nconst toggleSelectAll = (event) => {\n  selectedOrders.value = event.target.checked\n    ? orders.value.map((order) => order._id)\n    : [];\n};\n\n// Handle Deleting Orders\nconst isDeleteButtonVisible = computed(() => selectedOrders.value.length > 0);\nconst deleteSelectedOrders = () => {\n  if (selectedOrders.value.length === 0) return;\n  showPopup();\n};\n\nconst confirmDelete = async () => {\n  await deleteOrders();\n  hidePopup();\n};\n\nconst deleteOrders = async () => {\n  try {\n    for (const id of selectedOrders.value) {\n      // Optimistically remove deleted orders from the list to update the UI instantly\n      orders.value = orders.value.filter((order) => order._id !== id);\n      await fetch(`${baseURL}/orders/${id}`, { method: \"DELETE\" });\n    }\n    selectedOrders.value = [];\n  } catch (error) {\n    console.error(\"Error deleting orders:\", error);\n  }\n};\n\n// Popup visibility management\nconst isPopupVisible = ref(false);\nconst showPopup = () => {\n  isPopupVisible.value = true;\n};\nconst hidePopup = () => {\n  isPopupVisible.value = false;\n};\n\n// Provide user data to Navigation component\nprovide(\"user\", user);\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\n  <div class=\"content\">\n    <h2>Orders</h2>\n    <div class=\"popup\" v-if=\"isPopupVisible\">\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\n      <div class=\"text\">\n        <h2>Are you sure?</h2>\n        <p>Do you really want to delete this item(s)?</p>\n        <div class=\"btns\">\n          <button @click=\"hidePopup\">Cancel</button>\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"menu\">\n      <div class=\"btns\">\n        <p>Aantal orders: {{ orders.length }}</p>\n        <div\n          @click=\"deleteSelectedOrders\"\n          class=\"btn display\"\n          :style=\"{ visibility: isDeleteButtonVisible ? 'visible' : 'hidden' }\"\n        >\n          <p>Delete item(s)</p>\n        </div>\n      </div>\n\n      <div class=\"search\">\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\n      </div>\n\n      <select class=\"filter\" v-model=\"selectedFilter\">\n        <option value=\"All\">All</option>\n        <option value=\"pending\">Pending</option>\n        <option value=\"shipped\">Shipped</option>\n        <option value=\"delivered\">Delivered</option>\n        <option value=\"cancelled\">Cancelled</option>\n      </select>\n    </div>\n\n    <div class=\"search\">\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\n    </div>\n\n    <div class=\"orders mobile\">\n      <div class=\"items\">\n        <router-link\n          v-if=\"filteredOrders.length\"\n          v-for=\"order in filteredOrders\"\n          :key=\"order._id\"\n          :to=\"{ name: 'EditPartner', params: { id: order._id } }\"\n        >\n          <div>\n            <p>{{ order.customer.firstName }} {{ order.customer.lastName }}</p>\n            <p>\n              {{ order.createdAt }}\n            </p>\n          </div>\n          <div>\n            <p>\n              {{ order.productId }}\n            </p>\n            <p>\n              {{ order.orderStatus }}\n            </p>\n          </div>\n        </router-link>\n      </div>\n    </div>\n\n    <div class=\"orders desktop\">\n      <div class=\"top\">\n        <input\n          type=\"checkbox\"\n          @change=\"toggleSelectAll\"\n          :checked=\"\n            selectedOrders.length === filteredOrders.length &&\n            filteredOrders.length > 0\n          \"\n        />\n        <p>Order ID</p>\n        <p>ProductCode</p>\n        <p>LacesColor</p>\n        <p>LacesTexture</p>\n        <p>SoleBottomColor</p>\n        <p>SoleBottomTexture</p>\n        <p>SoleTopColor</p>\n        <p>SoleTopTexture</p>\n        <p>InsideColor</p>\n        <p>InsideTexture</p>\n        <p>Outside1Color</p>\n        <p>Outside1Texture</p>\n        <p>Outside2Color</p>\n        <p>Outside2Texture</p>\n        <p>Outside3Color</p>\n        <p>Outside3Texture</p>\n        <p>Status</p>\n      </div>\n\n      <div class=\"table-container\">\n        <ul v-if=\"filteredOrders.length\" class=\"list\">\n          <li v-for=\"order in filteredOrders\" :key=\"order._id\">\n            <input\n              type=\"checkbox\"\n              @change=\"toggleSelection(order._id)\"\n              :checked=\"selectedOrders.includes(order._id)\"\n            />\n            <router-link :to=\"{ name: 'EditOrder', params: { id: order._id } }\">\n              <p>{{ order._id }}</p>\n\n              <!-- Access productCode from order.productId -->\n              <p>{{ order.productId?.productCode || \"No product code\" }}</p>\n\n              <p>{{ order.lacesColor }}</p>\n              <p>{{ order.lacesTexture }}</p>\n              <p>{{ order.soleBottomColor }}</p>\n              <p>{{ order.soleBottomTexture }}</p>\n              <p>{{ order.soleTopColor }}</p>\n              <p>{{ order.soleTopTexture }}</p>\n              <p>{{ order.insideColor }}</p>\n              <p>{{ order.insideTexture }}</p>\n              <p>{{ order.outside1Color }}</p>\n              <p>{{ order.outside1Texture }}</p>\n              <p>{{ order.outside2Color }}</p>\n              <p>{{ order.outside2Texture }}</p>\n              <p>{{ order.outside3Color }}</p>\n              <p>{{ order.outside3Texture }}</p>\n              <p>{{ order.orderStatus }}</p>\n            </router-link>\n          </li>\n        </ul>\n        <div v-if=\"filteredOrders.length === 0\" class=\"no-orders\">\n          No orders found\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\nh2 {\n  text-align: center;\n  width: 100%;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n}\n\n.popup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.popup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.popup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.popup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.popup img {\n  width: 64px;\n  height: 64px;\n}\n\n.menu {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.menu .btns {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: center;\n}\n\n.btn.display {\n  visibility: hidden;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.search,\nselect {\n  padding: 4px 12px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-900);\n  background-color: var(--gray-900);\n  color: var(--text-color);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n}\n\n.search {\n  width: 100%;\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.orders::-webkit-scrollbar {\n  display: none;\n}\n\n.orders .top {\n  display: grid;\n  grid-template-columns: repeat(18, 1fr);\n  gap: 40px;\n  padding: 4px 16px;\n  background-color: var(--secondary-color);\n  align-items: center; /* --- */\n}\n\n.orders .list {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  gap: 16px;\n  max-height: 300px;\n}\n\n.orders .list li {\n  display: grid;\n  grid-template-columns: repeat(18, 1fr);\n  gap: 40px;\n  align-items: center;\n  padding: 1rem;\n}\n\n.orders.desktop .list li:nth-child(odd) {\n  background-color: var(--gray-900);\n}\n\n.orders .list li a {\n  display: contents; /* Zorg ervoor dat de a-tag zich gedraagt als inhoud van de grid */\n}\n\n.orders .top p,\n.orders .list li p {\n  color: var(--text-color);\n  white-space: nowrap; /* Zorg ervoor dat tekst niet over meerdere regels gaat */\n  overflow: hidden; /* Verberg tekst die te lang is */\n  text-overflow: ellipsis; /* Voeg een ellipsis toe als de tekst te lang is */\n}\n\n.orders .top p:nth-child(1),\n.orders .list li p:nth-child(1) {\n  width: 150px; /* De Order ID kolom is nu groter */\n}\n\n.orders .top p:nth-child(2),\n.orders .list li p:nth-child(2) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(3),\n.orders .list li p:nth-child(3) {\n  width: 180px;\n}\n\n.orders .top p:nth-child(4),\n.orders .list li p:nth-child(4) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(5),\n.orders .list li p:nth-child(5) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(6),\n.orders .list li p:nth-child(6) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(7),\n.orders .list li p:nth-child(7) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(8),\n.orders .list li p:nth-child(8) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(9),\n.orders .list li p:nth-child(9) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(10),\n.orders .list li p:nth-child(10) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(11),\n.orders .list li p:nth-child(11) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(12),\n.orders .list li p:nth-child(12) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(13),\n.orders .list li p:nth-child(13) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(14),\n.orders .list li p:nth-child(14) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(15),\n.orders .list li p:nth-child(15) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(16),\n.orders .list li p:nth-child(16) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(17),\n.orders .list li p:nth-child(17) {\n  width: 150px;\n}\n\n.orders .top p:nth-child(18),\n.orders .list li p:nth-child(18) {\n  width: 150px;\n}\n\n.orders .list li p:hover {\n  text-decoration: underline;\n}\n\n.no-orders {\n  padding: 16px;\n  text-align: center;\n  color: var(--text-color);\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.menu .search {\n  display: none;\n}\n\n.orders.desktop {\n  background-color: var(--secondary-color);\n  width: 100%;\n  border-radius: 4px;\n  overflow-x: auto;\n}\n\n.orders.mobile {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n}\n\n.orders.mobile a {\n  padding: 1em;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  gap: 1.5em;\n  padding-bottom: 1em;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n}\n\n.orders.mobile a .image {\n  width: 64px;\n  height: 64px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n.orders.mobile a div {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n}\n\n.orders.mobile a p {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.orders.mobile a p.name {\n  opacity: 1;\n}\n\n.orders.desktop {\n  display: none;\n}\n\n@media (min-width: 1200px) {\n  h2,\n  .search,\n  .orders.mobile {\n    display: none;\n  }\n\n  .menu .search {\n    display: flex;\n  }\n\n  .orders {\n    background-color: var(--secondary-color);\n    width: 100%;\n    border-radius: 4px;\n    overflow-x: auto; /* Enable horizontal scrolling */\n    white-space: nowrap; /* Prevent wrapping of items */\n  }\n\n  .orders.desktop {\n    display: block;\n  }\n  .search {\n    width: auto;\n  }\n\n  .menu .search,\n  select {\n    min-width: 320px;\n  }\n}\n</style>\n","import script from \"./OrdersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrdersPage.vue?vue&type=style&index=0&id=056fe690&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-056fe690\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Base URL afhankelijk van productie/ontwikkelomgeving\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Router en route\nconst router = useRouter();\nconst route = useRoute();\n\n// JWT-token ophalen en controleren\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\n// Data-instellingen\nconst orderData = ref(null);\nconst productCode = ref(route.params.id || \"\");\n\n// Formulierdata\nconst formData = ref({\n  customer: {\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    message: \"\",\n    address: {\n      street: \"\",\n      houseNumber: \"\",\n      postalCode: \"\",\n      city: \"\",\n    },\n  },\n  productId: \"\",\n  lacesColor: \"\",\n  soleBottomColor: \"\",\n  soleTopColor: \"\",\n  insideColor: \"\",\n  outside1Color: \"\",\n  outside2Color: \"\",\n  outside3Color: \"\",\n  lacesTexture: \"\",\n  soleBottomTexture: \"\",\n  soleTopTexture: \"\",\n  insideTexture: \"\",\n  outside1Texture: \"\",\n  outside2Texture: \"\",\n  outside3Texture: \"\",\n  orderStatus: \"\",\n});\n\n// Ordergegevens ophalen\nconst fetchOrderData = async () => {\n  try {\n    const response = await fetch(`${baseURL}/orders/${productCode.value}`, {\n      headers: { Authorization: `Bearer ${jwtToken}` },\n    });\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n\n    const data = await response.json();\n    orderData.value = data.data.order;\n\n    // Formulier vooraf vullen met opgehaalde gegevens\n    Object.assign(formData.value, orderData.value);\n  } catch (error) {\n    console.error(\"Fout bij het ophalen van ordergegevens:\", error);\n  }\n};\n\n// Order bijwerken\nconst updateOrder = async () => {\n  try {\n    const response = await fetch(`${baseURL}/orders/${productCode.value}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      body: JSON.stringify(formData.value),\n    });\n\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n\n    router.push(\"/admin/orders\");\n  } catch (error) {\n    console.error(\"Fout bij het bijwerken van de order:\", error);\n  }\n};\n\nonMounted(fetchOrderData);\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Order Bewerken</h1>\n    <form v-if=\"orderData\" @submit.prevent=\"updateOrder\">\n      <h2>Klantinformatie</h2>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"firstName\">Voornaam:</label>\n          <input\n            type=\"text\"\n            id=\"firstName\"\n            v-model=\"formData.customer.firstName\"\n            required\n          />\n\n          <label for=\"lastName\">Achternaam:</label>\n          <input\n            type=\"text\"\n            id=\"lastName\"\n            v-model=\"formData.customer.lastName\"\n            required\n          />\n\n          <label for=\"email\">E-mail:</label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            v-model=\"formData.customer.email\"\n            required\n          />\n\n          <label for=\"message\">Bericht:</label>\n          <textarea id=\"message\" v-model=\"formData.customer.message\"></textarea>\n        </div>\n        <div class=\"column\">\n          <h3>Adres</h3>\n          <label for=\"street\">Straat:</label>\n          <input\n            type=\"text\"\n            id=\"street\"\n            v-model=\"formData.customer.address.street\"\n            required\n          />\n\n          <label for=\"houseNumber\">Huisnummer:</label>\n          <input\n            type=\"text\"\n            id=\"houseNumber\"\n            v-model=\"formData.customer.address.houseNumber\"\n            required\n          />\n\n          <label for=\"postalCode\">Postcode:</label>\n          <input\n            type=\"text\"\n            id=\"postalCode\"\n            v-model=\"formData.customer.address.postalCode\"\n            required\n          />\n\n          <label for=\"city\">Stad:</label>\n          <input\n            type=\"text\"\n            id=\"city\"\n            v-model=\"formData.customer.address.city\"\n            required\n          />\n        </div>\n      </div>\n\n      <h2>Productinformatie</h2>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"productId\">Product ID:</label>\n          <input\n            type=\"text\"\n            id=\"productId\"\n            v-model=\"formData.productId\"\n            required\n          />\n\n          <label for=\"lacesColor\">Veterskleur:</label>\n          <input\n            type=\"text\"\n            id=\"lacesColor\"\n            v-model=\"formData.lacesColor\"\n            required\n          />\n\n          <label for=\"lacesTexture\">Veters Texture:</label>\n          <input\n            type=\"text\"\n            id=\"lacesTexture\"\n            v-model=\"formData.lacesTexture\"\n          />\n\n          <label for=\"soleBottomColor\">Zoolkleur (onderkant):</label>\n          <input\n            type=\"text\"\n            id=\"soleBottomColor\"\n            v-model=\"formData.soleBottomColor\"\n            required\n          />\n\n          <label for=\"soleBottomTexture\">Zool Texture (onderkant):</label>\n          <input\n            type=\"text\"\n            id=\"soleBottomTexture\"\n            v-model=\"formData.soleBottomTexture\"\n          />\n\n          <label for=\"soleTopColor\">Zoolkleur (bovenkant):</label>\n          <input\n            type=\"text\"\n            id=\"soleTopColor\"\n            v-model=\"formData.soleTopColor\"\n            required\n          />\n\n          <label for=\"soleTopTexture\">Zool Texture (bovenkant):</label>\n          <input\n            type=\"text\"\n            id=\"soleTopTexture\"\n            v-model=\"formData.soleTopTexture\"\n          />\n        </div>\n\n        <div class=\"column\">\n          <label for=\"insideColor\">Binnenkleur:</label>\n          <input\n            type=\"text\"\n            id=\"insideColor\"\n            v-model=\"formData.insideColor\"\n            required\n          />\n\n          <label for=\"insideTexture\">Binnen Texture:</label>\n          <input\n            type=\"text\"\n            id=\"insideTexture\"\n            v-model=\"formData.insideTexture\"\n          />\n\n          <label for=\"outside1Color\">Buitenkleur 1:</label>\n          <input\n            type=\"text\"\n            id=\"outside1Color\"\n            v-model=\"formData.outside1Color\"\n            required\n          />\n\n          <label for=\"outside1Texture\">Buiten Texture 1:</label>\n          <input\n            type=\"text\"\n            id=\"outside1Texture\"\n            v-model=\"formData.outside1Texture\"\n          />\n\n          <label for=\"outside2Color\">Buitenkleur 2:</label>\n          <input\n            type=\"text\"\n            id=\"outside2Color\"\n            v-model=\"formData.outside2Color\"\n            required\n          />\n\n          <label for=\"outside2Texture\">Buiten Texture 2:</label>\n          <input\n            type=\"text\"\n            id=\"outside2Texture\"\n            v-model=\"formData.outside2Texture\"\n          />\n\n          <label for=\"outside3Color\">Buitenkleur 3:</label>\n          <input\n            type=\"text\"\n            id=\"outside3Color\"\n            v-model=\"formData.outside3Color\"\n            required\n          />\n\n          <label for=\"outside3Texture\">Buiten Texture 3:</label>\n          <input\n            type=\"text\"\n            id=\"outside3Texture\"\n            v-model=\"formData.outside3Texture\"\n          />\n\n          <label for=\"orderStatus\">Status:</label>\n          <select id=\"orderStatus\" v-model=\"formData.orderStatus\" required>\n            <option value=\"pending\">Pending</option>\n            <option value=\"shipped\">Shipped</option>\n            <option value=\"delivered\">Delivered</option>\n            <option value=\"cancelled\">Cancelled</option>\n          </select>\n        </div>\n      </div>\n      <button type=\"submit\" class=\"btn active\">Bewerk Order</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n/* Basisstijl */\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  width: 100%;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  gap: 32px;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  flex: 1;\n}\n\ninput,\ntextarea,\nselect {\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  background-color: #f9f9f9;\n  color: var(--gray-700);\n  width: 100%;\n}\n\nbutton {\n  padding: 10px 20px;\n  border: none;\n  border-radius: 4px;\n  background-color: #007bff;\n  color: white;\n  cursor: pointer;\n}\n\nbutton:hover {\n  background-color: #0056b3;\n}\n</style>\n","import script from \"./EditOrder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditOrder.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditOrder.vue?vue&type=style&index=0&id=d71bd772&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d71bd772\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, watch, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.companyId || null;\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Partner related data\nconst partnerPackage = ref(null);\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\n\n// Base URL depending on environment\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const userData = response.data?.data?.user || {};\n    Object.assign(user, userData);\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Fetch partner data (if applicable)\nconst fetchPartnerData = async () => {\n  if (!partnerId) return;\n\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const partner = response.data?.data?.partner || {};\n    partnerPackage.value = partner.package || \"No package available\";\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\n// Initialize data fetching on mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n});\n\n// Provide the user data to all components (including Navigation)\nprovide(\"user\", user);\n\n// Watch for changes in user data and log updates\nwatch(\n  user,\n  (newUser) => {\n    console.log(\"User data updated:\", newUser);\n  },\n  { deep: true }\n);\n\n// House style data management\nconst huisstijlData = reactive({\n  primaryColor: \"#9747ff\",\n  secondaryColor: \"#000000\",\n  textColor: \"#ffffff\",\n  titlesColor: \"#146ef5\",\n  backgroundColor: \"#000000\",\n  buttonColor: \"#146ef5\",\n  fonts: [], // Fonts initialized as an empty array\n  logo: \"\",\n  backgroundImage: \"\",\n  black: \"#080808\",\n  white: \"#fff\",\n  blue_600: \"#0055d4\",\n  gray_100: \"#f0f0f0\",\n  gray_200: \"#d8d8d8\",\n  gray_300: \"#ababab\",\n  gray_400: \"#898989\",\n  gray_500: \"#757575\",\n  gray_600: \"#5a5a5a\",\n  gray_700: \"#363636\",\n  gray_800: \"#222\",\n  gray_900: \"#171717\",\n});\n\nconst selectedFontForTitles = ref(\"\");\nconst selectedFontForText = ref(\"\");\nconst GoogleFonts = ref([]);\n\n// Set dynamic font styles\nconst setFonts = () => {\n  document.documentElement.style.setProperty(\n    \"--title-font\",\n    selectedFontForTitles.value || \"default\"\n  );\n  document.documentElement.style.setProperty(\n    \"--body-font\",\n    selectedFontForText.value || \"default\"\n  );\n};\n\n// Fetch Google Fonts\nconst fetchGoogleFonts = async () => {\n  const apiKey = \"AIzaSyBAS05cq9-WKD92VljeuLee5V7YkIrTTMw\";\n  const googleFontsApi = `https://www.googleapis.com/webfonts/v1/webfonts?key=${apiKey}`;\n  try {\n    const { data } = await axios.get(googleFontsApi);\n    GoogleFonts.value = data.items.map((font) => font.family);\n  } catch (error) {\n    console.error(\"Error fetching Google Fonts:\", error);\n  }\n};\n\n// Select and load a font\nconst selectFont = async (font, type) => {\n  const fontUrl = `https://fonts.googleapis.com/css2?family=${font.replace(\n    / /g,\n    \"+\"\n  )}:wght@400;700&display=swap`;\n\n  const existingLink = document.head.querySelector(`link[href=\"${fontUrl}\"]`);\n  if (!existingLink) {\n    const link = document.createElement(\"link\");\n    link.rel = \"stylesheet\";\n    link.href = fontUrl;\n    document.head.appendChild(link);\n  }\n\n  if (type === \"title\") {\n    selectedFontForTitles.value = font;\n  } else if (type === \"text\") {\n    selectedFontForText.value = font;\n  }\n\n  await updateHouseStyleInDatabase();\n};\n\nconst openColorPicker = (field) => {\n  const input = document.createElement(\"input\");\n  input.type = \"color\";\n  input.value = huisstijlData[field];\n\n  input.addEventListener(\"input\", async (event) => {\n    huisstijlData[field] = event.target.value;\n    await updateHouseStyleInDatabase();\n  });\n\n  input.click();\n};\n\n// Fetch house style from the database\nconst getHouseStyleFromDatabase = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    const partnerData = response.data?.data?.partner || {};\n    Object.assign(huisstijlData, {\n      primaryColor: partnerData.primary_color || \"#9747ff\",\n      secondaryColor: partnerData.secondary_color || \"#000000\",\n      textColor: partnerData.text_color || \"#ffffff\",\n      titlesColor: partnerData.titles_color || \"#146ef5\",\n      backgroundColor: partnerData.background_color || \"#000000\",\n      buttonColor: partnerData.button_Color || \"#146ef5\",\n      logo: partnerData.logo_url || \"\",\n      backgroundImage: partnerData.background_image_url || \"\",\n      fontFamilyTitles: partnerData.fontFamilyTitles || \"Syne\",\n      fontFamilyBodyText: partnerData.fontFamilyBodyText || \"DM Sans\",\n    });\n\n    selectedFontForTitles.value = partnerData.fontFamilyTitles || \"Syne\";\n    selectedFontForText.value = partnerData.fontFamilyBodyText || \"DM Sans\";\n  } catch (error) {\n    console.error(\"Error fetching house style:\", error);\n  }\n};\n\n// Reset house style to default values\nconst resetHouseStyle = async () => {\n  const defaultHuisstijl = {\n    primaryColor: \"#9747ff\",\n    secondaryColor: \"#000000\",\n    textColor: \"#ffffff\",\n    titlesColor: \"#146ef5\",\n    backgroundColor: \"#000000\",\n    buttonColor: \"#146ef5\",\n    backgroundImage: \"\",\n    fontFamilyTitles: \"Syne\",\n    fontFamilyBodyText: \"DM Sans\",\n    logo: \"https://res.cloudinary.com/dzempjvto/image/upload/v1734208533/Stijn/Huisstijl/yzezrygcrnb8pztjyplp.jpg\",\n    black: \"#080808\",\n    white: \"#fff\",\n    blue_600: \"#0055d4\",\n    gray_100: \"#f0f0f0\",\n    gray_200: \"#d8d8d8\",\n    gray_300: \"#ababab\",\n    gray_400: \"#898989\",\n    gray_500: \"#757575\",\n    gray_600: \"#5a5a5a\",\n    gray_700: \"#363636\",\n    gray_800: \"#222\",\n    gray_900: \"#171717\",\n  };\n\n  Object.assign(huisstijlData, defaultHuisstijl);\n\n  try {\n    await updateHouseStyleInDatabase();\n  } catch (error) {\n    console.error(\"Error updating house style:\", error);\n  }\n};\n\n// Update house style in the database\nconst updateHouseStyleInDatabase = async () => {\n  const houseStyleData = {\n    name: \"Odette Lunettes\",\n    address: {\n      street: \"92, Goudenregenlaan\",\n      city: \"Sint-Niklaas\",\n      postal_code: \"9100\",\n      country: \"Belgi\",\n    },\n    contact_email: \"jonasdebruyne734@gmail.com\",\n    contact_phone: \"0472671833\",\n    package: \"standard\",\n    primary_color: huisstijlData.primaryColor,\n    secondary_color: huisstijlData.secondaryColor,\n    titles_color: huisstijlData.titlesColor,\n    text_color: huisstijlData.textColor,\n    background_color: huisstijlData.backgroundColor,\n    button_color: huisstijlData.buttonColor,\n    fontFamilyBodyText: selectedFontForText.value,\n    fontFamilyTitles: selectedFontForTitles.value,\n    logo_url: huisstijlData.logo || null,\n    black: huisstijlData.black,\n    white: huisstijlData.white,\n    blue_600: huisstijlData.blue_600,\n    gray_100: huisstijlData.gray_100,\n    gray_200: huisstijlData.gray_200,\n    gray_300: huisstijlData.gray_300,\n    gray_400: huisstijlData.gray_400,\n    gray_500: huisstijlData.gray_500,\n    gray_600: huisstijlData.gray_600,\n    gray_700: huisstijlData.gray_700,\n    gray_800: huisstijlData.gray_800,\n    gray_900: huisstijlData.gray_900,\n  };\n\n  try {\n    const response = await axios.put(\n      `${baseURL}/partners/${partnerId}`,\n      houseStyleData,\n      {\n        headers: { Authorization: `Bearer ${token}` },\n      }\n    );\n  } catch (error) {\n    console.error(\"Error updating house style:\", error);\n  }\n};\n\n// Fetch house style and Google Fonts\nonMounted(() => {\n  getHouseStyleFromDatabase();\n  fetchGoogleFonts();\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Styling</h1>\n    <div class=\"elements\">\n      <!-- Colours Section -->\n      <div class=\"top\">\n        <h2>Colours</h2>\n        <a href=\"#\" class=\"btn active\" @click.prevent=\"resetHouseStyle\"\n          ><p>Reset</p></a\n        >\n      </div>\n      <div class=\"colours\">\n        <div class=\"column\">\n          <h3>Primary Color</h3>\n          <div class=\"row\">\n            <p>{{ huisstijlData.primaryColor }}</p>\n            <div\n              class=\"color\"\n              :style=\"{ backgroundColor: huisstijlData.primaryColor }\"\n              @click=\"openColorPicker('primaryColor')\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"column\">\n          <h3>Secondary Color</h3>\n          <div class=\"row\">\n            <p>{{ huisstijlData.secondaryColor }}</p>\n            <div\n              class=\"color\"\n              :style=\"{ backgroundColor: huisstijlData.secondaryColor }\"\n              @click=\"openColorPicker('secondaryColor')\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"column\">\n          <h3>Text color</h3>\n          <div class=\"row\">\n            <p>{{ huisstijlData.textColor }}</p>\n            <div\n              class=\"color\"\n              :style=\"{ backgroundColor: huisstijlData.textColor }\"\n              @click=\"openColorPicker('textColor')\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"column\">\n          <h3>Titles color</h3>\n          <div class=\"row\">\n            <p>{{ huisstijlData.titlesColor }}</p>\n            <div\n              class=\"color\"\n              :style=\"{ backgroundColor: huisstijlData.titlesColor }\"\n              @click=\"openColorPicker('titlesColor')\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"column\">\n          <h3>Button color</h3>\n          <div class=\"row\">\n            <p>{{ huisstijlData.buttonColor }}</p>\n            <div\n              class=\"color\"\n              :style=\"{ backgroundColor: huisstijlData.buttonColor }\"\n              @click=\"openColorPicker('buttonColor')\"\n            ></div>\n          </div>\n        </div>\n        <div class=\"column\">\n          <h3>Background color</h3>\n          <div class=\"row\">\n            <p>{{ huisstijlData.backgroundColor }}</p>\n            <div\n              class=\"color\"\n              :style=\"{ backgroundColor: huisstijlData.backgroundColor }\"\n              @click=\"openColorPicker('backgroundColor')\"\n            ></div>\n          </div>\n        </div>\n      </div>\n      <!-- Fonts Section -->\n      <div class=\"fonts\">\n        <h2>Fonts</h2>\n        <!-- Dropdown voor lettertype selectie -->\n        <div class=\"font\">\n          <h3>Font voor titles</h3>\n          <div class=\"row\">\n            <div class=\"font-preview\">\n              <h3>Voorbeeld met \"{{ selectedFontForTitles }}\"</h3>\n              <h3 :style=\"{ fontFamily: selectedFontForTitles }\">\n                This is an example of a title in {{ selectedFontForTitles }}.\n              </h3>\n            </div>\n\n            <div class=\"font-select\">\n              <label for=\"font-dropdown\">Selecteer een font:</label>\n              <select\n                id=\"font-dropdown\"\n                v-model=\"selectedFontForTitles\"\n                @change=\"selectFont(selectedFontForTitles, 'title')\"\n              >\n                <option value=\"\" disabled :selected=\"!selectedFontForTitles\">\n                  Selecteer een font\n                </option>\n                <option\n                  v-for=\"font in [\n                    ...GoogleFonts,\n                    ...(Array.isArray(huisstijlData.fonts)\n                      ? huisstijlData.fonts\n                      : []),\n                  ]\"\n                  :key=\"font\"\n                  :value=\"font\"\n                  :style=\"{ fontFamily: font }\"\n                >\n                  {{ font }}\n                </option>\n              </select>\n            </div>\n          </div>\n        </div>\n        <div class=\"font\">\n          <h3>Font voor tekst</h3>\n          <div class=\"row\">\n            <div class=\"font-preview\">\n              <h3>Voorbeeld met \"{{ selectedFontForText }}\"</h3>\n              <p :style=\"{ fontFamily: selectedFontForText }\">\n                This is an example of body text in {{ selectedFontForText }}.\n              </p>\n            </div>\n            <div class=\"font-select\">\n              <label for=\"font-dropdown\">Selecteer een font:</label>\n              <select\n                id=\"font-dropdown\"\n                v-model=\"selectedFontForText\"\n                @change=\"selectFont(selectedFontForText, 'text')\"\n              >\n                <option value=\"\" disabled :selected=\"!selectedFontForText\">\n                  Selecteer een font\n                </option>\n                <!-- Voeg zowel Google Fonts als de fonts uit huisstijlData toe -->\n                <option\n                  v-for=\"font in [\n                    ...GoogleFonts,\n                    ...huisstijlData.fonts.map((f) => f.name),\n                  ]\"\n                  :key=\"font\"\n                  :value=\"font\"\n                  :style=\"{ fontFamily: font }\"\n                >\n                  {{ font }}\n                </option>\n              </select>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"images\">\n        <h2>Images</h2>\n        <div class=\"column\">\n          <h3>Logo</h3>\n          <div class=\"row\">\n            <img\n              v-if=\"huisstijlData.logo\"\n              :src=\"huisstijlData.logo\"\n              alt=\"Logo\"\n              class=\"logo\"\n            />\n            <div v-else>\n              <img :src=\"fallbackLogo\" alt=\"Logo\" class=\"logo\" />\n            </div>\n\n            <!-- Logo upload button -->\n            <button @click=\"triggerLogoUpload\" class=\"btn active\">\n              Upload Logo\n            </button>\n            <input\n              ref=\"logoInput\"\n              type=\"file\"\n              accept=\"image/*\"\n              @change=\"handleLogoUpload\"\n              style=\"display: none\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.elements {\n  padding: 24px;\n  background-color: var(--secondary-color);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  border-radius: 4px;\n}\n\n.elements .top {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.elements .top h2 {\n  padding-bottom: 0;\n  border-bottom: none;\n}\n\n.elements h2 {\n  padding-bottom: 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.elements .colours,\n.elements .fonts,\n.elements .images {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.column .row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.images .column .row {\n  align-items: flex-end;\n}\n\n.images .column .row img {\n  width: 64px;\n  height: 64px;\n}\n\n.column .row .color {\n  width: 24px;\n  height: 24px;\n  border: 3px solid var(--text-color);\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.elements .fonts .font {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n}\n\n.elements .fonts .font .row {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n}\n\n.elements .fonts .font .row .font-preview,\n.elements .fonts .font .row .font-select {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\n#font-dropdown {\n  width: 100%;\n  padding: 8px;\n  font-size: 16px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  margin-top: 8px;\n  color: #000;\n}\n\n#font-dropdown option {\n  color: #000;\n}\n\n@media (min-width: 768px) {\n  .elements .fonts .font .row {\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 24px;\n    width: 100%;\n  }\n\n  .elements .fonts .font .row .font-preview,\n  .elements .fonts .font .row .font-select {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    width: 50%;\n  }\n}\n</style>\n","import script from \"./StylingPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StylingPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StylingPage.vue?vue&type=style&index=0&id=32030646&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32030646\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst decodeToken = (token) => {\n  if (!token) return null;\n  const base64Payload = token.split(\".\")[1];\n  const decodedPayload = JSON.parse(atob(base64Payload));\n  return decodedPayload; // Dit bevat de payload, inclusief de partner-id\n};\n\n// JWT-token controle\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\nconst decoded = decodeToken(token);\nconst decodedToken = decodeToken(jwtToken);\nconst userPartnerId = decodedToken?.companyId;\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.partnerId || null;\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Base URL for API calls\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Partner related data\nconst partnerPackage = ref(null);\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const userData = response.data?.data?.user || {};\n    // Update the user object\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n\n    if (\n      userData.role !== \"partner_admin\" &&\n      userData.role !== \"partner_owner\"\n    ) {\n      router.push(\"/login\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Fetch partner data (if applicable)\nconst fetchPartnerData = async () => {\n  if (!partnerId) return;\n\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const partner = response.data?.data?.partner || {};\n    partnerPackage.value = partner.package || \"No package available\";\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\n// Fetch initial data on mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n});\n\n// Provide the user data to all components (including Navigation)\nprovide(\"user\", user); // Makes user data available to child components like Navigation\n\n// Watch for changes in user data and update the Navigation component\nwatch(\n  user,\n  (newUser) => {\n    console.log(\"User data updated:\", newUser);\n  },\n  { deep: true }\n);\n\n// Reactieve data-referenties\nconst data = ref([]); // Zorg ervoor dat data altijd een lege array is\nconst searchTerm = ref(\"\");\nconst selectedFilter = ref(\"All\");\nconst selectedUsers = ref([]); // Dit is een ref voor de geselecteerde gebruikers\nconst isPopupVisible = ref(false);\n\n// Computed properties voor UI-staat\nconst isDeleteButtonVisible = computed(() => selectedUsers.value.length > 0);\nconst emptyState = computed(() => data.value.length === 0);\n\nconst fetchData = async () => {\n  try {\n    const token = localStorage.getItem(\"jwtToken\");\n    const decodedToken = parseJwt(token); // Decode the token here\n    if (!decodedToken) {\n      throw new Error(\"Invalid token or failed to decode token\");\n    }\n\n    const response = await fetch(`${baseURL}/users`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n    const result = await response.json();\n\n    const userRole = decodedToken?.role;\n    if (userRole === \"platform_admin\") {\n      data.value = result.data.users;\n    } else {\n      const filteredUsers = result.data.users.filter((user) => {\n        const matchesPartner = user.partnerId === userPartnerId;\n        return matchesPartner;\n      });\n      data.value = filteredUsers;\n    }\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n};\n\n// Filter de gebruikers op basis van zoekterm en filter\nconst filteredUsers = computed(() => {\n  // Controleer eerst of data.value gedefinieerd is\n  if (!data.value) return [];\n\n  return data.value.filter((user) => {\n    const matchesSearchTerm =\n      user.firstname.toLowerCase().includes(searchTerm.value.toLowerCase()) ||\n      user.lastname.toLowerCase().includes(searchTerm.value.toLowerCase()) ||\n      user.email.toLowerCase().includes(searchTerm.value.toLowerCase());\n\n    const matchesFilter =\n      selectedFilter.value === \"All\" || user.role === selectedFilter.value;\n\n    return matchesSearchTerm && matchesFilter;\n  });\n});\n\n// Filter de gebruikers op basis van zoekterm en filter\nconst selectAllUsers = (isSelected) => {\n  selectedUsers.value = isSelected\n    ? filteredUsers.value.map((user) => user._id)\n    : []; // Wijzig de geselecteerde gebruikers als een lege array\n};\n\n// Schakel selectie voor een enkele gebruiker\nconst toggleSelection = (userId) => {\n  const index = selectedUsers.value.indexOf(userId);\n  if (index === -1) {\n    selectedUsers.value.push(userId);\n  } else {\n    selectedUsers.value.splice(index, 1);\n  }\n};\n\n// Verwijderen van geselecteerde gebruikers\nconst deleteSelectedUsers = async () => {\n  if (!selectedUsers.value.length) return;\n\n  try {\n    await Promise.all(\n      selectedUsers.value.map(async (userId) => {\n        const response = await fetch(`${baseURL}/users/${userId}`, {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`, // Change jwtToken to token here\n          },\n        });\n        if (!response.ok)\n          throw new Error(`HTTP error! status: ${response.status}`);\n      })\n    );\n\n    // Refresh data and clear selection after successful deletion\n    await fetchData();\n    selectedUsers.value = [];\n  } catch (error) {\n    console.error(\"Error deleting users:\", error);\n  }\n};\n\n// Popup-weergavebeheer\nconst showPopup = () => (isPopupVisible.value = true);\nconst hidePopup = () => (isPopupVisible.value = false);\nconst confirmDelete = async () => {\n  await deleteSelectedUsers();\n  hidePopup();\n};\n\n// Initialiseer component en haal data op\nonMounted(fetchData);\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\n  <div class=\"content\">\n    <h2>Users</h2>\n    <div class=\"popup\" v-if=\"isPopupVisible\">\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\n      <div class=\"text\">\n        <h2>Are you sure?</h2>\n        <p>Do you really want to delete this user?</p>\n        <div class=\"btns\">\n          <button @click=\"hidePopup\">Cancel</button>\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"menu\">\n      <div class=\"btns\">\n        <router-link exact to=\"/admin/add-new-user\" class=\"btn active\">\n          <p>Add new</p>\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\n        </router-link>\n        <div\n          class=\"btn display\"\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\n          @click=\"showPopup\"\n        >\n          <p>Delete item(s)</p>\n        </div>\n      </div>\n      <div class=\"search\">\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\n      </div>\n      <select class=\"filter\" v-model=\"selectedFilter\">\n        <option value=\"All\">All</option>\n        <option value=\"admin\">Admin</option>\n        <option value=\"user\">User</option>\n      </select>\n    </div>\n\n    <div class=\"search\">\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\n    </div>\n\n    <div class=\"users mobile\">\n      <div class=\"items\">\n        <router-link\n          v-if=\"filteredUsers && filteredUsers.length > 0\"\n          v-for=\"user in filteredUsers\"\n          :key=\"user._id\"\n          :to=\"{ name: 'EditUser', params: { id: user._id } }\"\n        >\n          <div class=\"elements\">\n            <div class=\"text\">\n              <p class=\"name\">{{ user.firstname }} {{ user.lastname }}</p>\n              <p>{{ user.email }}</p>\n              <p>{{ user.role }}</p>\n            </div>\n            <div\n              class=\"btn\"\n              :class=\"{ active: user.activeUnactive === 'active' }\"\n            >\n              <p>{{ user.activeUnactive }}</p>\n            </div>\n          </div>\n        </router-link>\n      </div>\n    </div>\n\n    <div class=\"users desktop\">\n      <div class=\"top\">\n        <input\n          type=\"checkbox\"\n          @change=\"selectAllUsers($event.target.checked)\"\n        />\n        <p>First name</p>\n        <p>Last name</p>\n        <p>Email</p>\n        <p>Role</p>\n        <p>Status</p>\n      </div>\n      <ul v-if=\"filteredUsers && filteredUsers.length > 0\" class=\"list\">\n        <li v-for=\"user in filteredUsers\" :key=\"user._id\">\n          <router-link\n            :to=\"{ name: 'EditUser', params: { id: user._id } }\"\n            class=\"user-link\"\n          >\n            <input\n              type=\"checkbox\"\n              @change=\"toggleSelection(user._id)\"\n              :checked=\"selectedUsers.includes(user._id)\"\n              @click.stop\n            />\n            <p>{{ user.firstname }}</p>\n            <p>{{ user.lastname }}</p>\n            <p>{{ user.email }}</p>\n            <p>{{ user.role }}</p>\n            <p>{{ user.activeUnactive }}</p>\n          </router-link>\n        </li>\n      </ul>\n      <div v-else-if=\"emptyState\" class=\"empty-state\">\n        <p>No users found matching the selected filters.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\nh2 {\n  text-align: center;\n  width: 100%;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n}\n\n.popup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.popup img {\n  width: 64px;\n  height: 64px;\n}\n\n.popup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.popup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.popup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.menu {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.menu .btns {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: center;\n}\n\n.btn.display {\n  display: none;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.btn.display p {\n  color: #d34848;\n}\n\n.search,\nselect {\n  padding: 4px 12px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-900);\n  background-color: var(--gray-900);\n  color: var(--text-color);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n}\n\n.search {\n  width: 100%;\n}\n\n.search {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.menu .search {\n  display: none;\n}\n\n.users.desktop {\n  background-color: var(--secondary-color);\n  width: 100%;\n  border-radius: 4px;\n  overflow-x: auto;\n}\n\n.users.mobile {\n  width: 100%;\n}\n\n.users.mobile .items {\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n}\n\n.users.mobile a {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  gap: 1.5em;\n  padding: 1em;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\n}\n\n.users.mobile a .image {\n  width: 64px;\n  height: 64px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 4px;\n  flex-shrink: 0;\n}\n\n.users.mobile a .elements {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 100%;\n  gap: 1em;\n}\n\n.users.mobile a .elements .text {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5em;\n}\n\n.users.mobile a .elements .btn {\n  border-radius: 0.75rem;\n  padding: 0.75rem 0.025rem;\n  width: 60px;\n  height: 26px;\n}\n\n.users.mobile a .elements .btn.active {\n  background-color: #53e971;\n  border: none;\n}\n\n.users.mobile a .elements .btn p {\n  opacity: 1;\n}\n\n.users.mobile a .elements .btn.active p {\n  color: #000;\n  opacity: 1;\n}\n\n.users.mobile a p {\n  font-size: 12px;\n  opacity: 0.6;\n}\n\n.users.mobile a p.name {\n  opacity: 1;\n}\n\n.users.desktop {\n  display: none;\n}\n\n.users::-webkit-scrollbar {\n  display: none;\n}\n\n.users .top {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  align-items: center;\n  border-radius: 4px 8px 0 0;\n  padding: 4px 16px;\n  background-color: var(--secondary-color);\n}\n\n.users .list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.users .list li {\n  display: flex;\n  flex-direction: row;\n  padding: 16px;\n}\n\n.items a:nth-child(odd) {\n  background-color: var(--gray-900);\n}\n\n.users .list li a {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  align-items: center;\n  column-gap: 16px;\n  row-gap: 16px;\n}\n\n.users .list li p {\n  color: var(--text-color);\n}\n\n.users .list li p:hover {\n  text-decoration: underline;\n}\n\n.users .top input,\n.users .list input {\n  width: 18px;\n  height: 18px;\n}\n\n.users .top {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 16px;\n  padding: 4px 16px;\n}\n\n.users .top p:nth-child(2),\n.users .list li a p:nth-child(2) {\n  width: 150px;\n}\n\n.users .top p:nth-child(3),\n.users .list li a p:nth-child(3) {\n  width: 190px;\n}\n\n.users .top p:nth-child(4),\n.users .list li a p:nth-child(4) {\n  width: 280px;\n}\n\n.users .top p:nth-child(5),\n.users .list li a p:nth-child(5) {\n  width: 100px;\n}\n\n.empty-state {\n  text-align: center;\n  padding: 20px;\n  font-size: 18px;\n  color: var(--text-color);\n}\n\n@media (min-width: 1200px) {\n  h2,\n  .search,\n  .partners.mobile {\n    display: none;\n  }\n\n  .menu .search {\n    display: flex;\n  }\n\n  .partners.desktop {\n    display: block;\n  }\n  .search {\n    width: auto;\n  }\n\n  .menu .search,\n  select {\n    min-width: 320px;\n  }\n}\n</style>\n","import script from \"./UsersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UsersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UsersPage.vue?vue&type=style&index=0&id=f2316310&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f2316310\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Bepaal de basis-URL op basis van de omgeving\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst router = useRouter();\n\n// Redirect naar login als er geen token is\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\nconst firstname = ref(\"\");\nconst lastname = ref(\"\");\nconst email = ref(\"\");\nconst password = ref(\"\");\nconst role = ref(\"customer\");\nconst status = ref(\"active\");\nconst partner = ref(\"\"); // Dit wordt de gekozen partner\nconst country = ref(\"\");\nconst city = ref(\"\");\nconst postalCode = ref(\"\");\nconst profileImage = ref(\"\");\nconst bio = ref(\"\");\nconst partners = ref([]); // Lijst van partners\n\nconst isValidEmail = (email) => {\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailPattern.test(email);\n};\n\n// Haal de partners op bij het laden van de component\nonMounted(async () => {\n  try {\n    const response = await fetch(`${baseURL}/partners`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Fout bij het ophalen van partners\");\n    }\n\n    const data = await response.json();\n    partners.value = data.data.partners || []; // Zorg ervoor dat we de juiste gegevens gebruiken\n  } catch (error) {\n    console.error(\"Error fetching partners:\", error.message);\n    alert(\"Er is een fout opgetreden bij het ophalen van de partners.\");\n  }\n});\n\nconst addUser = async () => {\n  if (\n    !firstname.value ||\n    !lastname.value ||\n    !email.value ||\n    !password.value ||\n    !role.value ||\n    !status.value\n  ) {\n    alert(\"Vul alle velden in.\");\n    return;\n  }\n\n  if (!isValidEmail(email.value)) {\n    alert(\"Vul een geldig e-mailadres in.\");\n    return;\n  }\n\n  try {\n    const userPayload = {\n      user: {\n        firstname: firstname.value,\n        lastname: lastname.value,\n        email: email.value,\n        password: password.value,\n        role: role.value,\n        activeUnactive: status.value,\n      },\n    };\n\n    // Voeg alleen optionele velden toe als ze niet leeg zijn\n    if (partner.value) userPayload.user.partner = partner.value;\n    if (country.value) userPayload.user.country = country.value;\n    if (city.value) userPayload.user.city = city.value;\n    if (postalCode.value) userPayload.user.postalCode = postalCode.value;\n    if (profileImage.value) userPayload.user.profileImage = profileImage.value;\n    if (bio.value) userPayload.user.bio = bio.value;\n\n    const userResponse = await fetch(`${baseURL}/users/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      body: JSON.stringify(userPayload),\n    });\n\n    if (!userResponse.ok) {\n      const errorDetail = await userResponse.json();\n      throw new Error(\n        `Fout bij het toevoegen van de gebruiker: ${errorDetail.message}`\n      );\n    }\n\n    const userResult = await userResponse.json();\n\n    // Navigeer naar gebruikerspagina\n    router.push(\"/admin/users\");\n  } catch (error) {\n    console.error(\"Error adding user or creating house style:\", error.message);\n    alert(\n      \"Er is een fout opgetreden bij het toevoegen van de gebruiker of het aanmaken van de huisstijl. Controleer de console voor details.\"\n    );\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Add new user</h1>\n    <form @submit.prevent=\"addUser\">\n      <!-- Vereiste velden -->\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"firstname\">First Name:</label>\n          <input v-model=\"firstname\" id=\"firstname\" type=\"text\" required />\n        </div>\n        <div class=\"column\">\n          <label for=\"lastname\">Last Name:</label>\n          <input v-model=\"lastname\" id=\"lastname\" type=\"text\" required />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"email\">Email:</label>\n          <input v-model=\"email\" id=\"email\" type=\"email\" required />\n        </div>\n        <div class=\"column\">\n          <label for=\"password\">Password:</label>\n          <input v-model=\"password\" id=\"password\" type=\"password\" required />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"role\">Role:</label>\n          <select v-model=\"role\" id=\"role\" required>\n            <option value=\"customer\">Customer</option>\n            <option value=\"partner_admin\">Partner Admin</option>\n            <option value=\"partner_owner\">Partner Owner</option>\n            <option value=\"platform_admin\">Platform Admin</option>\n          </select>\n        </div>\n        <div class=\"column\">\n          <label for=\"status\">Status:</label>\n          <select v-model=\"status\" id=\"status\" required>\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n        </div>\n      </div>\n\n      <!-- Optionele velden -->\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"partner\">Partner (optioneel):</label>\n          <select v-model=\"partner\" id=\"partner\">\n            <option value=\"\">Selecteer een partner</option>\n            <option\n              v-for=\"partner in partners\"\n              :key=\"partner._id\"\n              :value=\"partner.name\"\n            >\n              {{ partner.name }}\n            </option>\n          </select>\n        </div>\n        <div class=\"column\">\n          <label for=\"country\">Country (optioneel):</label>\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"city\">City (optioneel):</label>\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"postalCode\">Postal Code (optioneel):</label>\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"profileImage\">Profile Image URL (optioneel):</label>\n          <input v-model=\"profileImage\" id=\"profileImage\" type=\"text\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"bio\">Bio (optioneel):</label>\n          <textarea v-model=\"bio\" id=\"bio\" rows=\"4\"></textarea>\n        </div>\n      </div>\n\n      <!-- Submit button -->\n      <button type=\"submit\" class=\"btn active\">Add user</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  margin-bottom: 72px;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\nform .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect {\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n\n  form .row {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 120px;\n    width: 100%;\n  }\n}\n</style>\n","import script from \"./AddNewUserPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewUserPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewUserPage.vue?vue&type=style&index=0&id=5bf07f5f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bf07f5f\"]])\n\nexport default __exports__","<script setup>\nimport { ref, onMounted } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Bepaal de basis-URL op basis van de hostname\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst jwtToken = localStorage.getItem(\"jwtToken\");\n\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\nconst firstname = ref(\"\");\nconst lastname = ref(\"\");\nconst email = ref(\"\");\nconst password = ref(\"\");\nconst role = ref(\"customer\");\nconst status = ref(\"active\");\nconst company = ref(\"\"); // Bedrijf\nconst bio = ref(\"\"); // Bio\nconst country = ref(\"\"); // Land\nconst city = ref(\"\"); // Stad\nconst postalCode = ref(\"\"); // Postcode\nconst profileImage = ref(null); // Dit blijft hetzelfde\n\n// Functie voor bestandshantering\nconst handleFileChange = (event) => {\n  const file = event.target.files[0]; // Haal het eerste bestand op\n  profileImage.value = file; // Sla het bestand op in de profileImage variabele\n};\n\nconst userData = ref(null);\nconst userId = route.params.id;\n\nconst isValidEmail = (email) => {\n  // Controleer eerst of het emailadres leeg is\n  if (!email || typeof email !== \"string\") {\n    return false;\n  }\n\n  // Reguliere expressie voor e-mailvalidatie\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n  // Test de e-mail tegen de reguliere expressie\n  return emailPattern.test(email);\n};\n\nconst fetchUserData = async () => {\n  try {\n    const response = await fetch(`${baseURL}/users/${userId}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json(); // JSON-parsing hier\n    userData.value = data.data.user; // Wijzig hier naar 'userData.value' i.p.v. 'userData'\n\n    // Vul de form velden met de ontvangen data\n    if (userData.value) {\n      firstname.value = userData.value.firstname;\n      lastname.value = userData.value.lastname;\n      email.value = userData.value.email;\n      role.value = userData.value.role;\n      status.value = userData.value.activeUnactive;\n      country.value = userData.value.country; // Nieuw toegevoegd\n      city.value = userData.value.city; // Nieuw toegevoegd\n      postalCode.value = userData.value.postalCode; // Nieuw toegevoegd\n      profileImage.value = userData.value.profileImage; // Nieuw toegevoegd\n      bio.value = userData.value.bio; // Nieuw toegevoegd\n    }\n  } catch (error) {\n    console.error(\"Error fetching user data:\", error);\n  }\n};\n\nonMounted(() => {\n  fetchUserData();\n});\n\nconst updateUser = async () => {\n  if (\n    !firstname.value ||\n    !lastname.value ||\n    !email.value ||\n    !role.value ||\n    !status.value\n  ) {\n    alert(\"Vul alle velden in.\");\n    return;\n  }\n\n  if (!isValidEmail(email.value)) {\n    alert(\"Voer een geldig e-mailadres in.\");\n    return;\n  }\n\n  try {\n    const payload = {\n      user: {\n        firstname: firstname.value,\n        lastname: lastname.value,\n        email: email.value,\n        password: password.value, // Voeg hier de password toe als je het wilt bijwerken\n        role: role.value,\n        activeUnactive: status.value,\n        company: company.value,\n        bio: bio.value,\n        country: country.value,\n        city: city.value,\n        postalCode: postalCode.value,\n      },\n    };\n\n    const response = await fetch(`${baseURL}/users/${userId}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`, // Als je token nodig hebt voor authenticatie\n      },\n      body: JSON.stringify(payload),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const result = await response.json();\n    router.push(\"/admin/users\");\n  } catch (error) {\n    console.error(\"Error updating user:\", error);\n    alert(\"Er is een fout opgetreden bij het bijwerken van de gebruiker.\");\n  }\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Edit user</h1>\n    <form v-if=\"userData\" @submit.prevent=\"updateUser\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"firstname\">Voornaam:</label>\n          <input v-model=\"firstname\" id=\"firstname\" type=\"text\" required />\n        </div>\n        <div class=\"column\">\n          <label for=\"lastname\">Achternaam:</label>\n          <input v-model=\"lastname\" id=\"lastname\" type=\"text\" required />\n        </div>\n      </div>\n      <div class=\"column\">\n        <label for=\"email\">E-mail:</label>\n        <input v-model=\"email\" id=\"email\" type=\"email\" required />\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"role\">Rol:</label>\n          <select v-model=\"role\" id=\"role\">\n            <option value=\"customer\">Customer</option>\n            <option value=\"partner_admin\">Partner Admin</option>\n            <option value=\"partner_owner\">Partner Owner</option>\n            <option value=\"platform_admin\">Platform Admin</option>\n          </select>\n        </div>\n        <div class=\"column\">\n          <label for=\"status\">Status:</label>\n          <select v-model=\"status\" id=\"status\">\n            <option value=\"active\">Actief</option>\n            <option value=\"inactive\">Inactief</option>\n          </select>\n        </div>\n      </div>\n\n      <!-- Nieuwe velden toegevoegd -->\n      <div class=\"column\">\n        <label for=\"company\">Bedrijf:</label>\n        <input v-model=\"company\" id=\"company\" type=\"text\" />\n      </div>\n      <div class=\"column\">\n        <label for=\"bio\">Bio:</label>\n        <textarea v-model=\"bio\" id=\"bio\" rows=\"4\"></textarea>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"country\">Land:</label>\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"city\">Stad:</label>\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"postalCode\">Postcode:</label>\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\n        </div>\n        <div class=\"column\">\n          <label for=\"profileImage\">Profielafbeelding:</label>\n          <input type=\"file\" id=\"profileImage\" @change=\"handleFileChange\" />\n        </div>\n      </div>\n\n      <button type=\"submit\" class=\"btn active\">Edit user</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  margin-bottom: 72px;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\nform .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect {\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n\n  form .row {\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    gap: 120px;\n    width: 100%;\n  }\n}\n</style>\n","import script from \"./EditUser.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditUser.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditUser.vue?vue&type=style&index=0&id=452ef1d1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-452ef1d1\"]])\n\nexport default __exports__","<script setup>\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Basis-URL afhankelijk van de omgeving\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nconst router = useRouter();\n\n// Redirect naar login als er geen token is\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\n// Variabelen voor configuratiegegevens\nconst fieldName = ref(\"\");\nconst fieldType = ref(\"\");\nconst optionsInput = ref(\"\");\nconst options = ref([]); // Dit zal de kleur-ID's bevatten\n\n// Kleur input\nconst colorInput = ref(\"\"); // Input voor kleurconfiguratie\nconst selectedColors = ref([]); // Dit slaat de geselecteerde kleuren op als kleur-ID's\n\n// Functie om een unieke kleur-ID te genereren (UUID)\nconst generateUniqueId = () => {\n  return \"_\" + Math.random().toString(36).substr(2, 9); // Dit genereert een eenvoudige unieke ID\n};\n\n// Functie om kleur toe te voegen aan de geselecteerde kleuren\nconst addColor = () => {\n  if (colorInput.value && !selectedColors.value.includes(colorInput.value)) {\n    // Genereer een unieke ID voor de kleur\n    const colorId = generateUniqueId();\n\n    // Voeg de kleur-ID toe aan de opties-array en de naam voor weergave\n    selectedColors.value.push({ id: colorId, hex: colorInput.value });\n    options.value.push(colorId); // Voeg de kleur-ID toe aan de opties\n\n    colorInput.value = \"\"; // Reset de kleurinput\n  } else {\n    console.error(\"De geselecteerde kleur heeft geen bijbehorende kleur-ID.\");\n  }\n};\n\n// Functie om de configuratie toe te voegen\nconst addConfiguration = async () => {\n  const configurationPayload = {\n    fieldName: fieldName.value,\n    fieldType: fieldType.value,\n    options:\n      fieldType.value === \"Color\"\n        ? selectedColors.value.map((c) => c.hex) // Stuur hex-waarden als opties\n        : options.value,\n    isColor: fieldType.value === \"Color\",\n  };\n\n  try {\n    const response = await fetch(`${baseURL}/configurations`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      body: JSON.stringify(configurationPayload),\n    });\n\n    if (!response.ok) {\n      const errorDetail = await response.json();\n      console.error(\"Error from server:\", errorDetail);\n      throw new Error(\n        `Fout bij het toevoegen van de configuratie: ${errorDetail.message}`\n      );\n    }\n\n    const result = await response.json();\n    router.back();\n  } catch (error) {\n    console.error(\"Error adding configuration:\", error.message);\n    alert(\"Er is een fout opgetreden bij het toevoegen van de configuratie.\");\n  }\n};\n\nconst updateOptions = () => {\n  // Verwerk de tekst in het invoerveld en zet om naar een array\n  options.value = optionsInput.value\n    .split(\",\") // Split de string op komma's\n    .map((opt) => opt.trim()) // Verwijder eventuele spaties rond de waarde\n    .filter((opt) => opt); // Filter lege waarden eruit\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Nieuwe Configuratie Toevoegen</h1>\n    <form @submit.prevent=\"addConfiguration\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"fieldName\">Veldnaam:</label>\n          <input v-model=\"fieldName\" id=\"fieldName\" type=\"text\" required />\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"fieldType\">Veldtype:</label>\n          <select v-model=\"fieldType\" id=\"fieldType\" required>\n            <option value=\"\">Selecteer een veldtype</option>\n            <option value=\"Text\">Tekst</option>\n            <option value=\"Dropdown\">Dropdown</option>\n            <option value=\"Color\">Kleur</option>\n          </select>\n        </div>\n      </div>\n      <div class=\"row\" v-if=\"fieldType === 'Dropdown'\">\n        <div class=\"column\">\n          <label for=\"options\">Opties:</label>\n          <input\n            v-model=\"optionsInput\"\n            id=\"options\"\n            type=\"text\"\n            placeholder=\"Voer opties in, gescheiden door komma's\"\n            @input=\"updateOptions\"\n          />\n          <small>Bijv. Optie 1, Optie 2, Optie 3</small>\n        </div>\n      </div>\n      <!-- Kleur input -->\n      <div class=\"row\" v-if=\"fieldType === 'Color'\">\n        <div class=\"column\">\n          <label for=\"color\">Kleur:</label>\n          <input v-model=\"colorInput\" id=\"color\" type=\"color\" />\n          <button type=\"button\" @click=\"addColor\">Voeg Kleur Toe</button>\n          <small>Selecteer een kleur voor de configuratie</small>\n        </div>\n      </div>\n\n      <!-- Toon de geselecteerde kleuren als cirkels -->\n      <div v-if=\"fieldType === 'Color' && selectedColors.length > 0\">\n        <h4>Geselecteerde Kleuren:</h4>\n        <ul class=\"color-list\">\n          <li\n            v-for=\"(color, index) in selectedColors\"\n            :key=\"index\"\n            :style=\"{\n              backgroundColor: color.hex,\n            }\"\n            class=\"color-circle\"\n          >\n            {{ color.hex }}\n          </li>\n        </ul>\n      </div>\n\n      <button type=\"submit\" class=\"btn active\">Voeg Configuratie Toe</button>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n/* Stijl voor de pagina */\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 120px;\n  width: 100%;\n}\n\nform .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect {\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n.color-list {\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n}\n\n.color-circle {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  border: 2px solid #fff;\n}\n</style>\n","import script from \"./AddNewConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewConfigurationPage.vue?vue&type=style&index=0&id=ff5ef5de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ff5ef5de\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\nconst route = useRoute();\n\n// Auth & API setup\nconst token = localStorage.getItem(\"jwtToken\");\nconst baseURL =\n  window.location.hostname !== \"localhost\"\n    ? \"https://rebilt-backend.onrender.com/api/v1\"\n    : \"http://localhost:3000/api/v1\";\n\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.companyId || null;\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Reactive data for configuration form\nconst fieldName = ref(\"\");\nconst fieldType = ref(\"\");\nconst optionsInput = ref(\"\");\nconst colorInput = ref(\"\"); // For color type\nconst colorOptions = reactive([]); // Store color options with names and color codes\nconst options = reactive([]); // Dropdown options (names)\nconst isLoading = ref(false);\n\n// Helper function to fetch option names by ID\nconst fetchOptionNameById = async (optionId) => {\n  try {\n    const response = await axios.get(`${baseURL}/options/${optionId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    return response.data?.data?.name || `Unknown (${optionId})`;\n  } catch (error) {\n    console.error(`Error fetching option ${optionId}:`, error.message);\n    return `Unknown (${optionId})`;\n  }\n};\n\n// Update options based on input (for dropdown)\nconst updateOptions = () => {\n  options.splice(\n    0,\n    options.length,\n    ...optionsInput.value\n      .split(\",\")\n      .map((opt) => opt.trim())\n      .filter((opt) => opt !== \"\")\n  );\n};\n\n// Add color to the list of color options\n// Add color to the list of color options\nconst addColorToList = async () => {\n  if (colorInput.value) {\n    try {\n      // Make an API request to create a new color option\n      const response = await axios.post(\n        `${baseURL}/options`,\n        {\n          name: colorInput.value, // Store color code as the name\n          type: \"Color\", // Specify this is a Color option\n        },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n\n      const colorOption = response.data.data;\n      colorOptions.push({\n        name: colorInput.value, // Use the color code as the name (this is what we want)\n        colorCode: colorOption._id, // Store the _id of the created option\n      });\n      colorInput.value = \"\"; // Clear the color input after adding\n    } catch (error) {\n      console.error(\"Error adding color:\", error.message);\n      alert(\"Failed to add color. Please try again.\");\n    }\n  } else {\n    alert(\"Please select a color.\");\n  }\n};\n\n// Update the configuration\nconst updateConfiguration = async () => {\n  if (!fieldName.value.trim()) {\n    alert(\"Field name cannot be empty.\");\n    return;\n  }\n\n  // Check if dropdown options or color input is valid\n  if (fieldType.value === \"Dropdown\" && options.length === 0) {\n    alert(\"Please provide at least one option for the dropdown.\");\n    return;\n  }\n\n  if (fieldType.value === \"Color\" && colorOptions.length === 0) {\n    alert(\"Please select at least one color.\");\n    return;\n  }\n\n  const configId = route.params.id;\n  const configurationPayload = {\n    fieldName: fieldName.value,\n    fieldType: fieldType.value,\n    // For color, pass all the selected colors\n    options:\n      fieldType.value === \"Color\"\n        ? colorOptions.map((c) => c.name) // Use the color name (or colorCode if preferred) instead of the _id\n        : options,\n    ...(fieldType.value === \"Color\" && { isColor: true }),\n  };\n\n  if (partnerId) {\n    configurationPayload.partnerId = partnerId;\n  }\n\n  try {\n    isLoading.value = true;\n    const response = await axios.put(\n      `${baseURL}/configurations/${configId}`,\n      configurationPayload,\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n\n    router.back();\n  } catch (error) {\n    console.error(\"Error updating configuration:\", error.message);\n    alert(\"Failed to update configuration. Please try again.\");\n  } finally {\n    isLoading.value = false;\n  }\n};\n\n// Update the configuration\n// Fetch configuration data\nconst fetchConfiguration = async () => {\n  const configId = route.params.id;\n  if (!configId) {\n    alert(\"Configuration ID is missing.\");\n    router.push(\"/configurations\");\n    return;\n  }\n\n  try {\n    const response = await axios.get(`${baseURL}/configurations/${configId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const config = response.data?.data || {};\n    fieldName.value = config.fieldName || \"\";\n    fieldType.value = config.fieldType || \"\";\n\n    // Handle dropdown and color field types\n    if (config.fieldType === \"Dropdown\" && Array.isArray(config.options)) {\n      const optionNames = await Promise.all(\n        config.options.map((optionId) => fetchOptionNameById(optionId))\n      );\n      options.splice(0, options.length, ...optionNames);\n      optionsInput.value = optionNames.join(\", \");\n    } else if (config.fieldType === \"Color\") {\n      // Fetch names for color options (colors are stored as IDs)\n      const colorDetails = await Promise.all(\n        config.options.map(async (colorId) => {\n          const name = await fetchOptionNameById(colorId);\n          return { name, colorCode: colorId }; // Store color name and code\n        })\n      );\n      colorOptions.splice(0, colorOptions.length, ...colorDetails); // Store color details\n      colorInput.value = colorDetails[0]?.colorCode || \"\"; // Set the first color option as default\n    }\n  } catch (error) {\n    console.error(\"Error fetching configuration:\", error.message);\n    alert(\"Failed to load configuration. Please try again.\");\n  }\n};\n\n// Fetch configuration on mount\nonMounted(() => {\n  fetchConfiguration();\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <h1>Edit Configuration</h1>\n\n    <form @submit.prevent=\"updateConfiguration\">\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"fieldName\">Field Name:</label>\n          <input\n            v-model=\"fieldName\"\n            id=\"fieldName\"\n            type=\"text\"\n            placeholder=\"Enter field name\"\n            required\n          />\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"column\">\n          <label for=\"fieldType\">Field Type:</label>\n          <select v-model=\"fieldType\" id=\"fieldType\" required>\n            <option value=\"\">Select field type</option>\n            <option value=\"Text\">Text</option>\n            <option value=\"Dropdown\">Dropdown</option>\n            <option value=\"Color\">Color</option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"fieldType === 'Dropdown'\">\n        <div class=\"column\">\n          <label for=\"options\">Options:</label>\n          <input\n            v-model=\"optionsInput\"\n            id=\"options\"\n            type=\"text\"\n            placeholder=\"Enter options separated by commas\"\n            @input=\"updateOptions\"\n          />\n          <small>Example: Option 1, Option 2, Option 3</small>\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"fieldType === 'Color'\">\n        <div class=\"column\">\n          <label for=\"color\">Color:</label>\n          <input v-model=\"colorInput\" id=\"color\" type=\"color\" required />\n          <button type=\"button\" @click=\"addColorToList\">Add Color</button>\n        </div>\n\n        <div class=\"column\">\n          <label>Current Colors:</label>\n          <ul class=\"color-list\">\n            <li\n              v-for=\"(color, index) in colorOptions\"\n              :key=\"index\"\n              class=\"color-item\"\n              :style=\"{ backgroundColor: color.colorCode }\"\n            >\n              {{ color.name }}\n              <!-- We use the color name here -->\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <button type=\"submit\" :disabled=\"isLoading\">\n          <span v-if=\"isLoading\">Saving...</span>\n          <span v-else>Save Configuration</span>\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<style scoped>\n/* CSS */\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\nform {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\nform .row {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n  gap: 120px;\n  width: 100%;\n}\n\nform .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\ninput,\nselect {\n  padding: 8px;\n  margin-bottom: 16px;\n  border-radius: 4px;\n  border: 1px solid var(--gray-700);\n  background-color: var(--gray-700);\n  color: white;\n}\n\nbutton {\n  color: white;\n  cursor: pointer;\n}\n\n.color-list {\n  list-style: none;\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  gap: 8px;\n}\n\n.color-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.color-circle {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  border: 1px solid var(--gray-900);\n}\n</style>\n","import script from \"./EditConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditConfigurationPage.vue?vue&type=style&index=0&id=5ec094ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5ec094ce\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, watch, provide, computed } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.companyId || null;\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Partner related data\nconst partnerPackage = ref(null);\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\n\n// Base URL depending on environment\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Provide the user data to all components (including Navigation)\nprovide(\"user\", user);\n\n// Watch for changes in user data and log updates\nwatch(\n  user,\n  (newUser) => {\n    console.log(\"User data updated:\", newUser);\n  },\n  { deep: true }\n);\n\nconst partnerName = ref(\"\");\nconst allDomains = ref([]);\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\nconst domainName = ref(\"\");\n\n// Computed property om domeinnaam zonder de extensie te tonen\nconst domainWithoutExtension = computed({\n  get() {\n    return domainName.value.replace(\".rebilt.be\", \"\");\n  },\n  set(value) {\n    domainName.value = value + \".rebilt.be\";\n  },\n});\n\n// Reactive references for partner data and configurations\nconst configurations = ref([]);\nconst partnerConfigurations = ref([]);\nconst loadingConfigurations = ref(false);\nconst optionsMap = reactive({});\nconst isDataLoaded = ref(false); // Loading status flag\n\n// Valid domain check computed property\nconst isValidDomain = computed(() => {\n  const domain = domainName.value.trim();\n  const domainWithoutExtension = domain.split(\".\")[0]; // Get the domain part before any extension\n\n  // Regular expression for valid domain name (only lowercase and hyphens)\n  const domainPattern = /^[a-z-]+$/; // Only lowercase letters and hyphens\n  const forbiddenExtensions = [\".be\", \".com\", \".nl\"];\n\n  // Check for uppercase letters\n  if (/[A-Z]/.test(domainWithoutExtension)) {\n    return {\n      isValid: false,\n      message: \"The domain name cannot contain uppercase letters.\",\n    };\n  }\n\n  // Check for numbers in the domain name (disallow digits)\n  if (/\\d/.test(domainWithoutExtension)) {\n    return {\n      isValid: false,\n      message: \"The domain name cannot contain numbers.\",\n    };\n  }\n\n  // Check if domain contains any forbidden extensions\n  if (forbiddenExtensions.some((ext) => domainWithoutExtension.includes(ext))) {\n    return {\n      isValid: false,\n      message: \"The domain name cannot contain .be, .com, .nl.\",\n    };\n  }\n\n  // Check if domain matches the valid pattern (only lowercase and hyphens)\n  if (!domainPattern.test(domainWithoutExtension)) {\n    return {\n      isValid: false,\n      message:\n        \"The domain name must only contain lowercase letters and hyphens.\",\n    };\n  }\n\n  return { isValid: true, message: \"\" };\n});\n\n// Fetch all partner domains to check for duplicates\nconst fetchAllDomains = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/partners/`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    if (!response.data || typeof response.data !== \"object\") {\n      console.error(\"Ongeldige API response structuur:\", response);\n      return [];\n    }\n\n    // Hier halen we de domeinen op uit de partners array\n    return response.data.data.partners.map((partner) => partner.domain);\n  } catch (error) {\n    console.error(\" Error fetching partner domains:\", error);\n    return [];\n  }\n};\n\nconst updateDomain = async () => {\n  if (!partnerId) return;\n\n  const domain = domainName.value.trim();\n\n  // Prevent appending .rebilt.be if it's already present\n  let fullDomain = domain;\n  if (!domain.endsWith(\".rebilt.be\")) {\n    fullDomain += \".rebilt.be\"; // Only append if it doesn't already have .rebilt.be\n  }\n\n  // Ensure that allDomains is an array\n  if (!Array.isArray(allDomains.value)) {\n    console.error(\"allDomains is not an array:\", allDomains.value);\n    isValidDomain.value = {\n      isValid: false,\n      message: \"Error: Domain list is not valid.\",\n    };\n    return;\n  }\n\n  // Check if domain is already taken\n  if (allDomains.value.includes(fullDomain)) {\n    isValidDomain.value = {\n      isValid: false,\n      message: \"Error: This domain name is already taken.\",\n    };\n    return;\n  }\n\n  const partnerData = {\n    name: partnerName.value,\n    package: partnerPackage.value,\n    domain: fullDomain,\n  };\n\n  try {\n    const response = await axios.put(\n      `${baseURL}/partners/${partnerId}`,\n      partnerData, // Data must be in the body of a PUT request\n      {\n        headers: { Authorization: `Bearer ${token}` }, // Correct headers for the request\n      }\n    );\n\n    if (response.status === 200) {\n      isValidDomain.value = {\n        isValid: true,\n        message: \"Domain updated successfully.\",\n      };\n    }\n  } catch (error) {\n    console.error(\"Error updating domain:\", error);\n    isValidDomain.value = {\n      isValid: false,\n      message: \"Failed to update the domain.\",\n    };\n  }\n};\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const userData = response.data?.data?.user || {};\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\nconst fetchPartnerData = async () => {\n  if (!partnerId) return;\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    const partner = response.data?.data?.partner || {};\n    partnerName.value = partner.name || \"No name available\";\n    partnerPackage.value = partner.package || \"No package available\";\n    domainName.value = partner.domain || \"\"; // Set initial domain value\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\nconst fetchConfigurations = async () => {\n  loadingConfigurations.value = true;\n  try {\n    const response = await axios.get(`${baseURL}/configurations`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    configurations.value = response.data?.data || [];\n  } catch (error) {\n    console.error(\"Error fetching configurations:\", error);\n    configurations.value = [];\n  } finally {\n    loadingConfigurations.value = false;\n  }\n};\n\nconst fetchPartnerConfigurations = async () => {\n  loadingConfigurations.value = true;\n  try {\n    const [configResponse, optionsResponse] = await Promise.all([\n      axios.get(`${baseURL}/partnerconfigurations`, {\n        headers: { Authorization: `Bearer ${token}` },\n      }),\n      axios.get(`${baseURL}/options`, {\n        headers: { Authorization: `Bearer ${token}` },\n      }),\n    ]);\n    const configs = configResponse.data?.data || [];\n    const options = optionsResponse.data?.data || [];\n\n    // Map options by their IDs\n    options.forEach((option) => {\n      optionsMap[option._id] = option;\n    });\n\n    // Filter configurations to only include those where the partnerId matches\n    partnerConfigurations.value = configs.filter(\n      (config) => config.partnerId === partnerId\n    );\n  } catch (error) {\n    console.error(\"Error fetching partner configurations or options:\", error);\n    partnerConfigurations.value = [];\n  } finally {\n    loadingConfigurations.value = false;\n  }\n};\n\n// Fetch initial data on mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n  await fetchPartnerConfigurations();\n  await fetchConfigurations();\n  isDataLoaded.value = true; // Data is fully loaded now\n\n  // Ensure you await the fetchAllDomains() promise\n  allDomains.value = await fetchAllDomains();\n});\n\n// Reactive data for product selection and deletion logic\nconst selectedConfigurations = ref([]);\nconst searchTerm = ref(\"\"); // Add this line in your setup() function\n\n// Select all configurations\nconst selectAllPartnerConfigurations = (isSelected) => {\n  selectedConfigurations.value = isSelected\n    ? partnerConfigurations.value.map((config) => config._id)\n    : []; // If selected, set to all partner configuration IDs, else empty array\n};\n\n// Function to toggle the selection of individual partner configuration\nconst toggleSelection = (configId) => {\n  const index = selectedConfigurations.value.indexOf(configId);\n  if (index === -1) {\n    selectedConfigurations.value.push(configId); // Add to selection\n  } else {\n    selectedConfigurations.value.splice(index, 1); // Remove from selection\n  }\n};\n\n// Show confirmation popup\nconst isPopupVisible = ref(false);\nconst showPopup = () => {\n  isPopupVisible.value = true;\n};\n\n// Hide confirmation popup\nconst hidePopup = () => {\n  isPopupVisible.value = false;\n};\n\nconst confirmDelete = async () => {\n  if (!isDataLoaded.value) {\n    console.error(\"Data is still loading. Please try again later.\");\n    return;\n  }\n\n  try {\n    const productsToDelete =\n      selectedConfigurations.value.length > 0\n        ? selectedConfigurations.value\n        : partnerConfigurations.value.map((config) => config._id);\n\n    // Start the deletion process\n    for (const id of productsToDelete) {\n      // Zoek naar de configuratie in de partner-configuraties\n      const existingConfig = partnerConfigurations.value.find(\n        (config) => config._id === id\n      );\n\n      if (!existingConfig) {\n        console.error(\n          `Configuration with ID ${id} not found in partner configurations.`\n        );\n        continue; // Skip this ID if it's not found\n      }\n\n      const response = await axios.delete(\n        `${baseURL}/partnerConfigurations/${id}`,\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n\n      if (response.status === 200) {\n        // Adjusted to 200 OK\n        // Verwijder de configuratie uit de partner configuraties\n        partnerConfigurations.value = partnerConfigurations.value.filter(\n          (config) => config._id !== id\n        );\n        // Optionally, also remove from all configurations\n        configurations.value = configurations.value.filter(\n          (config) => config._id !== id\n        );\n      } else {\n        throw new Error(`Failed to delete configuration with ID ${id}`);\n      }\n    }\n\n    // Reset de geselecteerde configuraties\n    selectedConfigurations.value = [];\n    hidePopup(); // Verberg de popup na succesvol verwijderen\n  } catch (error) {\n    console.error(\"Error deleting configurations:\", error);\n    alert(\"An error occurred while trying to delete configurations.\");\n  }\n};\n\nconst getFullConfiguration = (partnerConfig) => {\n  return (\n    configurations.value.find(\n      (config) => config._id === partnerConfig.configurationId\n    ) || {} // Return an empty object if no matching configuration is found\n  );\n};\n\n// Define the getOptionsNames function\nconst getOptionsNames = (optionIds) => {\n  if (!Array.isArray(optionIds) || optionIds.length === 0) {\n    return \"No options\"; // Return a default string if there are no options\n  }\n  return optionIds\n    .map((id) => optionsMap[id]?.name || \"Unknown option\")\n    .join(\", \");\n};\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\n  <div class=\"content\">\n    <div class=\"publishWebsite\">\n      <h2>Publish website</h2>\n      <div class=\"elements\">\n        <div class=\"column input\">\n          <label for=\"website\">Domain:</label>\n          <div class=\"input-container\">\n            <input\n              type=\"text\"\n              v-model=\"domainWithoutExtension\"\n              placeholder=\"your-domain\"\n            />\n            <span class=\"suffix\">.rebilt.be</span>\n          </div>\n          <!-- Display validation message -->\n          <span\n            :class=\"{\n              'error-message': !isValidDomain.isValid,\n              hidden: isValidDomain.isValid,\n            }\"\n          >\n            {{ isValidDomain.message || \"No errors yet\" }}\n          </span>\n        </div>\n        <div class=\"column\">\n          <!-- Disable button if domain is invalid -->\n          <button\n            @click=\"updateDomain\"\n            class=\"btn active\"\n            :disabled=\"!isValidDomain.isValid\"\n          >\n            Publish Domain\n          </button>\n\n          <div class=\"publishedNotPublished\">\n            <div\n              class=\"bullet\"\n              :style=\"{\n                backgroundColor: isValidDomain.isValid ? '#53e971' : 'red',\n              }\"\n            ></div>\n            <span\n              :style=\"{\n                color: isValidDomain.isValid ? '#53e971' : 'red',\n              }\"\n              >{{ isValidDomain.isValid ? \"Published\" : \"Not published\" }}</span\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"ourConfigurations\">\n      <h2>Our configurations</h2>\n      <!-- Delete confirmation popup -->\n      <div class=\"popup\" v-if=\"isPopupVisible\">\n        <h2>Are you sure?</h2>\n        <p>Do you really want to delete the selected item(s)?</p>\n        <div class=\"popup-buttons\">\n          <button @click=\"hidePopup\">Cancel</button>\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\n        </div>\n      </div>\n\n      <div class=\"elements\">\n        <!-- Actions menu -->\n        <div class=\"menu\">\n          <div class=\"btns\">\n            <router-link to=\"/admin/settings\" class=\"btn active\">\n              <p>Add New <img src=\"../../assets/icons/add.svg\" alt=\"icon\" /></p>\n            </router-link>\n            <div\n              class=\"btn display\"\n              :style=\"{\n                visibility:\n                  selectedConfigurations.length > 0 ? 'visible' : 'hidden',\n              }\"\n              @click=\"showPopup\"\n            >\n              <p>Delete item(s)</p>\n            </div>\n          </div>\n\n          <div class=\"search\">\n            <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n            <input placeholder=\"Search\" v-model=\"searchTerm\" />\n          </div>\n        </div>\n\n        <!-- Configurations table -->\n        <div class=\"configurations\">\n          <div class=\"top\">\n            <input\n              type=\"checkbox\"\n              @change=\"selectAllPartnerConfigurations($event.target.checked)\"\n            />\n            <p>Field Name</p>\n            <p>Type</p>\n            <p>Options</p>\n          </div>\n\n          <div class=\"table-container\">\n            <div\n              v-for=\"config in partnerConfigurations\"\n              :key=\"config._id\"\n              class=\"listItem\"\n            >\n              <input\n                type=\"checkbox\"\n                :checked=\"selectedConfigurations.includes(config._id)\"\n                @change=\"toggleSelection(config._id)\"\n              />\n              <router-link\n                :to=\"{\n                  name: 'EditConfiguration',\n                  params: { id: config.configurationId },\n                  query: { partnerId: config.partnerId },\n                }\"\n              >\n                <p>\n                  {{ getFullConfiguration(config)?.fieldName || \"No name\" }}\n                </p>\n              </router-link>\n              <p>{{ getFullConfiguration(config)?.fieldType || \"No type\" }}</p>\n              <p>\n                {{\n                  getOptionsNames(getFullConfiguration(config)?.options) ||\n                  \"No options\"\n                }}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.publishWebsite .column span.error-message {\n  color: red;\n}\n\n.hidden {\n  visibility: hidden;\n}\n\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\n.publishWebsite,\n.ourConfigurations {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n}\n\n.publishWebsite .column {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.publishWebsite .column.input {\n  width: 100%;\n}\n\n.publishWebsite .column span {\n  text-transform: lowercase;\n  color: var(--text-color);\n}\n\n.input-container {\n  position: relative;\n  width: 100%;\n}\n\n.input-container input {\n  width: 100%;\n  padding: 0.25rem 0 0.25rem 1rem;\n  border: 1px solid var(--text-color);\n  border-radius: 4px;\n  transition: border-color 0.3s ease-in-out;\n  text-align: left;\n  height: 2rem;\n}\n\n.input-container .suffix {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--text-color);\n  opacity: 0.6;\n  pointer-events: none;\n  text-transform: lowercase;\n}\n\n.publishWebsite .elements,\n.ourConfigurations .elements {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.publishedNotPublished {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.publishedNotPublished .bullet {\n  width: 0.5rem;\n  height: 0.5rem;\n  border-radius: 50%;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n}\n\n.popup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.popup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.popup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.popup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.popup img {\n  width: 64px;\n  height: 64px;\n}\n\n.menu {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.menu .btns {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: center;\n}\n\n.btn {\n  font-size: 1rem;\n}\n.btn.display {\n  visibility: hidden;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.btn.display p {\n  color: #d34848;\n}\n\n.search,\nselect {\n  padding: 4px 12px;\n  border-radius: 4px;\n  border: none;\n  border: 1px solid var(--gray-900);\n  background-color: var(--gray-900);\n  color: var(--text-color);\n  width: 320px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.configurations {\n  background-color: var(--secondary-color);\n  width: 100%;\n  border-radius: 4px;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n\n.configurations::-webkit-scrollbar {\n  display: none;\n}\n\n.configurations .top {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-radius: 4px 8px 0 0;\n  gap: 16px;\n  padding: 4px 16px;\n  background-color: var(--secondary-color);\n}\n\n.configurations .list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.configurations .listItem {\n  display: flex;\n  flex-direction: row;\n  padding: 16px;\n  gap: 16px;\n}\n\n.configurations .desktop .list li:nth-child(odd) {\n  background-color: var(--gray-900);\n}\n\n.configurations .listItem a {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  align-items: center;\n  column-gap: 16px;\n  row-gap: 16px;\n}\n\n.configurations .top p,\n.configurations .listItem p {\n  color: var(--text-color);\n}\n\n.configurations .top p:nth-child(1),\n.configurations .listItem p:nth-child(1) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(2),\n.configurations .listItem p:nth-child(2) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(3),\n.configurations .listItem p:nth-child(3) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(4),\n.configurations .listItem p:nth-child(4) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(5),\n.configurations .listItem p:nth-child(5) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(6),\n.configurations .listItem p:nth-child(6) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(7),\n.configurations .listItem p:nth-child(7) {\n  width: 200px;\n}\n\n.configurations .listItem p:hover {\n  text-decoration: underline;\n}\n\n.no-configurations {\n  padding: 16px;\n  text-align: center;\n  color: var(--text-color);\n}\n\n@media (min-width: 768px) {\n  .publishWebsite .elements {\n    flex-direction: row;\n    align-items: flex-end;\n  }\n\n  .publishWebsite .btn {\n    white-space: nowrap;\n  }\n}\n</style>\n","import script from \"./MyConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyConfigurationsPage.vue?vue&type=style&index=0&id=2e116ee9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2e116ee9\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst decodeToken = (token) => {\n  if (!token) return null;\n  const base64Payload = token.split(\".\")[1];\n  const decodedPayload = JSON.parse(atob(base64Payload));\n  return decodedPayload; // Dit bevat de payload, inclusief de partner-id\n};\n\n// JWT-token controle\nconst jwtToken = localStorage.getItem(\"jwtToken\");\nif (!jwtToken) {\n  router.push(\"/login\");\n}\n\nconst decoded = decodeToken(token);\nconst decodedToken = decodeToken(jwtToken);\nconst userPartnerId = decodedToken?.companyId;\n\nconst parseJwt = (token) => {\n  try {\n    const base64Url = token.split(\".\")[1];\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const jsonPayload = decodeURIComponent(\n      atob(base64)\n        .split(\"\")\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n        .join(\"\")\n    );\n    return JSON.parse(jsonPayload);\n  } catch (error) {\n    console.error(\"Error parsing JWT:\", error);\n    return null;\n  }\n};\n\nconst tokenPayload = parseJwt(token);\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.partnerId || null;\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Base URL for API calls\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Partner related data\nconst partnerPackage = ref(null);\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const userData = response.data?.data?.user || {};\n    // Update the user object\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Fetch partner data (if applicable)\nconst fetchPartnerData = async () => {\n  if (!partnerId) return;\n\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const partner = response.data?.data?.partner || {};\n    partnerPackage.value = partner.package || \"No package available\";\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\n// Fetch initial data on mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n});\n\n// Provide the user data to all components (including Navigation)\nprovide(\"user\", user); // Makes user data available to child components like Navigation\n\n// Reactive variables for configurations and options\nconst configurations = ref([]);\nconst selectedConfigurations = ref([]);\nconst allOptions = ref([]); // To hold all options (ID -> name mapping)\nconst searchTerm = ref(\"\");\nconst showDeletePopup = ref(false); // To control the visibility of the delete popup\nconst isDeleteButtonVisible = computed(\n  () => selectedConfigurations.value.length > 0\n);\n\n// Fetch configurations data\nconst fetchConfigurations = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/configurations`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    configurations.value = response.data?.data || [];\n    fetchOptions();\n  } catch (error) {\n    console.error(\"Error fetching configurations:\", error);\n  }\n};\n\n// Fetch options data (used to map option IDs to option names)\nconst fetchOptions = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/options`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    allOptions.value = response.data?.data || [];\n  } catch (error) {\n    console.error(\"Error fetching options:\", error);\n  }\n};\n\n// Filtering configurations based on the search term\nconst filteredConfigurations = computed(() => {\n  const lowerSearchTerm = searchTerm.value.toLowerCase();\n  return configurations.value.filter((config) =>\n    Object.values(config).join(\" \").toLowerCase().includes(lowerSearchTerm)\n  );\n});\n\n// Toggle selection logic for individual configurations\nconst toggleSelection = (configId) => {\n  const index = selectedConfigurations.value.indexOf(configId);\n  if (index > -1) {\n    selectedConfigurations.value.splice(index, 1);\n  } else {\n    selectedConfigurations.value.push(configId);\n  }\n};\n\n// Toggle select all logic\nconst toggleSelectAll = () => {\n  if (selectedConfigurations.value.length === configurations.value.length) {\n    selectedConfigurations.value = [];\n  } else {\n    selectedConfigurations.value = configurations.value.map(\n      (config) => config._id\n    );\n  }\n};\n\nconst getOptionName = (optionId) => {\n  const option = allOptions.value.find((opt) => opt._id === optionId);\n  return option ? option.name : \"Unknown\"; // Return the name or \"Unknown\" if not found\n};\n\n// Show the delete confirmation popup\nconst showPopup = () => {\n  showDeletePopup.value = true;\n};\n\n// Hide the delete confirmation popup\nconst hidePopup = () => {\n  showDeletePopup.value = false;\n};\n\n// Delete selected configurations\n// Function to delete the selected configurations\nconst deleteSelectedConfigurations = async () => {\n  if (selectedConfigurations.value.length === 0) {\n    return;\n  }\n\n  try {\n    // Iterate over each selected configuration\n    for (const configId of selectedConfigurations.value) {\n      // Send the DELETE request to the correct endpoint with the specific config ID\n      await axios.delete(`${baseURL}/configurations/${configId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n    }\n\n    // Optionally, refresh the list of configurations after deletion\n    await fetchConfigurations();\n\n    // Clear the selected configurations\n    selectedConfigurations.value = [];\n  } catch (error) {\n    console.error(\"Error deleting configurations:\", error);\n  }\n};\n\n// Fetch data on component mount\nonMounted(() => {\n  fetchConfigurations();\n});\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n\n  <div class=\"content\">\n    <div class=\"popup\" v-if=\"showDeletePopup\">\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\n      <div class=\"text\">\n        <h2>Are you sure?</h2>\n        <p>Do you really want to delete this item(s)?</p>\n        <div class=\"btns\">\n          <button @click=\"hidePopup\">Cancel</button>\n          <button @click=\"deleteSelectedConfigurations\" class=\"btn active\">\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"menu\">\n      <div class=\"btns\">\n        <router-link to=\"/admin/add-new-configuration\" class=\"btn active\">\n          Add New <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\n        </router-link>\n        <div\n          class=\"btn display\"\n          :style=\"{ visibility: isDeleteButtonVisible ? 'visible' : 'hidden' }\"\n          @click=\"showPopup\"\n        >\n          <p>Delete item(s)</p>\n        </div>\n      </div>\n      <div class=\"search\">\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\n      </div>\n    </div>\n\n    <!-- Configurations Table -->\n    <div class=\"configurations\">\n      <div class=\"top\">\n        <input\n          type=\"checkbox\"\n          @change=\"toggleSelectAll\"\n          :checked=\"\n            selectedConfigurations.length === configurations.value?.length\n          \"\n        />\n        <p>Field Name</p>\n        <p>Type</p>\n        <p>Options</p>\n        <p>Partner ID</p>\n      </div>\n\n      <div class=\"table-container\">\n        <div\n          v-for=\"config in filteredConfigurations\"\n          :key=\"config._id\"\n          class=\"listItem\"\n        >\n          <input\n            type=\"checkbox\"\n            :checked=\"selectedConfigurations.includes(config._id)\"\n            @change=\"toggleSelection(config._id)\"\n          />\n          <router-link\n            :to=\"{\n              name: 'EditConfiguration',\n              params: { id: config._id },\n              query: { partnerId: config.partnerId },\n            }\"\n          >\n            <p>{{ config.fieldName }}</p>\n            <p>{{ config.fieldType }}</p>\n            <p>\n              {{\n                config.options && Array.isArray(config.options)\n                  ? config.options.map(getOptionName).join(\", \")\n                  : \"\"\n              }}\n            </p>\n            <p>{{ config.partnerId || \"None\" }}</p>\n          </router-link>\n        </div>\n      </div>\n\n      <!-- No configurations message -->\n      <div v-if=\"!filteredConfigurations.length\" class=\"no-data\">\n        No configurations found.\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  width: 100%;\n  height: 100vh;\n}\n\n.overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  z-index: 999;\n}\n\n.popup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.popup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.popup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.popup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.popup img {\n  width: 64px;\n  height: 64px;\n}\n\n.menu {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.menu .btns {\n  display: flex;\n  flex-direction: row;\n  gap: 16px;\n  align-items: center;\n}\n\n.btn.display {\n  visibility: hidden;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.btn.display p {\n  color: #d34848;\n}\n\n.search,\nselect {\n  padding: 4px 12px;\n  border-radius: 4px;\n  border: none;\n  border: 1px solid var(--gray-900);\n  background-color: var(--gray-900);\n  color: var(--text-color);\n  width: 320px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 4px;\n}\n\n.search input {\n  color: var(--text-color);\n}\n\n.configurations {\n  background-color: var(--secondary-color);\n  width: 100%;\n  border-radius: 4px;\n  overflow-x: auto;\n  white-space: nowrap;\n}\n\n.configurations::-webkit-scrollbar {\n  display: none;\n}\n\n.configurations .top {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-radius: 4px 8px 0 0;\n  gap: 16px;\n  padding: 4px 16px;\n  background-color: var(--secondary-color);\n}\n\n.configurations .list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.configurations .listItem {\n  display: flex;\n  flex-direction: row;\n  padding: 16px;\n  gap: 16px;\n}\n\n.configurations .listItem:nth-child(even) {\n  background-color: rgb(var(--primary-color), 0.1);\n}\n\n.configurations .listItem a {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  align-items: center;\n  column-gap: 16px;\n  row-gap: 16px;\n}\n\n.configurations .top p,\n.configurations .listItem p {\n  color: var(--text-color);\n}\n\n.configurations .top p:nth-child(1),\n.configurations .listItem p:nth-child(1) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(2),\n.configurations .listItem p:nth-child(2) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(3),\n.configurations .listItem p:nth-child(3) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(4),\n.configurations .listItem p:nth-child(4) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(5),\n.configurations .listItem p:nth-child(5) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(6),\n.configurations .listItem p:nth-child(6) {\n  width: 200px;\n}\n\n.configurations .top p:nth-child(7),\n.configurations .listItem p:nth-child(7) {\n  width: 200px;\n}\n\n.configurations .listItem p:hover {\n  text-decoration: underline;\n}\n\n.no-configurations {\n  padding: 16px;\n  text-align: center;\n  color: var(--text-color);\n}\n</style>\n","import script from \"./ManageConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ManageConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ManageConfigurationsPage.vue?vue&type=style&index=0&id=73694da4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73694da4\"]])\n\nexport default __exports__","<script setup>\nimport { ref, reactive, onMounted, watch, provide } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nimport Navigation from \"../../components/navComponent.vue\";\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\n\n// Router setup\nconst router = useRouter();\n\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\nconst user = reactive({\n  firstName: \"\",\n  lastName: \"\",\n  email: \"\",\n  newEmail: \"\",\n  oldEmail: \"\",\n  password: \"\",\n  newPassword: \"\",\n  oldPassword: \"\",\n  newPasswordRepeat: \"\",\n  country: \"\",\n  city: \"\",\n  postalCode: \"\",\n  profilePicture: \"\",\n  bio: \"\",\n  role: \"\",\n  activeUnactive: true,\n});\n\n// Authentication and token handling\nconst token = localStorage.getItem(\"jwtToken\");\nif (!token) {\n  router.push(\"/login\");\n}\n\nconst parseJwt = (token) => {\n  const base64Url = token.split(\".\")[1];\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const jsonPayload = decodeURIComponent(\n    atob(base64)\n      .split(\"\")\n      .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\n      .join(\"\")\n  );\n  return JSON.parse(jsonPayload);\n};\n\nconst tokenPayload = parseJwt(token); // Gebruik hier het token dat je hebt\nconst userId = tokenPayload?.userId;\nconst partnerId = tokenPayload?.companyId;\nconst showSaveButton = ref(false);\n\nconst onConfigurationChange = () => {\n  showSaveButton.value = true; // Maak de \"Save\"-knop zichtbaar\n};\n\nif (!userId) {\n  router.push(\"/login\");\n}\n\n// Base URL for API calls\nconst isProduction = window.location.hostname !== \"localhost\";\nconst baseURL = isProduction\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\n  : \"http://localhost:3000/api/v1\";\n\n// Array om de configuraties op te slaan\nconst allConfigurations = ref([]); // Correcte initialisatie van ref\nconst partnerConfigurations = ref([]);\nconst selectedConfigurations = ref([]);\n\nconst isConfigurationSelected = (configurationId) => {\n  const partnerConfigIds = new Set(\n    partnerConfigurations.value.map((config) => config._id)\n  );\n  return partnerConfigIds.has(configurationId);\n};\n\n// Ophalen van alle configuraties\nconst fetchConfigurations = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/configurations`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    allConfigurations.value = response.data?.data || [];\n    await fetchPartnerConfigurations();\n  } catch (error) {\n    console.error(\"Error fetching all configurations:\", error);\n  }\n};\n\nconst fetchPartnerConfigurations = async () => {\n  if (!partnerId) return;\n  try {\n    const response = await axios.get(`${baseURL}/partnerConfigurations`, {\n      headers: { Authorization: `Bearer ${token}` },\n      params: { partnerId },\n    });\n\n    partnerConfigurations.value = response.data?.data || [];\n\n    // Maak een set van partnerconfiguraties\n    const partnerConfigIds = new Set(\n      partnerConfigurations.value.map((config) => config.configurationId)\n    );\n\n    selectedConfigurations.value = allConfigurations.value.map((config) => {\n      const isChecked = partnerConfigIds.has(config._id);\n      return {\n        ...config,\n        checked: isChecked,\n        disabled: !partnerConfigIds.has(config._id),\n      };\n    });\n  } catch (error) {\n    console.error(\"Error fetching partner configurations:\", error);\n  }\n};\n\nconst saveUpdatedConfigurations = async () => {\n  try {\n    const promises = selectedConfigurations.value.map(async (config) => {\n      const payload = {\n        partnerId: partnerId,\n        configurationId: config._id, // Gebruik config._id als configurationId\n        options: config.options || {}, // Zorg ervoor dat de juiste structuur is\n      };\n\n      // Controleer of de partnerId gelijk is aan configurationId\n      if (partnerId === config._id) {\n        alert(\"PartnerId en ConfigurationId kunnen niet hetzelfde zijn!\");\n        return; // Stop de uitvoering hier als de waarden gelijk zijn\n      }\n\n      // Controleer of de configuratie al bestaat voor deze partner\n      const existingConfig = partnerConfigurations.value.find(\n        (pc) => pc.configurationId === config._id && pc.partnerId === partnerId\n      );\n\n      if (config.checked) {\n        // Als de configuratie nog niet bestaat voor deze partner, voeg deze toe\n        if (!existingConfig) {\n          return axios\n            .post(`${baseURL}/partnerConfigurations`, payload, {\n              headers: { Authorization: `Bearer ${token}` },\n            })\n            .then((response) => {\n              console.log(\"Config toegevoegd:\", response.data);\n            })\n            .catch((error) => {\n              console.error(\n                \"Fout bij toevoegen configuratie:\",\n                error.response ? error.response.data : error\n              );\n            });\n        }\n      } else {\n        // Verwijder de configuratie als de checkbox is uitgeschakeld\n        if (existingConfig) {\n          return axios\n            .delete(`${baseURL}/partnerConfigurations/${existingConfig._id}`, {\n              headers: { Authorization: `Bearer ${token}` },\n            })\n            .then((response) => {\n              console.log(\"Config verwijderd:\", response.data);\n            })\n            .catch((error) => {\n              console.error(\n                \"Fout bij verwijderen configuratie:\",\n                error.response ? error.response.data : error\n              );\n            });\n        }\n      }\n    });\n\n    // Wacht op alle beloftes\n    await Promise.all(promises);\n\n    alert(\"Configuraties zijn succesvol opgeslagen!\");\n    showSaveButton.value = false;\n\n    // Reset originele status na succesvolle opslag\n    selectedConfigurations.value.forEach((config) => {\n      config.originalChecked = config.checked;\n    });\n\n    // Partnerconfiguraties opnieuw ophalen om duplicaten te voorkomen\n    await fetchPartnerConfigurations();\n  } catch (error) {\n    console.error(\"Error saving updated configurations:\", error);\n    alert(\"Er is een fout opgetreden bij het opslaan van de configuraties.\");\n  }\n};\n\n// Ophalen van de configuraties wanneer de component wordt geladen\nonMounted(() => {\n  fetchConfigurations();\n});\n\nprovide(\"partnerId\", partnerId); // Geeft partnerId door aan andere componenten indien nodig\n\n// State for managing the profile and other popups\nconst activeSection = ref(\"My profile\");\nconst profileEditPopup = ref(false);\nconst changeEmailAddressPopup = ref(false);\nconst changePasswordPopup = ref(false);\nconst changeSubscriptionPopup = ref(false);\nconst deleteAccountPopup = ref(false);\nconst successProfileEditPopup = ref(false);\nconst succesEmailAddressPopup = ref(false);\nconst succesPasswordPopup = ref(false);\n\n// Partner related data\nconst partnerPackage = ref(null);\n\n// Method to set active section\nconst setActiveSection = (section) => {\n  activeSection.value = section;\n};\n\n// Fetch user profile data\nconst fetchUserProfile = async () => {\n  try {\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const userData = response.data?.data?.user || {};\n    // Update the user object\n    user.firstName = userData.firstname || \"\";\n    user.lastName = userData.lastname || \"\";\n    user.email = userData.email || \"\";\n    user.oldEmail = userData.email || \"\";\n    user.country = userData.country || \"\";\n    user.city = userData.city || \"\";\n    user.postalCode = userData.postalCode || \"\";\n    user.profilePicture = userData.profilePicture || \"\";\n    user.bio = userData.bio || \"\";\n    user.role = userData.role || \"\";\n    user.activeUnactive = userData.activeUnactive ?? true;\n  } catch (error) {\n    console.error(\"Error fetching user profile:\", error);\n  }\n};\n\n// Fetch partner data (if applicable)\nconst fetchPartnerData = async () => {\n  if (!partnerId) return;\n\n  try {\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n\n    const partner = response.data?.data?.partner || {};\n    partnerPackage.value = partner.package || \"No package available\";\n  } catch (error) {\n    console.error(\"Error fetching partner data:\", error);\n    partnerPackage.value = \"Error loading partner data\";\n  }\n};\n\n// Update user profile\nconst updateProfile = async () => {\n  try {\n    if (!user.firstName || !user.lastName || !user.email) {\n      throw new Error(\"First Name, Last Name, and Email are required fields.\");\n    }\n\n    const response = await axios.put(\n      `${baseURL}/users/${userId}`,\n      {\n        user: {\n          firstname: user.firstName,\n          lastname: user.lastName,\n          email: user.email,\n          password: user.password,\n          role: user.role,\n          activeUnactive: user.activeUnactive,\n          country: user.country,\n          city: user.city,\n          postalCode: user.postalCode,\n          profileImage: user.profilePicture,\n          bio: user.bio,\n        },\n      },\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n\n    if (response.status !== 200) {\n      throw new Error(`Unexpected response status: ${response.status}`);\n    }\n\n    closeProfileEditPopup();\n    opensuccessProfileEditPopup();\n    await fetchUserProfile();\n  } catch (error) {\n    console.error(\"Error updating profile:\", error);\n    if (error.response) {\n      console.error(\"Server responded with error:\", error.response.data);\n    }\n  }\n};\n\n// Update email address\nconst updateEmailAddress = async () => {\n  try {\n    const response = await axios.put(\n      `${baseURL}/users/${userId}`,\n      { user: { email: user.newEmail } },\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n    closeChangeEmailAddressPopup();\n    openSuccesChangeEmailAddressPopup();\n    await fetchUserProfile();\n  } catch (error) {\n    console.error(\"Error updating email:\", error);\n  }\n};\n\n// Update password\nconst updatePassword = async () => {\n  try {\n    if (!user.oldPassword || !user.newPassword || !user.newPasswordRepeat) {\n      throw new Error(\n        \"Please enter the old password, the new password, and the repetition of the new password.\"\n      );\n    }\n\n    if (user.newPassword !== user.newPasswordRepeat) {\n      throw new Error(\n        \"The new password and the repetition of the new password do not match.\"\n      );\n    }\n\n    const response = await axios.put(\n      `${baseURL}/users/${userId}`,\n      {\n        user: {\n          oldPassword: user.oldPassword,\n          newPassword: user.newPassword,\n        },\n      },\n      { headers: { Authorization: `Bearer ${token}` } }\n    );\n    closeChangePasswordPopup();\n    openSuccesChangePasswordPopup();\n  } catch (error) {\n    console.error(\"Error updating password:\", error);\n  }\n};\n\n// Handle account deletion\nconst handleDeleteAccount = async () => {\n  try {\n    await axios.delete(`${baseURL}/users/${userId}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    localStorage.removeItem(\"jwtToken\");\n    router.push(\"/login\");\n  } catch (error) {\n    console.error(\"Error deleting account:\", error);\n  }\n};\n\n// Popup control functions\nconst openEditPopup = () => (profileEditPopup.value = true);\nconst closeProfileEditPopup = () => (profileEditPopup.value = false);\n\nconst openChangeEmailAddressPopup = () =>\n  (changeEmailAddressPopup.value = true);\nconst closeChangeEmailAddressPopup = () =>\n  (changeEmailAddressPopup.value = false);\n\nconst openChangePasswordPopup = () => (changePasswordPopup.value = true);\nconst closeChangePasswordPopup = () => (changePasswordPopup.value = false);\n\nconst openDeleteAccountPopup = () => (deleteAccountPopup.value = true);\nconst closeDeleteAccountPopup = () => (deleteAccountPopup.value = false);\n\n// Success popups\nconst opensuccessProfileEditPopup = () =>\n  (successProfileEditPopup.value = true);\nconst openSuccesChangeEmailAddressPopup = () =>\n  (succesEmailAddressPopup.value = true);\nconst openSuccesChangePasswordPopup = () => (succesPasswordPopup.value = true);\n\nconst closeSuccessProfileEditPopup = () =>\n  (successProfileEditPopup.value = false);\nconst closeSuccessEmailAddressPopup = () =>\n  (succesEmailAddressPopup.value = false);\nconst closeSuccessChangePasswordPopup = () =>\n  (succesPasswordPopup.value = false);\n\n// Fetch initial data on mount\nonMounted(async () => {\n  await fetchUserProfile();\n  await fetchPartnerData();\n});\n\n// Provide the user data to all components (including Navigation)\nprovide(\"user\", user); // Makes user data available to child components like Navigation\n\n// Watch for changes in user data and update the Navigation component\nwatch(\n  user,\n  (newUser) => {\n    console.log(\"User data updated:\", newUser);\n  },\n  { deep: true }\n);\n\nwatch(\n  selectedConfigurations,\n  (newConfigurations) => {\n    // Sla de geselecteerde staat op in localStorage\n    const checkedState = newConfigurations.reduce((acc, config) => {\n      acc[config._id] = config.checked;\n      return acc;\n    }, {});\n\n    localStorage.setItem(\n      \"selectedConfigurations\",\n      JSON.stringify(checkedState)\n    );\n\n    // Controleer of er wijzigingen zijn in de geselecteerde configuraties\n    const hasChanges = newConfigurations.some(\n      (newConfig, index) =>\n        newConfig.checked !== selectedConfigurations.value[index]?.checked\n    );\n\n    showSaveButton.value = hasChanges;\n  },\n  { deep: true }\n);\n</script>\n\n<template>\n  <DynamicStyle />\n  <Navigation />\n  <div class=\"content\">\n    <div class=\"top\">\n      <h1>Settings</h1>\n      <font-awesome-icon icon=\"caret-right\" />\n    </div>\n\n    <div class=\"elements\">\n      <div class=\"menu\">\n        <p\n          :class=\"{ active: activeSection === 'My profile' }\"\n          @click=\"setActiveSection('My profile')\"\n        >\n          My profile\n        </p>\n        <p\n          :class=\"{ active: activeSection === 'Login settings' }\"\n          @click=\"setActiveSection('Login settings')\"\n        >\n          Login settings\n        </p>\n        <p\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\n          :class=\"{ active: activeSection === 'configurations' }\"\n          @click=\"setActiveSection('configurations')\"\n        >\n          Configurations\n        </p>\n        <p\n          v-if=\"user.role === 'partner_admin' && partnerPackage\"\n          :class=\"{ active: activeSection === 'Subscription' }\"\n          @click=\"setActiveSection('Subscription')\"\n          role=\"button\"\n          tabindex=\"0\"\n        >\n          Subscription\n        </p>\n      </div>\n\n      <div v-if=\"activeSection === 'My profile'\" class=\"myProfile\">\n        <div class=\"row\">\n          <h2 class=\"border\" style=\"visibility: hidden\">My profile</h2>\n\n          <button @click=\"openEditPopup\" class=\"btn\">\n            <img src=\"../../assets/icons/paintbrush.svg\" alt=\"icon\" />\n            <p>Edit</p>\n          </button>\n        </div>\n        <div class=\"info\">\n          <div class=\"pictureWithText\">\n            <div class=\"profilePicture\"></div>\n            <div>\n              <h3>{{ user.firstName }} {{ user.lastName }}</h3>\n              <p>{{ user.bio ? user.bio : user.role }}</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"personalInformation\">\n          <h3>Personal Information</h3>\n          <div class=\"fields\">\n            <div class=\"column\">\n              <label>First name</label>\n              <p>{{ user.firstName }}</p>\n            </div>\n            <div class=\"column\">\n              <label>Last name</label>\n              <p>{{ user.lastName }}</p>\n            </div>\n            <div class=\"column\">\n              <label>Email address</label>\n              <p>{{ user.email }}</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"address\">\n          <h3>Address</h3>\n          <div class=\"fields\">\n            <div class=\"column\">\n              <label>Country</label>\n              <p>{{ user.country }}</p>\n            </div>\n            <div class=\"column\">\n              <label>City</label>\n              <p>{{ user.city }}</p>\n            </div>\n            <div class=\"column\">\n              <label>Postal code</label>\n              <p>{{ user.postalCode }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"activeSection === 'Login settings'\" class=\"account\">\n        <h2 class=\"border\">Account</h2>\n        <div class=\"accountElements\">\n          <div class=\"column\">\n            <h3>Change email</h3>\n            <div class=\"row\">\n              <p>{{ user.email }}</p>\n              <button @click=\"openChangeEmailAddressPopup\" class=\"link\">\n                <p>Change email</p>\n              </button>\n            </div>\n          </div>\n          <div class=\"column\">\n            <h3>Change password</h3>\n            <div class=\"row\">\n              <p>&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;</p>\n              <button @click=\"openChangePasswordPopup\" class=\"link\">\n                <p>Change password</p>\n              </button>\n            </div>\n          </div>\n          <div class=\"column\">\n            <div class=\"row\">\n              <h3>Delete account</h3>\n              <button @click=\"openDeleteAccountPopup\" class=\"deletelink\">\n                <p>Delete account</p>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"activeSection === 'configurations'\" class=\"configurations\">\n        <h2 class=\"border\">Configurations</h2>\n\n        <!-- Voeg dit toe in je template om de status van de configuraties te controleren -->\n        <div v-if=\"!selectedConfigurations.length\">\n          Geen configuraties beschikbaar.\n        </div>\n\n        <div v-else class=\"configurationsItems\">\n          <div\n            v-for=\"config in selectedConfigurations\"\n            :key=\"config._id\"\n            class=\"row\"\n          >\n            <input\n              type=\"checkbox\"\n              v-model=\"config.checked\"\n              :id=\"'config-' + config._id\"\n              @change=\"onConfigurationChange\"\n              :checked=\"isConfigurationSelected(config._id)\"\n            />\n            <label :for=\"'config-' + config._id\">{{\n              config.fieldName || \"Naam niet beschikbaar\"\n            }}</label>\n          </div>\n        </div>\n\n        <div class=\"frameBtn\">\n          <button\n            v-if=\"showSaveButton\"\n            @click=\"saveUpdatedConfigurations\"\n            class=\"btn active\"\n          >\n            Save\n          </button>\n        </div>\n      </div>\n\n      <div\n        v-if=\"activeSection === 'Subscription' && user.role === 'partner_admin'\"\n        class=\"subscription\"\n      >\n        <h2 class=\"border\">Subscription</h2>\n        <div class=\"subscriptionElements\">\n          <div class=\"column\" v-if=\"partnerPackage\">\n            <h3>Package</h3>\n            <div class=\"row\">\n              <p>{{ partnerPackage }}</p>\n              <button @click=\"openChangeSubscriptionPopup\" class=\"link\">\n                <p>Change subscription</p>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <transition name=\"fade\">\n      <div v-if=\"profileEditPopup\" class=\"popup\">\n        <div class=\"popup-content\">\n          <div class=\"row\">\n            <span class=\"close\" @click=\"closeProfileEditPopup\">&times;</span>\n            <h2>Edit Profile</h2>\n          </div>\n          <div class=\"fields\">\n            <div class=\"row\">\n              <div class=\"column\">\n                <label>First name</label>\n                <input v-model=\"user.firstName\" placeholder=\"Voornaam\" />\n              </div>\n              <div class=\"column\">\n                <label>Last name</label>\n                <input v-model=\"user.lastName\" placeholder=\"Achternaam\" />\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"column\">\n                <label>Email address</label>\n                <input v-model=\"user.email\" placeholder=\"E-mail\" />\n              </div>\n              <div class=\"column\">\n                <label>Country</label>\n                <input v-model=\"user.country\" placeholder=\"Land\" />\n              </div>\n            </div>\n            <div class=\"row\">\n              <div class=\"column\">\n                <label>City</label>\n                <input v-model=\"user.city\" placeholder=\"Stad\" />\n              </div>\n              <div class=\"column\">\n                <label>Postal code</label>\n                <input v-model=\"user.postalCode\" placeholder=\"Postcode\" />\n              </div>\n            </div>\n            <div class=\"column\">\n              <label>Profile Picture URL</label>\n              <input\n                v-model=\"user.profilePicture\"\n                placeholder=\"URL voor profielfoto\"\n              />\n            </div>\n            <div class=\"column\">\n              <label>Bio</label>\n              <textarea v-model=\"user.bio\" placeholder=\"Bio\"></textarea>\n            </div>\n            <button @click=\"updateProfile\" class=\"btn\">Save</button>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"fade\">\n      <div v-if=\"changeEmailAddressPopup\" class=\"popup\">\n        <div class=\"popup-content\">\n          <div class=\"row\">\n            <span class=\"close\" @click=\"closeChangeEmailAddressPopup\"\n              >&times;</span\n            >\n            <h2>Change Email Address</h2>\n          </div>\n          <div class=\"fields\">\n            <div class=\"column\">\n              <label>Old Email Address</label>\n              <p>{{ user.email }}</p>\n            </div>\n            <div class=\"column\">\n              <label>New Email Address</label>\n              <input v-model=\"user.newEmail\" placeholder=\"example@mail.be\" />\n            </div>\n            <button @click=\"updateEmailAddress\" class=\"btn\">Save</button>\n          </div>\n        </div>\n      </div>\n    </transition>\n    <transition name=\"fade\">\n      <div v-if=\"changePasswordPopup\" class=\"popup\">\n        <div class=\"popup-content\">\n          <div class=\"row\">\n            <span class=\"close\" @click=\"closeChangePasswordPopup\">&times;</span>\n            <h2>Change Password</h2>\n          </div>\n          <div class=\"fields\">\n            <div class=\"column\">\n              <label>Old password</label>\n              <input\n                v-model=\"user.oldpassword\"\n                type=\"password\"\n                placeholder=\"\"\n              />\n            </div>\n            <div class=\"column\">\n              <label>New password</label>\n              <input\n                v-model=\"user.newpassword\"\n                type=\"password\"\n                placeholder=\"\"\n              />\n            </div>\n            <div class=\"column\">\n              <label>Repeat new password</label>\n              <input\n                type=\"password\"\n                v-model=\"user.newPasswordRepeat\"\n                placeholder=\"\"\n              />\n            </div>\n            <p class=\"errorMessage\"></p>\n          </div>\n          <button\n            class=\"btn\"\n            @click=\"updatePassword(user.oldpassword, user.newpassword)\"\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"fade\">\n      <div v-if=\"changeSubscriptionPopup\" class=\"popup\">\n        <div class=\"popup-content\">\n          <div class=\"row\">\n            <span class=\"close\" @click=\"closeChangeSubscriptionPopup\"\n              >&times;</span\n            >\n            <h2>Change Subscription</h2>\n          </div>\n          <div class=\"fields\">\n            <div class=\"column\">\n              <label>Package</label>\n              <select v-model=\"selectedPackage\">\n                <option\n                  value=\"standard\"\n                  :selected=\"selectedPackage === 'standard'\"\n                >\n                  Standard\n                </option>\n                <option value=\"plus\" :selected=\"selectedPackage === 'plus'\">\n                  Plus\n                </option>\n                <option value=\"pro\" :selected=\"selectedPackage === 'pro'\">\n                  Pro\n                </option>\n              </select>\n            </div>\n            <p class=\"errorMessage\">{{ errorMessage }}</p>\n          </div>\n          <button class=\"btn\" @click=\"updateSubscription\">Save</button>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"fade\">\n      <div v-if=\"deleteAccountPopup\" class=\"deletePopup\">\n        <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\n        <div class=\"text\">\n          <h2>Are you sure?</h2>\n          <p>Do you really want to delete your account?</p>\n          <div class=\"btns\">\n            <button @click=\"closeDeleteAccountPopup\">Cancel</button>\n            <button @click=\"handleDeleteAccount\" class=\"btn active\">\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"fade\">\n      <div v-if=\"successProfileEditPopup\" class=\"popup\">\n        <div class=\"successpopup\">\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\n          <div class=\"text\">\n            <div>\n              <h2>Succesfully!</h2>\n              <p>Your profile has been edited successfully.</p>\n            </div>\n            <button @click=\"closeSuccessProfileEditPopup\" class=\"btn active\">\n              OK\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"fade\">\n      <div v-if=\"succesEmailAddressPopup\" class=\"popup\">\n        <div class=\"successpopup\">\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\n          <div class=\"text\">\n            <div>\n              <h2>Succesfully!</h2>\n              <p>Your e-mail address has been changed.</p>\n            </div>\n            <button @click=\"closeSuccessEmailAddressPopup\" class=\"btn active\">\n              OK\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"fade\">\n      <div v-if=\"succesPasswordPopup\" class=\"popup\">\n        <div class=\"successpopup\">\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\n          <div class=\"text\">\n            <div>\n              <h2>Succesfully!</h2>\n              <p>Your password has been changed.</p>\n            </div>\n            <button @click=\"closeSuccessPasswordPopup\" class=\"btn active\">\n              OK\n            </button>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<style scoped>\n.content {\n  margin-bottom: 72px;\n}\n\n.top {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  width: 100%;\n}\n\n.top svg {\n  color: var(--titles-color);\n}\n\n.elements {\n  background-color: var(--secondary-color);\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  gap: 24px;\n  padding: 24px;\n  border-radius: 4px;\n}\n\n.elements .menu {\n  padding-right: 24px;\n  border-right: 1px solid rgba(255, 255, 255, 0.2);\n  display: none;\n  flex-direction: column;\n  gap: 16px;\n  width: 200px;\n}\n\n.elements .menu p {\n  padding-left: 24px;\n}\n\n.elements .menu p.active {\n  background-color: var(--primary-color);\n  padding: 4px 12px 4px 24px;\n  border-radius: 4px;\n  color: var(--text-color);\n}\n\n.elements .myProfile {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n}\n\n.elements .account {\n  width: 100%;\n}\n\n.elements .myProfile .info {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  justify-content: space-between;\n}\n\n.elements .myProfile .info .pictureWithText {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 16px;\n}\n\n.elements .myProfile .info .pictureWithText .profilePicture {\n  background-image: url(\"../../assets/images/Odette_lunettes.webp\");\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 64px;\n  height: 64px;\n  border-radius: 50%;\n}\n\n.elements .myProfile .info .pictureWithText div {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.info,\n.personalInformation,\n.address {\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n}\n\n.personalInformation,\n.address {\n  align-items: flex-start;\n}\n\n.myProfile .row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.myProfile .row .mobile {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n}\n\n.myProfile .row .mobile i {\n  color: var(--titles-color);\n}\n\n.myProfile .row .desktop {\n  display: none;\n}\n\n.configurations,\n.account,\n.subscription {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n}\n\n.configurations {\n  align-items: flex-start;\n}\n\n.configurations .configurationsItems {\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  gap: 16px;\n}\n\n.configurations .configurationsItems .row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n}\n\n.configurations .configurationsItems .row input {\n  border-radius: 4px;\n  width: auto;\n}\n\n.configurations .configurationsItems .row p {\n  color: var(--text-color);\n}\n\n.custom-checkbox {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  width: 24px;\n  height: 24px;\n  border: 2px solid white;\n  background-color: transparent;\n  cursor: pointer;\n  position: relative;\n}\n\n.custom-checkbox:checked {\n  background-color: var(--white);\n}\n\n.custom-checkbox:checked::before {\n  content: \"\\2714\";\n  font-size: 16px;\n  color: var(--black);\n  position: absolute;\n  top: -2px;\n  left: 5px;\n}\n\n.account .accountElements,\n.subscription .subscriptionElements {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.account .accountElements .column,\n.subscription .subscriptionElements .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.account .accountElements .column .row,\n.subscription .subscriptionElements .column .row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.account .accountElements .column .row .link,\n.subscription .subscriptionElements .column .row .link {\n  background-color: var(--gray);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.account .accountElements .column .row .link p,\n.subscription .subscriptionElements .column .row .link p {\n  color: var(--black);\n  font-weight: 400;\n}\n\n.account .accountElements .column .row .deletelink {\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.account .accountElements .column .row .deletelink p {\n  color: #d34848;\n}\n\n.fields {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  width: 100%;\n}\n\n.configurations .list {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  column-gap: 120px;\n  row-gap: 16px;\n}\n\n.configurations .list {\n  padding: 16px 0;\n}\n\n.fields .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.column p,\ninput,\ntextarea {\n  color: rgba(255, 255, 255, 0.4);\n  font-weight: 700;\n}\n\ninput,\ntextarea {\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  padding: 4px 8px;\n}\n\ntextarea {\n  background-color: transparent;\n  padding: 8px;\n  height: 100px;\n}\n\ninput,\ntextarea {\n  width: 100%;\n}\n\n.elements .display {\n  display: none;\n}\n\n.popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.successpopup {\n  background-color: var(--secondary-color);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 24px;\n  padding: 24px;\n  border-radius: 4px;\n}\n\n.successpopup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n}\n\n.successpopup .text .btn {\n  color: var(--text-color);\n}\n\n.successpopup .text div {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.popup-content {\n  background-color: white;\n  padding: 20px;\n  border-radius: 4px;\n  width: 88%;\n  position: relative;\n  align-items: flex-end;\n}\n\n.close {\n  position: absolute;\n  top: 10px;\n  right: 15px;\n  cursor: pointer;\n}\n\n.popup {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.popup-content {\n  background-color: var(--secondary-color);\n  padding: 24px;\n  border-radius: 4px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.popup-content .row {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 16px;\n  width: 100%;\n}\n\n.popup-content .fields {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 16px;\n  width: 100%;\n}\n\n.popup-content .row span {\n  font-size: 24px;\n}\n\n.popup-content .column {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  width: 100%;\n}\n\n.popup-content .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.popup-content .btns .btn {\n  color: var(--text-color);\n}\n\nbutton {\n  background-color: transparent;\n}\n\n.deletePopup {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 24px;\n  background-color: var(--secondary-color);\n  padding: 24px 32px;\n  border-radius: 4px;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.deletePopup img {\n  width: 64px;\n  height: 64px;\n}\n\n.deletePopup .text {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n}\n\n.deletePopup .text .btns {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.deletePopup .text .btns button {\n  border: none;\n  background: transparent;\n  cursor: pointer;\n}\n\n.deletePopup .text .btns .active {\n  background-color: #d34848;\n  color: var(--text-color);\n}\n\n.btn.display {\n  visibility: hidden;\n  border: 1px solid #d34848;\n  background-color: rgba(211, 72, 72, 0.2);\n  border-radius: 4px;\n  padding: 4px 12px;\n}\n\n.btn.display p,\n.errorMessage {\n  color: #d34848;\n}\n\n.frameBtn {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n}\n\n@media (min-width: 768px) {\n  .content {\n    margin: 0;\n  }\n  .elements .menu {\n    display: flex;\n  }\n\n  .fields,\n  .configurations .list {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    column-gap: 120px;\n    row-gap: 16px;\n  }\n}\n@media (min-width: 1200px) {\n  .popup-content {\n    width: 400px;\n  }\n}\n</style>\n","import script from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsPage.vue?vue&type=style&index=0&id=2538fbc6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2538fbc6\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport Login from \"./views/LoginPage.vue\";\nimport ForgotPassword from \"./views/ForgotPassword.vue\";\nimport VerificationCode from \"./views/VerificationCode.vue\";\nimport NewPassword from \"./views/NewPassword.vue\";\nimport Collections from \"./views/Collections.vue\";\nimport DetailsProduct from \"./views/DetailsProduct.vue\";\nimport Home from \"./views/admin/HomePage.vue\";\nimport AddNewProduct from \"./views/admin/AddNewProductPage.vue\";\nimport EditProduct from \"./views/admin/EditProduct.vue\";\nimport Partners from \"./views/admin/PartnersPage.vue\";\nimport AddNewPartner from \"./views/admin/AddNewPartnerPage.vue\";\nimport EditPartner from \"./views/admin/EditPartner.vue\";\nimport Orders from \"./views/admin/OrdersPage.vue\";\nimport EditOrder from \"./views/admin/EditOrder.vue\";\nimport Styling from \"./views/admin/StylingPage.vue\";\nimport Users from \"./views/admin/UsersPage.vue\";\nimport AddNewUser from \"./views/admin/AddNewUserPage.vue\";\nimport EditUser from \"./views/admin/EditUser.vue\";\nimport AddNewConfiguration from \"./views/admin/AddNewConfigurationPage.vue\";\nimport EditConfiguration from \"./views/admin/EditConfigurationPage.vue\";\nimport MyConfigurations from \"./views/admin/MyConfigurationsPage.vue\";\nimport ManageConfigurations from \"./views/admin/ManageConfigurationsPage.vue\";\nimport Settings from \"./views/admin/SettingsPage.vue\";\n\nexport default createRouter({\n  history: createWebHistory(),\n  routes: [\n    {\n      path: \"/\",\n      name: \"Collections\",\n      component: Collections,\n    },\n    {\n      path: \"/product/:productId\",\n      name: \"DetailsProduct\",\n      component: DetailsProduct,\n    },\n    {\n      path: \"/login\",\n      name: \"Login\",\n      component: Login,\n    },\n    {\n      path: \"/forgotPassword\",\n      name: \"ForgotPassword\",\n      component: ForgotPassword,\n    },\n    {\n      path: \"/verificationCode\",\n      name: \"VerificationCode\",\n      component: VerificationCode,\n    },\n    {\n      path: \"/newPassword\",\n      name: \"NewPassword\",\n      component: NewPassword,\n    },\n    {\n      path: \"/admin\",\n      name: \"Home\",\n      component: Home,\n    },\n    {\n      path: \"/admin/add-new-product\",\n      name: \"AddNewProduct\",\n      component: AddNewProduct,\n    },\n    {\n      path: \"/admin/edit-product/:id\",\n      name: \"EditProduct\",\n      component: EditProduct,\n    },\n    {\n      path: \"/admin/partners\",\n      name: \"Partners\",\n      component: Partners,\n    },\n    {\n      path: \"/admin/add-new-partner\",\n      name: \"AddNewPartner\",\n      component: AddNewPartner,\n    },\n    {\n      path: \"/admin/edit-partner/:id\",\n      name: \"EditPartner\",\n      component: EditPartner,\n    },\n    {\n      path: \"/admin/orders\",\n      name: \"Orders\",\n      component: Orders,\n    },\n    {\n      path: \"/admin/edit-order/:id\",\n      name: \"EditOrder\",\n      component: EditOrder,\n    },\n    {\n      path: \"/admin/styling\",\n      name: \"Styling\",\n      component: Styling,\n    },\n    {\n      path: \"/admin/users\",\n      name: \"Users\",\n      component: Users,\n    },\n    {\n      path: \"/admin/edit-user/:id\",\n      name: \"EditUser\",\n      component: EditUser,\n    },\n    {\n      path: \"/admin/add-new-user\",\n      name: \"AddNewUser\",\n      component: AddNewUser,\n    },\n    {\n      path: \"/admin/settings\",\n      name: \"Settings\",\n      component: Settings,\n    },\n    {\n      path: \"/admin/manageconfigurations\",\n      name: \"ManageConfigurations\",\n      component: ManageConfigurations,\n    },\n    {\n      path: \"/admin/myconfigurations\",\n      name: \"MyConfigurations\",\n      component: MyConfigurations,\n    },\n    {\n      path: \"/admin/add-new-configuration\",\n      name: \"AddNewConfiguration\",\n      component: AddNewConfiguration,\n    },\n    {\n      path: \"/admin/edit-configuration/:id\",\n      name: \"EditConfiguration\",\n      component: EditConfiguration,\n    },\n  ],\n});\n","import { createApp } from \"vue\";\nimport \"./style.css\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport { createPinia } from \"pinia\";\n\ncreateApp(App).use(router).use(createPinia()).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(489)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["script","__exports__","render","router","jwtToken","localStorage","getItem","tokenPayload","JSON","parse","atob","split","partnerId","companyId","isProduction","window","location","hostname","baseURL","fallbackStyle","primary_color","secondary_color","text_color","titles_color","background_color","button_color","logo_url","fontFamilyTitles","fontFamilyBodyText","black","white","blue_600","gray_100","gray_200","gray_300","gray_400","gray_500","gray_600","gray_700","gray_800","gray_900","error","getPartnerId","async","partnerName","currentRoute","value","query","partner","fetchPartnerID","getHouseStyleFromDatabase","id","response","get","headers","Authorization","huisstijlData","data","document","documentElement","style","setProperty","loadFonts","applyFallbackStyles","formattedPartnerName","replace","trim","partners","find","p","name","toLowerCase","_id","err","bodyFont","titleFont","addFontToDocument","fontUrl","existingLink","head","querySelector","link","createElement","rel","href","appendChild","console","warn","email","password","errorMessage","login","fetch","method","body","stringify","then","ok","Error","json","status","setItem","token","decodedToken","userRole","role","push","message","catch","route","isValidEmail","emailPattern","test","routeEmail","sendMail","post","path","verificationCode","successMessage","isValidCode","code","length","emailQuery","verifyCode","isAxiosError","newPassword","repeatNewPassword","info","updatePassword","uploadFileToCloudinary","file","productName","formData","FormData","append","sanitizeFolderName","folderName","fileExtension","pop","uploadEndpoint","includes","errorData","secure_url","dracoLoader","DRACOLoader","setDecoderPath","gltfLoader","setDRACOLoader","fetchProducts","partnerResponse","apiUrl","productResponse","products","fetchProductTypes","productTypesSet","Set","map","product","productType","productTypes","Array","from","getcolors","configResponse","configurations","selectedColors","forEach","config","options","option","optionId","colorName","some","o","color","addProductType","newType","isArray","add2DProduct","productCode","productPrice","description","brand","configurationId","images","log","imageArray","processedImages","imageUrl","url","configuration","configId","selectedOptions","existingOption","opt","img","formattedProductData","activeInactive","responseBody","add3DProduct","thumbnail","modelUrl","thumbnailUrl","startsWith","validConfigurations","Date","now","productData","modelFile","checkToken","fetchPartnerPackage","packageData","package","fetchPartnerByName","fetchPartnerById","loading","filters","activeFilter","fetchAndSetProducts","filteredProducts","fetchAndSetProductTypes","filter","setActiveFilter","getFirstImage","class","ref","autoplay","playsinline","width","height","video","faceMesh","canvas","ctx","camera","mounted","this","initCamera","methods","stream","navigator","mediaDevices","getUserMedia","facingMode","$refs","videoElement","srcObject","onloadedmetadata","play","initFaceMesh","FaceMesh","locateFile","setOptions","maxNumFaces","refineLandmarks","minDetectionConfidence","minTrackingConfidence","onResults","onFaceMeshResults","Camera","onFrame","send","image","start","results","canvasElement","getContext","clearRect","drawImage","multiFaceLandmarks","landmarks","drawConnectors","FACEMESH_TESSELATION","lineWidth","drawLandmarks","radius","showModel","isFaceTrackingVisible","toggleFaceTracking","onTouchStart","event","preventDefault","isMouseDown","touch","touches","prevMouseX","clientX","prevMouseY","clientY","onTouchMove","deltaX","deltaY","model","rotation","y","x","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","materials","layers","layersColors","currentPageIndex","productImages","selectedImage","productId","productModelFile","isLoading","logoUrl","optionNames","partnerPackage","rendererMobile","rendererDesktop","scene","objLoader","isModelLoaded","isSceneInitialized","isRendererInitialized","selectedOption","selectedOptionName","selectedItems","productConfigs","partnerConfigurationsCount","fetchPartnerName","onWindowResize","container","setSize","offsetWidth","offsetHeight","aspect","updateProjectionMatrix","logSceneLayers","initializeScene","innerWidth","innerHeight","position","set","lookAt","containerModelMobile","containerModelDesktop","contains","domElement","light","add","directionalLight","target","ambientLight","addEventListener","animate","requestAnimationFrame","extractMaterials","object","traverse","child","isMesh","material","load3DModel","filePath","loadOBJModel","loadGLBModel","load","gltf","box","setFromObject","center","getCenter","z","scale","getColorForLayer","newOption","applyColorToActiveLayer","activePage","fieldNameElement","fieldName","textContent","match","validColor","colorApplied","mat","selectOption","params","result","findFieldNameForOption","optionName","fetchNumberOfPartnerConfigurations","count","fetchPartnerConfigurations","productConfigurationId","optionNameById","existing","item","loadOptionsForConfig","fetchProductData","selectedOptionImages","enrichedConfigurations","Promise","all","selectedConfigId","configUrl","configResult","selectedOptionData","optionUrl","optionResponse","optionResult","existingConfigIndex","findIndex","selectedItem","optionNamesList","flatMap","fetchLogoUrl","previousPage","pages","querySelectorAll","overview","summary","nextButton","backButton","display","page","classList","remove","visibility","nextPage","showPreviousImage","currentIndex","indexOf","showNextImage","setSelectedImage","removeEventListener","newCode","immediate","user","firstName","lastName","newEmail","oldEmail","oldPassword","newPasswordRepeat","country","city","postalCode","profilePicture","bio","activeUnactive","parseJwt","base64Url","base64","jsonPayload","decodeURIComponent","c","charCodeAt","toString","slice","join","userId","getUserDataFromToken","payload","decodedPayload","firstname","lastname","fetchUserData","userData","primaryColor","secondaryColor","backgroundColor","textColor","logout","removeItem","getActiveIcon","routeName","defaultIcon","profileImage","URL","hoveredLabel","showLabel","label","hideLabel","fetchUserProfile","newprofileImage","fetchData","getUserCompanyId","variantsCount","reduce","partnerConfigurations","fetchConfigurations","partnerConfigs","String","partnerConfig","matchingConfig","selectedTypeFilter","searchTerm","selectedProducts","isDeleteButtonVisible","isPopupVisible","decoded","toggleSelection","index","splice","toggleSelectAll","checked","deleteSelectedProducts","showPopup","confirmDelete","deleteProducts","hidePopup","fetchOptionNames","customConfigs","totalOptionsCount","optionsCount","fetchPartnerData","configurationsResponse","partnerConfigsWithDetails","configDetailsResponse","configDetails","configurationDetails","toggleDropdown","buttonText","types","type","key","placeholder","handleAddOption","props","required","dropdownStates","Object","computed","isOpen","$emit","stopPropagation","default","isAdding","handleAddAction","colorOptions","isSelected","toggleColor","newColor","addColor","isAddingColor","selectedColorsCopy","newColorOption","multiple","handleColorImageUpload","$event","triggerFileInput","colorUploads","src","alt","previewImages","previewUrl","imgIndex","isImageUrl","Number","fileInput","getElementById","click","handleThumbnailUpload","files","validFiles","isImageFile","uploadedUrls","secureUrl","is3DFile","alert","render3DModel","containerId","defaults","uploadedFile","selectedType","selected","colorNames","fetchedColors","fetchcolors","fetchedColorsPerConfig","handleFileUpload","modelFileInput","addNewProduct","values","every","colors","fieldType","selectedColorOptions","colorImages","partnerPackageResponse","selectedConfigurationId","partnerData","rawFetchedColors","configColors","fetchedProductTypes","sole_top","colorUploadsArray","editProduct","updateProduct","fileUrl","userCompanyId","selectedFilter","selectedpartners","fetchpartners","deletepartners","filteredpartners","filteredBySearch","filteredByType","setInterval","street","contactEmail","contactPhone","subscriptionPackage","defaultStyles","addPartner","partnerPayload","address","postal_code","contact_email","contact_phone","errorDetail","updatePartner","getToken","orders","selectedOrders","fetchDataFromApi","assign","fetchOrders","ordersData","order","filteredOrders","matchesSearchTerm","matchesFilter","orderStatus","orderId","deleteSelectedOrders","deleteOrders","orderData","customer","houseNumber","lacesColor","soleBottomColor","soleTopColor","insideColor","outside1Color","outside2Color","outside3Color","lacesTexture","soleBottomTexture","soleTopTexture","insideTexture","outside1Texture","outside2Texture","outside3Texture","fetchOrderData","updateOrder","newUser","deep","titlesColor","buttonColor","fonts","logo","backgroundImage","selectedFontForTitles","selectedFontForText","GoogleFonts","fetchGoogleFonts","apiKey","googleFontsApi","items","font","family","selectFont","updateHouseStyleInDatabase","openColorPicker","field","input","button_Color","background_image_url","resetHouseStyle","defaultHuisstijl","houseStyleData","put","decodeToken","base64Payload","userPartnerId","selectedUsers","emptyState","users","filteredUsers","matchesPartner","selectAllUsers","deleteSelectedUsers","addUser","userPayload","userResponse","company","handleFileChange","updateUser","optionsInput","colorInput","generateUniqueId","Math","random","substr","colorId","hex","addConfiguration","configurationPayload","isColor","back","updateOptions","fetchOptionNameById","addColorToList","colorOption","colorCode","updateConfiguration","fetchConfiguration","colorDetails","allDomains","domainName","domainWithoutExtension","loadingConfigurations","optionsMap","isDataLoaded","isValidDomain","domain","domainPattern","forbiddenExtensions","isValid","ext","fetchAllDomains","updateDomain","fullDomain","endsWith","optionsResponse","configs","selectedConfigurations","selectAllPartnerConfigurations","productsToDelete","existingConfig","delete","getFullConfiguration","getOptionsNames","optionIds","allOptions","showDeletePopup","fetchOptions","filteredConfigurations","lowerSearchTerm","getOptionName","deleteSelectedConfigurations","showSaveButton","onConfigurationChange","allConfigurations","isConfigurationSelected","partnerConfigIds","has","isChecked","disabled","saveUpdatedConfigurations","promises","pc","originalChecked","activeSection","profileEditPopup","changeEmailAddressPopup","changePasswordPopup","changeSubscriptionPopup","deleteAccountPopup","successProfileEditPopup","succesEmailAddressPopup","succesPasswordPopup","setActiveSection","section","updateProfile","closeProfileEditPopup","opensuccessProfileEditPopup","updateEmailAddress","closeChangeEmailAddressPopup","openSuccesChangeEmailAddressPopup","closeChangePasswordPopup","openSuccesChangePasswordPopup","handleDeleteAccount","openEditPopup","openChangeEmailAddressPopup","openChangePasswordPopup","openDeleteAccountPopup","closeDeleteAccountPopup","closeSuccessProfileEditPopup","closeSuccessEmailAddressPopup","newConfigurations","checkedState","acc","hasChanges","newConfig","history","routes","component","Collections","DetailsProduct","ForgotPassword","VerificationCode","NewPassword","EditProduct","EditPartner","EditOrder","EditUser","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","r","d","definition","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","b","baseURI","self","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}