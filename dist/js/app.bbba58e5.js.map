{"version":3,"file":"js/app.bbba58e5.js","mappings":"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","sources":["webpack://frontend/./src/App.vue","webpack://frontend/./src/App.vue?7ccd","webpack://frontend/./src/components/DynamicStyle.vue","webpack://frontend/./src/components/DynamicStyle.vue?0edb","webpack://frontend/./src/views/LoginPage.vue","webpack://frontend/./src/views/LoginPage.vue?fce3","webpack://frontend/./src/views/ForgotPassword.vue","webpack://frontend/./src/views/ForgotPassword.vue?1314","webpack://frontend/./src/views/VerificationCode.vue","webpack://frontend/./src/views/VerificationCode.vue?4302","webpack://frontend/./src/views/NewPassword.vue","webpack://frontend/./src/views/NewPassword.vue?f536","webpack://frontend/./src/services/productService.js","webpack://frontend/./src/services/authService.js","webpack://frontend/./src/views/Collections.vue","webpack://frontend/./src/views/Collections.vue?31bb","webpack://frontend/./src/components/FaceTracking.vue","webpack://frontend/./src/components/FaceTracking.vue?f590","webpack://frontend/./src/components/ModelViewer.vue","webpack://frontend/./src/components/ModelViewer.vue?2345","webpack://frontend/./src/views/DetailsProduct.vue","webpack://frontend/./src/views/DetailsProduct.vue?22e4","webpack://frontend/./src/components/navComponent.vue","webpack://frontend/./src/components/navComponent.vue?b925","webpack://frontend/./src/views/admin/HomePage.vue","webpack://frontend/./src/views/admin/HomePage.vue?0670","webpack://frontend/./src/services/apiService.js","webpack://frontend/./src/services/configurationService.js","webpack://frontend/./src/components/DropdownToggle.vue","webpack://frontend/./src/components/DropdownToggle.vue?37d3","webpack://frontend/./src/components/DropdownToggleColor.vue","webpack://frontend/./src/components/DropdownToggleColor.vue?1995","webpack://frontend/./src/components/ColorSelectionToggle.vue","webpack://frontend/./src/components/ColorSelectionToggle.vue?b276","webpack://frontend/./src/components/ImageUpload.vue","webpack://frontend/./src/services/fileService.js","webpack://frontend/./src/components/ImageUpload.vue?68da","webpack://frontend/./src/views/admin/AddNewProductPage.vue","webpack://frontend/./src/views/admin/AddNewProductPage.vue?473b","webpack://frontend/./src/views/admin/EditProduct.vue","webpack://frontend/./src/views/admin/EditProduct.vue?c69e","webpack://frontend/./src/views/admin/PartnersPage.vue","webpack://frontend/./src/views/admin/PartnersPage.vue?734d","webpack://frontend/./src/views/admin/AddNewPartnerPage.vue","webpack://frontend/./src/views/admin/AddNewPartnerPage.vue?735f","webpack://frontend/./src/views/admin/EditPartner.vue","webpack://frontend/./src/views/admin/EditPartner.vue?6254","webpack://frontend/./src/views/admin/OrdersPage.vue","webpack://frontend/./src/views/admin/OrdersPage.vue?2d24","webpack://frontend/./src/views/admin/EditOrder.vue","webpack://frontend/./src/views/admin/EditOrder.vue?a2d4","webpack://frontend/./src/views/admin/StylingPage.vue","webpack://frontend/./src/views/admin/StylingPage.vue?ccb1","webpack://frontend/./src/views/admin/UsersPage.vue","webpack://frontend/./src/views/admin/UsersPage.vue?713f","webpack://frontend/./src/views/admin/AddNewUserPage.vue","webpack://frontend/./src/views/admin/AddNewUserPage.vue?1662","webpack://frontend/./src/views/admin/EditUser.vue","webpack://frontend/./src/views/admin/EditUser.vue?515a","webpack://frontend/./src/views/admin/AddNewConfigurationPage.vue","webpack://frontend/./src/views/admin/AddNewConfigurationPage.vue?3434","webpack://frontend/./src/views/admin/EditConfigurationPage.vue","webpack://frontend/./src/views/admin/EditConfigurationPage.vue?5cd8","webpack://frontend/./src/views/admin/MyConfigurationsPage.vue","webpack://frontend/./src/views/admin/MyConfigurationsPage.vue?9acd","webpack://frontend/./src/views/admin/ManageConfigurationsPage.vue","webpack://frontend/./src/views/admin/ManageConfigurationsPage.vue?aecc","webpack://frontend/./src/views/admin/SettingsPage.vue","webpack://frontend/./src/views/admin/SettingsPage.vue?8b88","webpack://frontend/./src/router.js","webpack://frontend/./src/main.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/chunk loaded","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/global","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/make namespace object","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/jsonp chunk loading","webpack://frontend/webpack/startup"],"sourcesContent":["<script setup></script>\r\n\r\n<template>\r\n  <router-view />\r\n</template>\r\n\r\n<style scoped></style>\r\n","import { render } from \"./App.vue?vue&type=template&id=b4742da8\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"vue-router\";\r\n\r\n// Router en JWT-token ophalen\r\nconst router = useRouter();\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nlet partnerId = tokenPayload.companyId;\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Definieer fallback stijlen\r\nconst fallbackStyle = {\r\n  primary_color: \"rgb(151, 71, 255)\",\r\n  secondary_color: \"rgb(26, 26, 26)\",\r\n  text_color: \"rgb(255, 255, 255)\",\r\n  titles_color: \"rgb(0, 113, 227)\",\r\n  background_color: \"rgb(0, 0, 0)\",\r\n  button_color: \"#146ef5\",\r\n  logo_url: \"../assets/images/rebilt-favicon.svg\",\r\n  fontFamilyTitles: \"Syne, serif\",\r\n  fontFamilyBodyText: \"DM Sans, sans-serif\",\r\n  black: \"#080808\",\r\n  white: \"#fff\",\r\n  blue_600: \"#0055d4\",\r\n  gray_100: \"#f0f0f0\",\r\n  gray_200: \"#d8d8d8\",\r\n  gray_300: \"#ababab\",\r\n  gray_400: \"#898989\",\r\n  gray_500: \"#757575\",\r\n  gray_600: \"#5a5a5a\",\r\n  gray_700: \"#363636\",\r\n  gray_800: \"#222\",\r\n  gray_900: \"#171717\",\r\n};\r\n\r\n// Refs voor partnerId en foutmeldingen\r\nconst error = ref(null);\r\n\r\n// Functie om partnerId op te halen\r\nconst getPartnerId = async () => {\r\n  if (jwtToken) {\r\n    const tokenPayload = JSON.parse(atob(jwtToken.split(\".\")[1]));\r\n    return tokenPayload?.companyId || null;\r\n  } else {\r\n    const partnerName = router.currentRoute.value.query.partner;\r\n    if (partnerName) {\r\n      return fetchPartnerID(partnerName);\r\n    }\r\n  }\r\n};\r\n\r\n// Functie om huisstijl op te halen\r\nconst getHouseStyleFromDatabase = async (id) => {\r\n  if (!id) {\r\n    applyFallbackStyles();\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n    const huisstijlData = response.data.data.partner || fallbackStyle;\r\n    document.documentElement.style.setProperty(\r\n      \"--primary-color\",\r\n      huisstijlData.primary_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--secondary-color\",\r\n      huisstijlData.secondary_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--text-color\",\r\n      huisstijlData.text_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--titles-color\",\r\n      huisstijlData.titles_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--background-color\",\r\n      huisstijlData.background_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--button-color\",\r\n      huisstijlData.button_color\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--background-image\",\r\n      `url(${huisstijlData.logo_url})`\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--title-font\",\r\n      huisstijlData.fontFamilyTitles\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--body-font\",\r\n      huisstijlData.fontFamilyBodyText\r\n    );\r\n    document.documentElement.style.setProperty(\"--black\", huisstijlData.black);\r\n    document.documentElement.style.setProperty(\"--white\", huisstijlData.white);\r\n    document.documentElement.style.setProperty(\r\n      \"--blue-600\",\r\n      huisstijlData.blue_600\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-100\",\r\n      huisstijlData.gray_100\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-200\",\r\n      huisstijlData.gray_200\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-300\",\r\n      huisstijlData.gray_300\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-400\",\r\n      huisstijlData.gray_400\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-500\",\r\n      huisstijlData.gray_500\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-600\",\r\n      huisstijlData.gray_600\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-700\",\r\n      huisstijlData.gray_700\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-800\",\r\n      huisstijlData.gray_800\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--gray-900\",\r\n      huisstijlData.gray_900\r\n    );\r\n\r\n    // Fonts laden\r\n    loadFonts(huisstijlData.fontFamilyBodyText, huisstijlData.fontFamilyTitles);\r\n  } catch (error) {\r\n    applyFallbackStyles();\r\n  }\r\n};\r\n\r\n// Asynchrone functie om partnerId op te halen uit de naam\r\nconst fetchPartnerID = async (partnerName) => {\r\n  try {\r\n    const formattedPartnerName = partnerName.replace(/([A-Z])/g, \" $1\").trim();\r\n    const response = await axios.get(\r\n      `${baseURL}/partners?partnerName=${formattedPartnerName}`\r\n    );\r\n\r\n    const partner = response.data.data.partners.find(\r\n      (p) => p.name.toLowerCase() === formattedPartnerName.toLowerCase()\r\n    );\r\n\r\n    return partner?._id || null;\r\n  } catch (err) {\r\n    error.value = \"Er is een fout opgetreden bij het ophalen van de partner.\";\r\n    return null;\r\n  }\r\n};\r\n\r\n// Fallback stijlen toepassen\r\nconst applyFallbackStyles = () => {\r\n  document.documentElement.style.setProperty(\r\n    \"--primary-color\",\r\n    fallbackStyle.primary_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--secondary-color\",\r\n    fallbackStyle.secondary_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--text-color\",\r\n    fallbackStyle.text_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--titles-color\",\r\n    fallbackStyle.titles_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--background-color\",\r\n    fallbackStyle.background_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--button-color\",\r\n    fallbackStyle.button_color\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--background-image\",\r\n    `url(${fallbackStyle.logo_url})`\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--title-font\",\r\n    fallbackStyle.fontFamilyTitles\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--body-font\",\r\n    fallbackStyle.fontFamilyBodyText\r\n  );\r\n  loadFonts(fallbackStyle.fontFamilyBodyText, fallbackStyle.fontFamilyTitles);\r\n};\r\n\r\n// Fonts laden\r\nconst loadFonts = (bodyFont, titleFont) => {\r\n  const addFontToDocument = (fontUrl) => {\r\n    const existingLink = document.head.querySelector(`link[href=\"${fontUrl}\"]`);\r\n    if (!existingLink) {\r\n      const link = document.createElement(\"link\");\r\n      link.rel = \"stylesheet\";\r\n      link.href = fontUrl;\r\n      document.head.appendChild(link);\r\n    }\r\n  };\r\n\r\n  if (bodyFont)\r\n    addFontToDocument(\r\n      `https://fonts.googleapis.com/css2?family=${bodyFont.replace(\r\n        / /g,\r\n        \"+\"\r\n      )}:wght@400;700&display=swap`\r\n    );\r\n  if (titleFont)\r\n    addFontToDocument(\r\n      `https://fonts.googleapis.com/css2?family=${titleFont.replace(\r\n        / /g,\r\n        \"+\"\r\n      )}:wght@400;700&display=swap`\r\n    );\r\n};\r\n\r\n// Component laden\r\nonMounted(async () => {\r\n  partnerId = await getPartnerId();\r\n  if (partnerId) {\r\n    await getHouseStyleFromDatabase(partnerId.value);\r\n  } else {\r\n    console.warn(\"Geen partner ID gevonden, fallback stijlen toepassen.\");\r\n    applyFallbackStyles();\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div></div>\r\n</template>\r\n","import script from \"./DynamicStyle.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DynamicStyle.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { ref } from \"vue\";\r\nimport router from \"../router\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst login = () => {\r\n  errorMessage.value = \"\";\r\n\r\n  if (!email.value || !password.value) {\r\n    errorMessage.value = \"Gelieve alle velden in te vullen.\";\r\n    return;\r\n  }\r\n\r\n  fetch(`${baseURL}/users/login`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email: email.value,\r\n      password: password.value,\r\n    }),\r\n  })\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        throw new Error(\"Login failed\");\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      if (data.status === \"success\") {\r\n        localStorage.setItem(\"jwtToken\", data.data.token);\r\n        const decodedToken = JSON.parse(atob(data.data.token.split(\".\")[1]));\r\n        const userRole = decodedToken.role;\r\n        if (userRole === \"partner_admin\" || userRole === \"partner_owner\") {\r\n          router.push(\"/admin\");\r\n        } else {\r\n          errorMessage.value = \"Geen toegang tot de admin sectie.\";\r\n        }\r\n        if (userRole === \"platform_admin\") {\r\n          router.push(\"/admin/partners\");\r\n        }\r\n      } else {\r\n        errorMessage.value = data.message || \"Inloggen mislukt.\";\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      errorMessage.value = \"Er is een fout opgetreden. Probeer het opnieuw.\";\r\n    });\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Welcome back</h1>\r\n        <form>\r\n          <div class=\"column\">\r\n            <label for=\"email\">Email</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"email\"\r\n              type=\"text\"\r\n              placeholder=\"johndoe@gmail.com\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"column\">\r\n            <label for=\"password\">Password</label>\r\n            <input\r\n              id=\"password\"\r\n              v-model=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"\"\r\n              @focus=\"showPlaceholder = false\"\r\n              @blur=\"showPlaceholder = password === ''\"\r\n            />\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"rememberMe\">\r\n              <input type=\"checkbox\" id=\"rememberMeCheckbox\" />\r\n              <label for=\"rememberMeCheckbox\">Remember me</label>\r\n            </div>\r\n\r\n            <router-link exact to=\"./ForgotPassword\">\r\n              Forgot password?\r\n            </router-link>\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n          <button class=\"btn active\" type=\"submit\" @click.prevent=\"login\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.row .rememberMe {\r\n  visibility: hidden;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.row .rememberMe input {\r\n  width: auto;\r\n}\r\n\r\n.row .rememberMe i,\r\n.row a {\r\n  color: rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.row a {\r\n  text-decoration: underline;\r\n}\r\n\r\n.rememberMe label,\r\n.row a {\r\n  font-size: 14px;\r\n}\r\n\r\nlabel,\r\ninput {\r\n  color: var(--text-color);\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n\r\ninput::placeholder {\r\n  color: rgba(255, 255, 255, 0.4);\r\n  font-weight: 400;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .elements {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: auto;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    width: 50%;\r\n    padding: 3rem;\r\n    margin: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=516a90d0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-516a90d0\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\n// Variabelen voor e-mail, verificatiecode en foutmeldingen\r\nconst email = ref(\"\");\r\nconst verificationCode = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\n// Functie voor e-mailvalidatie\r\nconst isValidEmail = (email) => {\r\n  if (!email || typeof email !== \"string\") {\r\n    return false;\r\n  }\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailPattern.test(email);\r\n};\r\n\r\n// Haal de 'email' queryparameter op via Vue Router\r\nonMounted(() => {\r\n  const routeEmail = route.query.email;\r\n  if (routeEmail) {\r\n    email.value = routeEmail;\r\n  }\r\n});\r\n\r\n// Controle of we in de productieomgeving draaien\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\" // Zorg dat dit HTTPS is voor productie\r\n  : \"http://localhost:3000/api/v1\"; // Gebruik HTTP voor lokaal\r\n\r\n// Functie om de e-mail te versturen naar de backend\r\nconst sendMail = async () => {\r\n  if (!isValidEmail(email.value)) {\r\n    errorMessage.value = \"Voer een geldig e-mailadres in.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/forgot-password`, {\r\n      email: email.value,\r\n    });\r\n\r\n    // Controleer of het antwoord succesvol is\r\n    if (response && response.status >= 200 && response.status < 300) {\r\n      errorMessage.value = \"\";\r\n      router.push({ path: \"/verificationCode\", query: { email: email.value } });\r\n    } else {\r\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\r\n    }\r\n  } catch (error) {\r\n    // Specifieke foutmelding voor een 404 of andere netwerkfouten\r\n    if (error.response) {\r\n      if (error.response.status === 404) {\r\n        errorMessage.value = \"Gebruiker niet gevonden.\";\r\n      } else if (error.response.status === 500) {\r\n        errorMessage.value =\r\n          \"Er is een serverfout opgetreden. Probeer het later opnieuw.\";\r\n        console.error(\"500 Error:\", error.response.data);\r\n      } else {\r\n        errorMessage.value = \"Er is een onbekende fout opgetreden.\";\r\n      }\r\n    } else {\r\n      errorMessage.value = \"Er is een probleem met het netwerk.\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Forgot password</h1>\r\n        <form @submit.prevent=\"sendMail\">\r\n          <div class=\"column\">\r\n            <label for=\"email\">Email</label>\r\n            <input\r\n              id=\"email\"\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"johndoe@gmail.com\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n          <button class=\"btn active\" type=\"submit\">Send mail</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* CSS-stijlen voor je formulier */\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .elements {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: auto;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    width: 50%;\r\n    padding: 3rem;\r\n    margin: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./ForgotPassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ForgotPassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ForgotPassword.vue?vue&type=style&index=0&id=1b2fe415&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1b2fe415\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst email = ref(\"\");\r\nconst verificationCode = ref(\"\");\r\nconst successMessage = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst isValidEmail = (email) => {\r\n  // Controleer eerst of het emailadres leeg is\r\n  if (!email || typeof email !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  // Reguliere expressie voor e-mailvalidatie\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n  // Test de e-mail tegen de reguliere expressie\r\n  return emailPattern.test(email);\r\n};\r\n\r\nconst isValidCode = (code) => {\r\n  // Controleer of de code een geldige string is\r\n  if (typeof code !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  // Trim de string en controleer of deze niet leeg is\r\n  return code.trim().length > 0;\r\n};\r\n\r\nonMounted(() => {\r\n  const emailQuery = route.query.email;\r\n\r\n  if (typeof emailQuery === \"string\") {\r\n    email.value = emailQuery;\r\n  } else if (emailQuery) {\r\n    console.warn(\"Unexpected email query type:\", typeof emailQuery);\r\n  }\r\n});\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst sendMail = async () => {\r\n  if (!isValidEmail(email.value)) {\r\n    errorMessage.value = \"Voer een geldig e-mailadres in.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/forgot-password`, {\r\n      email: email.value,\r\n    });\r\n\r\n    if (response && response.status >= 200 && response.status < 300) {\r\n      errorMessage.value = \"\";\r\n      router.push({ path: \"/verificationCode\", query: { email: email.value } });\r\n    } else {\r\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\r\n    }\r\n    successMessage.value = \"De mail is succesvol opnieuw verstuurd.\";\r\n  } catch (error) {\r\n    if (error.response && error.response.status === 404) {\r\n      errorMessage.value = \"Gebruiker niet gevonden.\";\r\n    } else {\r\n      errorMessage.value =\r\n        \"Er is een fout opgetreden bij het versturen van de e-mail.\";\r\n    }\r\n  }\r\n};\r\n\r\nconst verifyCode = async () => {\r\n  if (!isValidCode(verificationCode.value)) {\r\n    errorMessage.value = \"Voer een geldige verificatiecode in.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/verify-code`, {\r\n      code: verificationCode.value,\r\n      email: email.value,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      router.push({ path: \"/newPassword\", query: { email: email.value } });\r\n    } else {\r\n      errorMessage.value = \"De verificatiecode is ongeldig.\";\r\n    }\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      switch (error.response.status) {\r\n        case 400:\r\n          errorMessage.value = \"Ongeldige verificatiecode.\";\r\n          break;\r\n        case 404:\r\n          errorMessage.value = \"Verificatiecode niet gevonden.\";\r\n          break;\r\n        default:\r\n          errorMessage.value =\r\n            \"Er is een fout opgetreden bij het verifiren van de code.\";\r\n          break;\r\n      }\r\n    } else {\r\n      errorMessage.value = \"Er is een netwerkfout opgetreden.\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Forgot password</h1>\r\n        <form @submit.prevent=\"verifyCode\">\r\n          <div class=\"column\">\r\n            <label for=\"verificationCode\">Verification code</label>\r\n            <input\r\n              id=\"verificationCode\"\r\n              v-model=\"verificationCode\"\r\n              type=\"text\"\r\n              placeholder=\"HFDQ2FDQL4\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n          <p v-if=\"successMessage\" class=\"success\">{{ successMessage }}</p>\r\n\r\n          <button class=\"btn\" type=\"button\" @click=\"sendMail\">\r\n            Send mail again\r\n          </button>\r\n          <button class=\"btn active\" type=\"submit\">Verify code</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Jouw bestaande CSS-stijlen */\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.success {\r\n  color: #008000;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n\r\n.btn {\r\n  background-color: transparent;\r\n}\r\n\r\n.btn.active {\r\n  background-color: var(--button-color);\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .elements {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: auto;\r\n    right: 0;\r\n    transform: translateY(-50%);\r\n    width: 50%;\r\n    padding: 3rem;\r\n    margin: 3rem;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VerificationCode.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VerificationCode.vue?vue&type=style&index=0&id=b93c90b0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b93c90b0\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst email = ref(\"\");\r\nconst newPassword = ref(\"\");\r\nconst repeatNewPassword = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nonMounted(() => {\r\n  const emailQuery = route.query.email;\r\n\r\n  if (typeof emailQuery === \"string\") {\r\n    email.value = emailQuery;\r\n  } else if (emailQuery) {\r\n    console.warn(\"Email query parameter is not a string:\", emailQuery);\r\n  } else {\r\n    console.info(\"No email query parameter provided.\");\r\n  }\r\n});\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst updatePassword = async () => {\r\n  if (newPassword.value !== repeatNewPassword.value) {\r\n    errorMessage.value = \"Wachtwoorden komen niet overeen.\";\r\n    return;\r\n  }\r\n\r\n  if (newPassword.value.length < 8) {\r\n    errorMessage.value = \"Het wachtwoord moet minimaal 8 tekens lang zijn.\";\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.post(`${baseURL}/users/reset-password`, {\r\n      email: email.value,\r\n      newPassword: newPassword.value,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      router.push(\"/login\");\r\n    } else {\r\n      errorMessage.value = \"Er is een onverwachte fout opgetreden.\";\r\n    }\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error) && error.response) {\r\n      switch (error.response.status) {\r\n        case 400:\r\n          errorMessage.value = \"Ongeldig verzoek.\";\r\n          break;\r\n        case 404:\r\n          errorMessage.value = \"Gebruiker niet gevonden.\";\r\n          break;\r\n        default:\r\n          errorMessage.value =\r\n            \"Er is een fout opgetreden bij het instellen van het wachtwoord.\";\r\n          break;\r\n      }\r\n    } else {\r\n      errorMessage.value = \"Netwerkfout.\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div class=\"overlay\">\r\n      <div class=\"elements\">\r\n        <h1>Nieuw wachtwoord instellen</h1>\r\n        <form @submit.prevent=\"updatePassword\">\r\n          <div class=\"column\">\r\n            <label for=\"newPassword\">Nieuw wachtwoord</label>\r\n            <input\r\n              id=\"newPassword\"\r\n              v-model=\"newPassword\"\r\n              type=\"password\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n          <div class=\"column\">\r\n            <label for=\"repeatNewPassword\">Herhaal nieuw wachtwoord</label>\r\n            <input\r\n              id=\"repeatNewPassword\"\r\n              v-model=\"repeatNewPassword\"\r\n              type=\"password\"\r\n              placeholder=\"\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\r\n          <button class=\"btn active\" type=\"submit\">Wachtwoord instellen</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Jouw bestaande CSS-stijlen */\r\n.container {\r\n  position: relative;\r\n  background-image: url(\"../assets/images/background.jpg\");\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  width: 100%;\r\n  height: 100vh;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.elements {\r\n  background-color: rgba(0, 0, 0, 0.32);\r\n  border-radius: 1rem;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\ninput {\r\n  border: 1px solid rgba(255, 255, 255, 0.4);\r\n  background-color: transparent;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 4px;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import script from \"./NewPassword.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewPassword.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NewPassword.vue?vue&type=style&index=0&id=298ebca1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-298ebca1\"]])\n\nexport default __exports__","/* Productgerelateerde functies */\r\nimport { ref, toRaw } from \"vue\";\r\nimport axios from \"axios\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport { useRouter } from \"vue-router\";\r\nconst router = useRouter();\r\n\r\n// Setup loaders\r\nconst dracoLoader = new DRACOLoader();\r\ndracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\r\nconst gltfLoader = new GLTFLoader();\r\ngltfLoader.setDRACOLoader(dracoLoader);\r\nconst objLoader = new OBJLoader();\r\n\r\n// Export loaders\r\nexport { objLoader, gltfLoader, dracoLoader };\r\nlet scene, camera, renderer, model;\r\n\r\nconst selectedType = ref(\"\");\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst errorMessage = ref(\"\");\r\nconst colors = ref([]);\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nconst partnerId = tokenPayload.companyId;\r\nconst filteredProducts = ref([]); // Correct initialiseren als lege array\r\nconst partnerConfigurations = ref([]);\r\nlet isMouseDown = false;\r\nlet prevMouseX = 0;\r\nlet prevMouseY = 0;\r\n\r\nexport const filterProductsByType = (\r\n  partnerId,\r\n  selectedType,\r\n  filteredProductsRef\r\n) => {\r\n  // Access the value of filteredProductsRef (which is a ref)\r\n  const filteredProducts = filteredProductsRef.value; // Correctly access the value of the ref\r\n\r\n  if (!Array.isArray(filteredProducts)) {\r\n    console.error(\r\n      \"filteredProducts is not properly initialized or is not an array.\"\r\n    );\r\n    return []; // Return an empty array if it's not properly initialized\r\n  }\r\n\r\n  // Continue with filtering\r\n  let filteredResults = [...filteredProducts]; // Make a copy of filteredProducts\r\n\r\n  if (selectedType) {\r\n    filteredResults = filteredResults.filter(\r\n      (product) => product.productType === selectedType\r\n    );\r\n  }\r\n\r\n  return filteredResults;\r\n};\r\n\r\nexport const fetchProductById = async (id) => {\r\n  if (!id) {\r\n    console.error(\"Product ID is required!\");\r\n    return null; // Return null if no ID is provided\r\n  }\r\n\r\n  try {\r\n    // Gebruik baseURL voor productie of lokaal\r\n    const response = await axios.get(`${baseURL}/products/${id}`);\r\n\r\n    if (response.status === 200) {\r\n      return response.data?.data || null; // Return the product data or null if not found\r\n    } else {\r\n      console.error(\"Failed to fetch product:\", response.status);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching product by ID:\", error);\r\n    return null; // Return null in case of an error\r\n  }\r\n};\r\n\r\nexport const fetchProducts = async (partnerId) => {\r\n  // Controleer of partnerId bestaat\r\n  if (!partnerId) {\r\n    console.error(\"partnerId is undefined or null!\");\r\n    return []; // Return een lege array als partnerId ontbreekt\r\n  }\r\n\r\n  try {\r\n    const partnerResponse = await axios.get(`${baseURL}/partners/${partnerId}`);\r\n\r\n    const partnerName = partnerResponse.data.data.partner.name;\r\n\r\n    if (!partnerName) {\r\n      throw new Error(\"Partner name not found\");\r\n    }\r\n\r\n    const apiUrl = `${baseURL}/products?partnerName=${partnerName}`;\r\n\r\n    const productResponse = await axios.get(apiUrl);\r\n\r\n    const products = productResponse.data?.data?.products || [];\r\n    return products; // Return de producten als alles goed gaat\r\n  } catch (error) {\r\n    console.error(\"Error fetching products:\", error);\r\n    return []; // Return een lege array als er iets misgaat\r\n  }\r\n};\r\n\r\nexport const fetchProductTypes = async (partnerId) => {\r\n  // Controleer of partnerId bestaat\r\n  if (!partnerId) {\r\n    console.error(\"partnerId is undefined or null!\");\r\n    return []; // Return een lege array als partnerId ontbreekt\r\n  }\r\n\r\n  try {\r\n    // Haal partnergegevens op via partnerId\r\n    const partnerResponse = await axios.get(`${baseURL}/partners/${partnerId}`);\r\n\r\n    // Haal de partnernaam op uit het antwoord\r\n    const partnerName = partnerResponse.data?.data?.partner?.name;\r\n\r\n    if (!partnerName) {\r\n      throw new Error(\"Partner name not found\");\r\n    }\r\n\r\n    // Bouw de API URL om producten op te halen op basis van de partnernaam\r\n    const apiUrl = `${baseURL}/products?partnerName=${partnerName}`;\r\n\r\n    // Haal producten op via de API\r\n    const productResponse = await axios.get(apiUrl);\r\n\r\n    // Haal de producten op uit het antwoord\r\n    const products = productResponse.data?.data?.products || [];\r\n\r\n    // Haal alleen de unieke productType's uit de productenlijst\r\n    const productTypesSet = new Set(\r\n      products.map((product) => product.productType)\r\n    );\r\n\r\n    // Convert the Set to an array before returning\r\n    const productTypes = Array.from(productTypesSet);\r\n    // Return de productTypes (Altijd als array)\r\n    return productTypes || []; // Ensure it returns an array, even if no product types are found\r\n  } catch (error) {\r\n    console.error(\"Error fetching products:\", error);\r\n    return []; // Return een lege array als er iets misgaat\r\n  }\r\n};\r\n\r\nexport async function getcolors(partnerId) {\r\n  try {\r\n    const configResponse = await axios.get(\r\n      `${baseURL}/partnerConfigurations?partnerId=${partnerId}`\r\n    );\r\n\r\n    if (configResponse.data.status !== \"success\" || !configResponse.data.data) {\r\n      throw new Error(\" Geen configuraties gevonden voor deze partner.\");\r\n    }\r\n\r\n    const configurations = configResponse.data.data;\r\n\r\n    const selectedColors = [];\r\n\r\n    configurations.forEach((config) => {\r\n      if (config.options.length > 0) {\r\n        config.options.forEach((option) => {\r\n          const optionId = option.optionId?._id;\r\n          const colorName = option.optionId?.name; // Naam of hex-waarde van de kleur\r\n\r\n          if (\r\n            optionId &&\r\n            !selectedColors.some((o) => o.optionId === optionId)\r\n          ) {\r\n            selectedColors.push({\r\n              optionId,\r\n              color: colorName || \"Unnamed Color\",\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    return selectedColors;\r\n  } catch (error) {\r\n    console.error(\" Fout in getcolors:\", error);\r\n    return []; // Retourneer een lege array bij een fout\r\n  }\r\n}\r\n\r\nconst fetchedColors = ref([]); // Gebruik een ref voor reactieve kleuren\r\n\r\n// Zorg ervoor dat `fetchcolors` de `colors.value` goed bijwerkt:\r\n\r\nexport const load3DModel = async (filePath) => {\r\n  if (!isSceneInitialized) {\r\n    console.error(\"Scene is not initialized.\");\r\n    return;\r\n  }\r\n\r\n  const fileExtension = filePath.split(\".\").pop().toLowerCase();\r\n\r\n  if (fileExtension === \"obj\") {\r\n    loadOBJModel(filePath); // Laad .obj bestand\r\n  } else if (fileExtension === \"glb\" || fileExtension === \"gltf\") {\r\n    loadGLBModel(filePath); // Laad .glb of .gltf bestand\r\n  } else {\r\n    console.error(\"Unsupported file type:\", fileExtension);\r\n  }\r\n};\r\n\r\n// In productService.js\r\nexport function loadOBJModel(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const loader = new OBJLoader();\r\n    loader.load(\r\n      url,\r\n      (object) => {\r\n        resolve(object); // Retourneer het geladen model\r\n      },\r\n      undefined,\r\n      (error) => {\r\n        reject(error); // Foutafhandeling\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\nexport function loadGLBModel(url) {\r\n  return new Promise((resolve, reject) => {\r\n    const loader = new GLTFLoader().setDRACOLoader(dracoLoader);\r\n    loader.load(\r\n      url,\r\n      (gltf) => {\r\n        resolve(gltf.scene); // Retourneer de scne van het GLTF-model\r\n      },\r\n      undefined,\r\n      (error) => {\r\n        reject(error); // Foutafhandeling\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\n// Functie voor het starten van een muis/touch-interactie\r\nexport function onTouchStart(event) {\r\n  event.preventDefault(); // Voorkomt scrollen bij touch\r\n  isMouseDown = true;\r\n  prevMouseX = event.touches ? event.touches[0].clientX : event.clientX;\r\n  prevMouseY = event.touches ? event.touches[0].clientY : event.clientY;\r\n}\r\n\r\n// Functie voor muis/touchbewegingen\r\nexport function onTouchMove(event) {\r\n  if (!isMouseDown) return;\r\n\r\n  const deltaX =\r\n    (event.touches ? event.touches[0].clientX : event.clientX) - prevMouseX;\r\n  const deltaY =\r\n    (event.touches ? event.touches[0].clientY : event.clientY) - prevMouseY;\r\n\r\n  if (model) {\r\n    model.rotation.y += deltaX * rotationSpeed;\r\n    model.rotation.x += deltaY * rotationSpeed;\r\n  }\r\n\r\n  prevMouseX = event.touches ? event.touches[0].clientX : event.clientX;\r\n  prevMouseY = event.touches ? event.touches[0].clientY : event.clientY;\r\n}\r\n\r\n// Functie voor het beindigen van de muis/touch-interactie\r\nexport function onTouchEnd() {\r\n  isMouseDown = false;\r\n}\r\n\r\n// Functies voor muisinteractie (voor desktop)\r\nexport function onMouseDown(event) {\r\n  isMouseDown = true;\r\n  prevMouseX = event.clientX;\r\n  prevMouseY = event.clientY;\r\n}\r\n\r\nexport function onMouseMove(event) {\r\n  if (!isMouseDown) return;\r\n\r\n  const deltaX = event.clientX - prevMouseX;\r\n  const deltaY = event.clientY - prevMouseY;\r\n\r\n  if (model) {\r\n    model.rotation.y += deltaX * rotationSpeed;\r\n    model.rotation.x += deltaY * rotationSpeed;\r\n  }\r\n\r\n  prevMouseX = event.clientX;\r\n  prevMouseY = event.clientY;\r\n}\r\n\r\nexport function onMouseUp() {\r\n  isMouseDown = false;\r\n}\r\n\r\nasync function uploadImage(file) {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n\r\n    const response = await axios.post(\"/upload-endpoint\", formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n\r\n    if (response.data && response.data.imageUrl) {\r\n      return response.data.imageUrl; // Zorg ervoor dat de URL correct wordt geretourneerd\r\n    } else {\r\n      console.error(\" Geen geldige URL teruggekregen bij upload.\");\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\" Fout bij het uploaden van de afbeelding:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport const fetchcolors = async (partnerId) => {\r\n  try {\r\n    const selectedOptions = await getcolors(partnerId);\r\n\r\n    if (\r\n      !selectedOptions ||\r\n      !Array.isArray(selectedOptions) ||\r\n      selectedOptions.length === 0\r\n    ) {\r\n      console.error(\" Geen geldige kleuren ontvangen\");\r\n      return;\r\n    }\r\n\r\n    // Ensure that fetchedColors.value is properly updated\r\n    fetchedColors.value = selectedOptions.map((option) => {\r\n      return {\r\n        optionId: option.optionId || \"\",\r\n        name: option.color || \"Unnamed Color\",\r\n        images: option.images || [], // Ensure images are assigned here\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error(\" Fout in fetchcolors:\", error);\r\n  }\r\n};\r\n\r\nexport const addProductType = (productTypes, newType) => {\r\n  if (!Array.isArray(productTypes)) {\r\n    console.error(\"productTypes is not an array\", productTypes);\r\n    return;\r\n  }\r\n\r\n  if (!productTypes.includes(newType)) {\r\n    productTypes.push(newType);\r\n  } else {\r\n    console.warn(\"This product type already exists!\");\r\n  }\r\n};\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nexport async function add2DProduct(\r\n  images,\r\n  selectedConfigurationId,\r\n  productData\r\n) {\r\n  try {\r\n    if (!selectedConfigurationId) {\r\n      throw new Error(\" selectedConfigurationId is niet gedefinieerd!\");\r\n    }\r\n\r\n    if (!Array.isArray(images) || images.length === 0) {\r\n      throw new Error(\" Geen afbeeldingen om te uploaden!\");\r\n    }\r\n\r\n    const processedImages = images.map((imageUrl) => ({\r\n      url: imageUrl,\r\n      configurationId: selectedConfigurationId,\r\n    }));\r\n\r\n    const configuration = productData.configurations.find((config) => {\r\n      const configId = config.configurationId?._id || config.configurationId; // Fix voor ID-structuur\r\n      return configId === selectedConfigurationId;\r\n    });\r\n\r\n    if (!configuration) {\r\n      console.error(\r\n        ` Configuratie met ID ${selectedConfigurationId} niet gevonden!`\r\n      );\r\n      return;\r\n    }\r\n\r\n    if (\r\n      !configuration.selectedOptions ||\r\n      !Array.isArray(configuration.selectedOptions)\r\n    ) {\r\n      console.warn(\r\n        ` selectedOptions ontbreekt of is geen array. Voeg lege array toe.`\r\n      );\r\n      configuration.selectedOptions = [];\r\n    }\r\n\r\n    let optionId = configuration.options?.[0]?._id; // Pak de eerste optie als default\r\n\r\n    if (!optionId) {\r\n      console.error(\r\n        ` Geen optionId gevonden voor configuratie ID: ${selectedConfigurationId}`\r\n      );\r\n      return;\r\n    }\r\n\r\n    let existingOption = configuration.selectedOptions.find(\r\n      (opt) => opt.optionId === optionId\r\n    );\r\n\r\n    if (!existingOption) {\r\n      existingOption = {\r\n        _id: uuidv4(),\r\n        optionId: optionId,\r\n        images: [],\r\n      };\r\n      configuration.selectedOptions.push(existingOption);\r\n    }\r\n\r\n    existingOption.images.push(...processedImages.map((img) => img.url));\r\n\r\n    const formattedProductData = {\r\n      productCode: productData.productCode,\r\n      productName: productData.productName,\r\n      productType: productData.productType,\r\n      productPrice: productData.productPrice,\r\n      description: productData.description,\r\n      brand: productData.brand,\r\n      activeInactive: productData.activeInactive,\r\n      partnerId: productData.partnerId,\r\n      configurations: productData.configurations.map((config) => ({\r\n        _id: uuidv4(),\r\n        configurationId: config.configurationId._id,\r\n        selectedOptions: Array.isArray(config.selectedOptions)\r\n          ? config.selectedOptions.map((opt) => ({\r\n              _id: opt._id || uuidv4(),\r\n              optionId: opt.optionId,\r\n              images: opt.images || [],\r\n            }))\r\n          : [],\r\n      })),\r\n    };\r\n\r\n    //  **Stap 2: Stuur de data correct naar de backend**\r\n    const token = localStorage.getItem(\"jwtToken\") || null;\r\n\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify(formattedProductData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      console.error(\" Server response error:\", errorData);\r\n      throw new Error(errorData.message || \"Onbekende serverfout\");\r\n    }\r\n\r\n    // Lees de response.body maar n keer\r\n    const responseBody = await response.json(); //  Verwijder de dubbele json-aanroep\r\n\r\n    return responseBody;\r\n  } catch (error) {\r\n    console.error(\" Algemene fout:\", error.message);\r\n  }\r\n}\r\n\r\nexport const add3DProduct = async ({\r\n  productCode,\r\n  productName,\r\n  productType,\r\n  productPrice,\r\n  description,\r\n  brand,\r\n  activeInactive,\r\n  partnerId,\r\n  configurations,\r\n  file, // URL van de 3D-file\r\n}) => {\r\n  try {\r\n    // **FIX: Extract de juiste string-URL uit Proxy(Array)**\r\n    const imageUrl = file && Array.isArray(file) ? file[0] : String(file);\r\n\r\n    if (!imageUrl.startsWith(\"https://\")) {\r\n      console.error(\" Ongeldige bestands-URL na extractie:\", imageUrl);\r\n      return;\r\n    }\r\n\r\n    let validConfigurations = [];\r\n\r\n    for (const config of configurations) {\r\n      let selectedOptions = [];\r\n\r\n      if (!Array.isArray(config.options) || config.options.length === 0) {\r\n        console.warn(\r\n          \" Geen opties beschikbaar voor configuratie:\",\r\n          config.configurationId\r\n        );\r\n        continue;\r\n      }\r\n\r\n      selectedOptions = config.options.map((option) => {\r\n        const optionId = option.optionId?._id || \"onbekend-option-id\";\r\n\r\n        return {\r\n          optionId,\r\n          images: [imageUrl], //  Nu correct ingevuld\r\n          _id: `${optionId}-${Date.now()}`,\r\n        };\r\n      });\r\n\r\n      if (selectedOptions.length > 0) {\r\n        validConfigurations.push({\r\n          configurationId: config.configurationId?._id || \"onbekend-config-id\",\r\n          selectedOptions,\r\n        });\r\n      }\r\n    }\r\n\r\n    if (validConfigurations.length === 0) {\r\n      console.error(\" Geen geldige configuraties gevonden\");\r\n      return;\r\n    }\r\n\r\n    const productData = {\r\n      productCode,\r\n      productName,\r\n      productType,\r\n      brand,\r\n      description,\r\n      productPrice,\r\n      activeInactive,\r\n      partnerId,\r\n      configurations: validConfigurations,\r\n    };\r\n  } catch (error) {\r\n    console.error(\" Algemene fout in add3DProduct:\", error);\r\n  }\r\n};\r\n\r\n// Een voorbeeld van een manier om afbeeldingen aan de configuratie toe te voegen.\r\nconst addImagesToConfiguration = (configurationId, imageUrls) => {\r\n  const updatedConfigurations = configurations.map((config) => {\r\n    if (config.configurationId === configurationId) {\r\n      return {\r\n        ...config,\r\n        selectedOptions: config.selectedOptions.map((option) => ({\r\n          ...option,\r\n          images: imageUrls, // Voeg de juiste afbeeldings-URLs hier toe\r\n        })),\r\n      };\r\n    }\r\n    return config;\r\n  });\r\n\r\n  // Update de configuraties\r\n  setConfigurations(updatedConfigurations);\r\n};\r\n\r\nfunction addImageToConfigurations(imageUrl, configurations) {\r\n  if (!imageUrl) {\r\n    console.warn(\" Geen geldige afbeelding URL om toe te voegen.\");\r\n    return;\r\n  }\r\n\r\n  configurations.forEach((config) => {\r\n    if (!config.selectedOptions || config.selectedOptions.length === 0) {\r\n      console.warn(\r\n        ` Geen geselecteerde opties voor configuratie: ${config.configurationId}`\r\n      );\r\n      return;\r\n    }\r\n\r\n    config.selectedOptions.forEach((option) => {\r\n      if (!option.images) {\r\n        option.images = []; // Zorg ervoor dat images een array is\r\n      }\r\n      option.images.push(imageUrl); // Voeg de afbeelding toe\r\n    });\r\n  });\r\n}\r\n","/* Functies voor authenticatie (checkToken) */\r\nimport { ref } from \"vue\";\r\nimport router from \"../router\"; // Zorg ervoor dat de router correct is gemporteerd\r\nimport axios from \"axios\";\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst partnerPackage = ref(\"\");\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\n\r\nexport const checkToken = () => {\r\n  if (!jwtToken || !tokenPayload) {\r\n    console.warn(\"Geen geldig JWT token gevonden. Doorverwijzen naar login...\");\r\n    router.push(\"/login\");\r\n  }\r\n};\r\n\r\nexport async function fetchPartnerPackage(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n    const packageData = data.data?.partner?.package || null; // Verifieer de structuur\r\n    return packageData; // Retourneer het partner package\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner package:\", err);\r\n    return null; // Zorg voor een fallback\r\n  }\r\n}\r\n\r\nexport async function fetchPartnerByName(partnerName) {\r\n  if (!partnerName || typeof partnerName !== \"string\") {\r\n    console.error(\"Partnernaam is ongeldig of ontbreekt.\");\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `${baseURL}/partners/partner/${partnerName}`, // We zoeken op naam\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      const partner = response.data?.data || null; // Haal het gehele partnerobject op\r\n\r\n      if (partner) {\r\n        return partner; // Hier geven we de partner met de ID terug\r\n      } else {\r\n        console.warn(\"Geen partner gevonden met deze naam.\");\r\n        return null;\r\n      }\r\n    } else {\r\n      console.error(`Onverwachte statuscode ontvangen: ${response.status}`);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Fout tijdens het ophalen van de partner:\", error.message);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function fetchPartnerById(partnerId) {\r\n  if (!partnerId || typeof partnerId !== \"string\") {\r\n    console.error(\"Partner ID is ongeldig of ontbreekt.\");\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(\r\n      `${baseURL}/partners/${partnerId}`, // Hier gebruiken we het partner-ID om de gegevens op te halen\r\n      {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    );\r\n\r\n    if (response.status === 200) {\r\n      const partner = response.data?.data || null; // Haal het gehele partnerobject op\r\n\r\n      if (partner) {\r\n        return partner; // Return de partner\r\n      } else {\r\n        console.warn(\"Geen partner gevonden met dit ID.\");\r\n        return null;\r\n      }\r\n    } else {\r\n      console.error(`Onverwachte statuscode ontvangen: ${response.status}`);\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Fout tijdens het ophalen van de partner:\", error.message);\r\n    return null;\r\n  }\r\n}\r\n","<script setup>\r\nimport { ref, onMounted, computed } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { fetchProducts, fetchProductTypes } from \"../services/productService\";\r\nimport { fetchPartnerByName, fetchPartnerById } from \"../services/authService\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nconst route = useRoute();\r\n// Haal partnernaam op uit de URL en zet eventuele verbindingstekens (zoals streepjes of underscores) om naar spaties\r\n\r\nconst partnerId = ref(null); // Partner ID van de opgegeven naam\r\nconst products = ref([]); // Alle producten\r\nconst loading = ref(false); // Laadstatus\r\nconst error = ref(null); // Foutstatus\r\nconst filters = ref([\"All\"]); // Dynamische filters, standaard met \"All\"\r\nconst activeFilter = ref(\"All\"); // Actieve filterstatus\r\n\r\n// Functie om producten op te halen\r\nconst fetchAndSetProducts = async (partnerId) => {\r\n  try {\r\n    const filteredProducts = await fetchProducts(partnerId);\r\n    products.value = filteredProducts; // Sla producten op in de state\r\n  } catch (err) {\r\n    console.error(\"Error fetching products:\", err);\r\n    throw new Error(\"Er is een fout opgetreden bij het ophalen van producten.\");\r\n  }\r\n};\r\n\r\n// Functie om producttypes op te halen\r\nconst fetchAndSetProductTypes = async (partnerId) => {\r\n  try {\r\n    const productTypes = await fetchProductTypes(partnerId);\r\n    filters.value = [\"All\", ...productTypes]; // Voeg filters toe\r\n  } catch (err) {\r\n    console.error(\"Error fetching product types:\", err);\r\n    throw new Error(\r\n      \"Er is een fout opgetreden bij het ophalen van producttypes.\"\r\n    );\r\n  }\r\n};\r\n\r\n// onMounted: Controleer partnernaam en laad gegevens\r\nonMounted(async () => {\r\n  try {\r\n    loading.value = true;\r\n\r\n    // Stel de partnernaam in als queryparameter, bijv. 'OdetteLunettes'\r\n    const partnerName = route.query.partner\r\n      ? route.query.partner.replace(/([A-Z])/g, \" $1\").trim()\r\n      : null;\r\n\r\n    // Zoek de partner op naam\r\n    const partner = await fetchPartnerByName(partnerName);\r\n    if (partner) {\r\n      const partnerId = partner._id; // Haal het ID uit de gevonden partner\r\n      // Nu kun je de partner ophalen op basis van het ID\r\n      const detailedPartner = await fetchPartnerById(partnerId);\r\n      await fetchAndSetProducts(partnerId); // Haal producten op\r\n      await fetchAndSetProductTypes(partnerId); // Haal filters op\r\n    } else {\r\n      console.error(\"Partner niet gevonden.\");\r\n    }\r\n  } catch (err) {\r\n    error.value = err.message;\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n});\r\n\r\n// Filter producten op basis van actieve filter\r\nconst filteredProducts = computed(() => {\r\n  if (!activeFilter.value || activeFilter.value === \"All\") {\r\n    return products.value; // Geef alle producten terug als er geen filter is\r\n  }\r\n  return products.value.filter(\r\n    (product) =>\r\n      product.productType?.toLowerCase() === activeFilter.value.toLowerCase()\r\n  );\r\n});\r\n\r\nconst setActiveFilter = (filter) => {\r\n  activeFilter.value = filter;\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"content\">\r\n    <div class=\"top\">\r\n      <h1>Collections</h1>\r\n      <nav class=\"collection-nav\">\r\n        <p\r\n          v-for=\"filter in filters\"\r\n          :key=\"filter\"\r\n          :class=\"{ active: activeFilter === filter }\"\r\n          @click=\"setActiveFilter(filter)\"\r\n        >\r\n          {{ filter }}\r\n        </p>\r\n      </nav>\r\n    </div>\r\n\r\n    <!-- Laden en foutafhandeling -->\r\n    <div v-if=\"loading\">Laden...</div>\r\n    <div v-if=\"error\">{{ error }}</div>\r\n\r\n    <!-- Producten tonen -->\r\n    <div v-if=\"!loading && !error\" class=\"products\">\r\n      <div class=\"row\">\r\n        <h2>{{ activeFilter }}</h2>\r\n        <p>\r\n          <span>{{ filteredProducts ? filteredProducts.length : 0 }}</span>\r\n          items\r\n        </p>\r\n      </div>\r\n      <div class=\"product-grid\">\r\n        <router-link\r\n          v-for=\"product in filteredProducts\"\r\n          :key=\"product._id\"\r\n          :to=\"`/product/${product._id}`\"\r\n          :class=\"['product-card', product.productType]\"\r\n        >\r\n          <div class=\"product-image-container\">\r\n            <div\r\n              v-if=\"\r\n                product.configurations?.length > 0 &&\r\n                product.configurations[0].selectedOptions?.length > 0\r\n              \"\r\n              class=\"product-image\"\r\n              :style=\"{\r\n                backgroundImage:\r\n                  'url(' +\r\n                  product.configurations[0].selectedOptions[0].images[0] +\r\n                  ')',\r\n              }\"\r\n            ></div>\r\n            <div v-else class=\"no-image-message\">\r\n              Geen afbeelding beschikbaar\r\n            </div>\r\n          </div>\r\n          <div class=\"product-info\">\r\n            <p class=\"product-name\">{{ product.productName }}</p>\r\n            <p class=\"product-price\"> {{ product.productPrice }},00</p>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  align-items: center;\r\n}\r\n\r\n.content .top {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.collection-nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.collection-nav p {\r\n  cursor: pointer;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.collection-nav .active {\r\n  color: var(--text-color);\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid var(--text-color);\r\n}\r\n\r\n.products {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.products .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.products .product-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  justify-content: center;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.product-card {\r\n  background: var(--secondary-color);\r\n  border-radius: 10px;\r\n  box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.5);\r\n  overflow: hidden;\r\n  text-align: center;\r\n  position: relative;\r\n  transition: transform 0.3s, box-shadow 0.3s;\r\n  width: 100%;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: scale(1.05);\r\n  box-shadow: 0px 12px 25px rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n.product-image-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 200px;\r\n  background: var(--secondary-color);\r\n  padding: 20px;\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  border-bottom: 1px solid var(--secondary-color);\r\n}\r\n\r\n.product-info {\r\n  padding: 16px 24px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.product-price {\r\n  color: var(--primary-color);\r\n}\r\n\r\n@media (min-width: 800px) {\r\n  .products .product-grid {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .collection-nav {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    gap: 3rem;\r\n  }\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  .content {\r\n    padding: 108px 1.5rem 1.5rem 1.5rem;\r\n  }\r\n  .products {\r\n    padding: 0 200px;\r\n  }\r\n  .products .product-grid {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n}\r\n\r\n@media (min-width: 2000px) {\r\n  .products {\r\n    padding: 0 600px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Collections.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Collections.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Collections.vue?vue&type=style&index=0&id=a500a1e0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a500a1e0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"ar-container\">\r\n    <video ref=\"videoElement\" autoplay playsinline></video>\r\n    <canvas ref=\"canvasElement\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport { FaceMesh } from \"@mediapipe/face_mesh\";\r\n\r\nexport default {\r\n  server: {\r\n    proxy: {\r\n      \"/mediapipe\": {\r\n        target: \"https://www.gstatic.com/mediapipe\",\r\n        changeOrigin: true,\r\n        rewrite: (path) => path.replace(/^\\/mediapipe/, \"\"),\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      video: null,\r\n      canvas: null,\r\n      faceMesh: null,\r\n      scene: null,\r\n      camera: null,\r\n      renderer: null,\r\n      model: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initializeCamera();\r\n    this.setupFaceMesh();\r\n    this.setup3DScene();\r\n    window.addEventListener(\"resize\", this.onResize);\r\n  },\r\n  methods: {\r\n    async initializeCamera() {\r\n      this.video = this.$refs.videoElement;\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({\r\n          video: true,\r\n        });\r\n        this.video.srcObject = stream;\r\n      } catch (error) {\r\n        console.error(\"Fout bij het starten van de camera:\", error);\r\n      }\r\n    },\r\n\r\n    async setupFaceMesh() {\r\n      window.Module = window.Module || {}; // Fix voor WebAssembly fout\r\n\r\n      this.canvas = this.$refs.canvasElement;\r\n      this.faceMesh = new FaceMesh({\r\n        locateFile: (file) =>\r\n          `https://www.gstatic.com/mediapipe/face_mesh/${file}`,\r\n      });\r\n\r\n      this.faceMesh.setOptions({ maxNumFaces: 1, refineLandmarks: true });\r\n      this.faceMesh.onResults(this.onFaceMeshResults);\r\n\r\n      try {\r\n        await this.faceMesh.initialize();\r\n        this.detectFaces();\r\n      } catch (error) {\r\n        console.error(\"Fout bij het initialiseren van FaceMesh:\", error);\r\n      }\r\n    },\r\n\r\n    async detectFaces() {\r\n      if (!this.video || !this.faceMesh) return;\r\n\r\n      try {\r\n        await this.faceMesh.send({ image: this.video });\r\n      } catch (error) {\r\n        console.error(\"Fout bij gezichtsdetectie:\", error);\r\n      }\r\n\r\n      requestAnimationFrame(() => this.detectFaces());\r\n    },\r\n\r\n    onFaceMeshResults(results) {\r\n      if (\r\n        !results.multiFaceLandmarks ||\r\n        results.multiFaceLandmarks.length === 0\r\n      )\r\n        return;\r\n      const landmarks = results.multiFaceLandmarks[0];\r\n      this.updateModelPosition(landmarks);\r\n    },\r\n\r\n    setup3DScene() {\r\n      this.scene = new THREE.Scene();\r\n      this.camera = new THREE.PerspectiveCamera(\r\n        75,\r\n        window.innerWidth / window.innerHeight,\r\n        0.1,\r\n        1000\r\n      );\r\n      this.renderer = new THREE.WebGLRenderer({\r\n        canvas: this.canvas,\r\n        alpha: true,\r\n      });\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n      // Set up DRACOLoader to decode Draco compressed models\r\n      const dracoLoader = new DRACOLoader();\r\n      dracoLoader.setDecoderPath(\"https://www.gstatic.com/threejs/r121/draco/\");\r\n\r\n      const loader = new GLTFLoader();\r\n      loader.setDRACOLoader(dracoLoader); // Link DRACOLoader with GLTFLoader\r\n\r\n      loader.load(\r\n        \"https://res.cloudinary.com/dzempjvto/raw/upload/v1739183774/Products/222233/k4du4mi1q2uvou11dfvy.glb\",\r\n        (gltf) => {\r\n          this.model = gltf.scene;\r\n          this.scene.add(this.model);\r\n        },\r\n        undefined,\r\n        (error) => {\r\n          console.error(\"Fout bij het laden van het 3D-model:\", error);\r\n        }\r\n      );\r\n\r\n      this.camera.position.z = 1;\r\n    },\r\n\r\n    updateModelPosition(landmarks) {\r\n      const nose = landmarks[1]; // Neusbrug als referentiepunt\r\n      if (this.model) {\r\n        this.model.position.set(nose.x - 0.5, nose.y - 0.5, 0);\r\n      }\r\n      this.renderer.render(this.scene, this.camera);\r\n    },\r\n\r\n    onResize() {\r\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n      this.camera.aspect = window.innerWidth / window.innerHeight;\r\n      this.camera.updateProjectionMatrix();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.ar-container {\r\n  position: fixed;\r\n  z-index: 9999;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n\r\nvideo {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  transform: scaleX(-1);\r\n}\r\n\r\ncanvas {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n}\r\n</style>\r\n","import { render } from \"./FaceTracking.vue?vue&type=template&id=646ec6fb\"\nimport script from \"./FaceTracking.vue?vue&type=script&lang=js\"\nexport * from \"./FaceTracking.vue?vue&type=script&lang=js\"\n\nimport \"./FaceTracking.vue?vue&type=style&index=0&id=646ec6fb&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\r\nimport { onMounted, ref } from \"vue\";\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader.js\";\r\nimport \"webxr-polyfill\"; // WebXR polyfill voor bredere ondersteuning\r\n\r\nconst sceneContainer = ref(null);\r\n\r\nonMounted(() => {\r\n  // Basis scene setup\r\n  const scene = new THREE.Scene();\r\n  const camera = new THREE.PerspectiveCamera(\r\n    75,\r\n    window.innerWidth / window.innerHeight,\r\n    0.1,\r\n    1000\r\n  );\r\n  camera.position.set(0, 1, 3);\r\n\r\n  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n  renderer.xr.enabled = true;\r\n  sceneContainer.value.appendChild(renderer.domElement);\r\n\r\n  // Licht toevoegen\r\n  const light = new THREE.AmbientLight(0xffffff, 1);\r\n  scene.add(light);\r\n\r\n  // DRACO Loader instellen\r\n  const dracoLoader = new DRACOLoader();\r\n  dracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\r\n\r\n  // 3D-model loader\r\n  const loader = new GLTFLoader();\r\n  loader.setDRACOLoader(dracoLoader);\r\n\r\n  // Controleer WebXR-ondersteuning\r\n  console.log(navigator.xr);\r\n  if (navigator.xr) {\r\n    navigator.xr.isSessionSupported(\"immersive-ar\").then((supported) => {\r\n      if (supported) {\r\n        console.log(\" WebXR AR wordt ondersteund\");\r\n      } else {\r\n        console.log(\" WebXR AR wordt niet ondersteund\");\r\n      }\r\n    });\r\n\r\n    document.addEventListener(\"click\", () => {\r\n      navigator.xr\r\n        .requestSession(\"immersive-ar\", { requiredFeatures: [\"local-floor\"] })\r\n        .then((session) => {\r\n          renderer.xr.setSession(session);\r\n          session.addEventListener(\"end\", () =>\r\n            console.log(\"AR-sessie beindigd\")\r\n          );\r\n\r\n          // Model laden in AR\r\n          loader.load(\r\n            \"https://res.cloudinary.com/dzempjvto/raw/upload/v1739183774/Products/222233/b0yi0rxa6kwcdq5act6i.glb\",\r\n            (gltf) => {\r\n              scene.add(gltf.scene);\r\n              console.log(\"3D-model geladen\");\r\n            },\r\n            undefined,\r\n            (error) => {\r\n              console.error(\"Fout bij laden van model:\", error);\r\n            }\r\n          );\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Fout bij het starten van AR-sessie:\", error);\r\n        });\r\n    });\r\n  } else {\r\n    console.log(\"WebXR wordt niet ondersteund op dit apparaat.\");\r\n  }\r\n\r\n  // Animatielus\r\n  function animate() {\r\n    requestAnimationFrame(animate);\r\n    renderer.render(scene, camera);\r\n  }\r\n  animate();\r\n\r\n  // Console logs naar scherm\r\n  function logMessage(message) {\r\n    const logContainer = document.getElementById(\"log-container\");\r\n    if (logContainer) {\r\n      logContainer.innerHTML += message + \"<br>\";\r\n    }\r\n  }\r\n  console.log = logMessage;\r\n  console.error = logMessage;\r\n  window.onerror = function (message, source, lineno, colno, error) {\r\n    logMessage(\r\n      ` Error: ${message} <br> Bestand: ${source}:${lineno}:${colno}`\r\n    );\r\n  };\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div ref=\"sceneContainer\" class=\"scene-container\"></div>\r\n  <div\r\n    id=\"log-container\"\r\n    style=\"\r\n      position: fixed;\r\n      bottom: 10px;\r\n      left: 10px;\r\n      width: 90%;\r\n      background: rgba(0, 0, 0, 0.8);\r\n      color: white;\r\n      padding: 10px;\r\n      font-size: 12px;\r\n      max-height: 200px;\r\n      overflow-y: auto;\r\n      z-index: 9999;\r\n    \"\r\n  ></div>\r\n</template>\r\n\r\n<style scoped>\r\n.scene-container {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  z-index: 10;\r\n}\r\n</style>\r\n","import script from \"./ModelViewer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ModelViewer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ModelViewer.vue?vue&type=style&index=0&id=2ec4c882&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ec4c882\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted, onUnmounted, computed, watch } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport * as THREE from \"three\";\r\nimport { OBJLoader } from \"three/examples/jsm/loaders/OBJLoader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { DRACOLoader } from \"three/examples/jsm/loaders/DRACOLoader\";\r\nimport DynamicStyle from \"../components/DynamicStyle.vue\";\r\n\r\nimport FaceTracking from \"../components/FaceTracking.vue\";\r\nimport {\r\n  onTouchStart,\r\n  onTouchMove,\r\n  onMouseDown,\r\n  onTouchEnd,\r\n  onMouseMove,\r\n  onMouseUp,\r\n} from \"../services/productService\";\r\nimport ModelViewer from \"../components/ModelViewer.vue\";\r\n\r\nconst showModel = ref(false);\r\nconst isFaceTrackingVisible = ref(false); // Zorg ervoor dat deze reactive is\r\n\r\n// Functie die de zichtbaarheid van FaceTracking toggelt\r\nfunction toggleFaceTracking() {\r\n  isFaceTrackingVisible.value = !isFaceTrackingVisible.value; // Toggle de waarde\r\n}\r\n\r\nconst sizes = ref([]);\r\nconst materials = ref([]);\r\nconst layers = ref([]);\r\nconst layersColors = ref([]);\r\nconst selectedThingsInLayers = ref([]);\r\nconst colors = ref([]);\r\nconst selectedLayerColor = ref(null);\r\nconst currentPageIndex = ref(0);\r\nconst productImages = ref([]);\r\nconst selectedImage = ref(null);\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst productId = ref(null);\r\nconst productData = ref({ productName: \"\", productCode: \"\", productPrice: 0 });\r\nconst productName = ref(\"\");\r\nconst isLoading = ref(true);\r\nconst error = ref(null);\r\nconst logoUrl = ref(\"\");\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst options = computed(() => optionNames.value);\r\nconst partnerName = ref(\"\");\r\nconst partnerPackage = ref(\"\");\r\nlet scene = new THREE.Scene();\r\n\r\nlet camera, rendererMobile, rendererDesktop;\r\nconst objLoader = new OBJLoader();\r\nconst dracoLoader = new DRACOLoader();\r\nconst gltfLoader = new GLTFLoader();\r\ndracoLoader.setDecoderPath(\"https://www.gstatic.com/draco/v1/decoders/\");\r\ngltfLoader.setDRACOLoader(dracoLoader);\r\nconst fieldName = ref(null);\r\nlet isModelLoaded = false;\r\nlet model = null;\r\nlet isSceneInitialized = false;\r\nlet isRendererInitialized = false;\r\nlet isMouseDown = false;\r\nlet prevMouseX = 0;\r\nlet prevMouseY = 0;\r\nconst rotationSpeed = 0.005;\r\nconst selectedOption = ref(0);\r\nconst selectedOptionName = ref(null);\r\nconst optionNames = ref([]);\r\nconst selectedItems = ref([]);\r\nconst productConfigs = ref([]);\r\nconst partnerConfigurationsCount = ref([]);\r\n\r\nasync function fetchPartnerName(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n    partnerName.value = data.data.partner.name || \"\";\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner package:\", err);\r\n  }\r\n}\r\n\r\nasync function fetchPartnerPackage(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch partner package\");\r\n    }\r\n    const data = await response.json();\r\n\r\n    // Controleer eerst of de gegevens beschikbaar zijn voordat je probeert 'package' te lezen\r\n    if (data && data.data && data.data.partner) {\r\n      partnerPackage.value = data.data.partner.package;\r\n    } else {\r\n      console.error(\"Partner data is incomplete:\", data);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner package:\", error);\r\n  }\r\n}\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener(\"resize\", onWindowResize);\r\n});\r\n\r\nfunction onWindowResize() {\r\n  const container = document.querySelector(\".model\");\r\n  if (container && rendererDesktop) {\r\n    rendererDesktop.setSize(container.offsetWidth, container.offsetHeight);\r\n    camera.aspect = container.offsetWidth / container.offsetHeight;\r\n    camera.updateProjectionMatrix();\r\n  }\r\n}\r\n\r\nfunction logSceneLayers() {\r\n  if (!scene) {\r\n    console.error(\"Scene is niet genitialiseerd!\");\r\n    return; // Stop als de scene niet bestaat\r\n  }\r\n}\r\n\r\n// Toevoegen van eventlisteners bij de initialisatie\r\nfunction initializeScene() {\r\n  if (isSceneInitialized) {\r\n    return; // Voorkom herinitialisatie\r\n  }\r\n\r\n  try {\r\n    // Initialiseer de scene, camera en renderer\r\n    scene = new THREE.Scene();\r\n    camera = new THREE.PerspectiveCamera(\r\n      75,\r\n      window.innerWidth / window.innerHeight,\r\n      0.1,\r\n      1000\r\n    );\r\n    camera.position.set(0, 0, 40);\r\n    camera.lookAt(0, 0, 0);\r\n\r\n    // Verkrijg de container voor mobiel en desktop\r\n    const containerModelMobile = document.querySelector(\r\n      \".mobileElements .model\"\r\n    );\r\n    const containerModelDesktop = document.querySelector(\".model.desktop\");\r\n\r\n    if (!containerModelMobile && !containerModelDesktop) {\r\n      console.error(\"3D container element niet gevonden!\");\r\n      return;\r\n    }\r\n\r\n    // Renderers alleen toevoegen als ze nog niet bestaan\r\n    if (!rendererMobile && window.innerWidth <= 768 && containerModelMobile) {\r\n      rendererMobile = new THREE.WebGLRenderer();\r\n      rendererMobile.setSize(\r\n        containerModelMobile.offsetWidth,\r\n        containerModelMobile.offsetHeight\r\n      );\r\n      if (!containerModelMobile.contains(rendererMobile.domElement)) {\r\n        containerModelMobile.appendChild(rendererMobile.domElement);\r\n      }\r\n    }\r\n\r\n    if (!rendererDesktop && window.innerWidth > 768 && containerModelDesktop) {\r\n      rendererDesktop = new THREE.WebGLRenderer();\r\n      rendererDesktop.setSize(\r\n        containerModelDesktop.offsetWidth,\r\n        containerModelDesktop.offsetHeight\r\n      );\r\n      if (!containerModelDesktop.contains(rendererDesktop.domElement)) {\r\n        containerModelDesktop.appendChild(rendererDesktop.domElement);\r\n      }\r\n    }\r\n\r\n    // Voeg lichten toe aan de scene\r\n    const light = new THREE.PointLight(0xffffff, 1, 100);\r\n    light.position.set(50, 50, 50);\r\n    scene.add(light);\r\n\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.4);\r\n    directionalLight.position.set(10, 20, 10);\r\n    directionalLight.target.position.set(0, 0, 0);\r\n    scene.add(directionalLight);\r\n    scene.add(directionalLight.target);\r\n\r\n    const ambientLight = new THREE.AmbientLight(0x404040, 0.8);\r\n    scene.add(ambientLight);\r\n\r\n    // Voeg eventlisteners toe voor zowel mobiele als desktop\r\n    containerModelMobile.addEventListener(\"mousedown\", onMouseDown, false);\r\n    containerModelDesktop.addEventListener(\"mousedown\", onMouseDown, false);\r\n\r\n    containerModelMobile.addEventListener(\"touchstart\", onTouchStart, false);\r\n    containerModelDesktop.addEventListener(\"touchstart\", onTouchStart, false);\r\n\r\n    window.addEventListener(\"mousemove\", onMouseMove, false);\r\n    window.addEventListener(\"touchmove\", onTouchMove, false);\r\n    window.addEventListener(\"mouseup\", onMouseUp, false);\r\n    window.addEventListener(\"touchend\", onTouchEnd, false);\r\n\r\n    // Initialiseer de scene en renderer\r\n    isRendererInitialized = true;\r\n    isSceneInitialized = true;\r\n\r\n    // Start de animatie\r\n    animate();\r\n  } catch (err) {\r\n    console.error(\"Fout bij initialisatie van de scene:\", err);\r\n  }\r\n}\r\n\r\nfunction animate() {\r\n  const rendererToUse =\r\n    window.innerWidth <= 768 ? rendererMobile : rendererDesktop;\r\n\r\n  if (rendererToUse) {\r\n    requestAnimationFrame(animate);\r\n    rendererToUse.render(scene, camera); // Render de scne\r\n  }\r\n}\r\n\r\nfunction extractMaterials(object) {\r\n  materials.value = [];\r\n  layers.value = [];\r\n  layersColors.value = [];\r\n\r\n  object.traverse((child) => {\r\n    if (child.isMesh) {\r\n      // Controleer of het een array van materialen is\r\n      if (Array.isArray(child.material)) {\r\n        child.material.forEach((material) => {\r\n          materials.value.push(material);\r\n          if (!layers.value.includes(material.name)) {\r\n            layers.value.push(material.name);\r\n            layersColors.value.push(\"#ffffff\"); // Default kleur voor het materiaal\r\n          }\r\n        });\r\n      } else {\r\n        materials.value.push(child.material);\r\n        if (!layers.value.includes(child.material.name)) {\r\n          layers.value.push(child.material.name);\r\n          layersColors.value.push(\"#ffffff\"); // Default kleur voor het materiaal\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Verwijder dubbele materialen\r\n  layers.value = [...new Set(layers.value)];\r\n}\r\n\r\nfunction load3DModel(filePath) {\r\n  if (!isSceneInitialized) {\r\n    console.error(\"Scene is not initialized.\");\r\n    return;\r\n  }\r\n\r\n  const fileExtension = filePath.split(\".\").pop().toLowerCase();\r\n  if (fileExtension === \"obj\") {\r\n    loadOBJModel(filePath); // Laad .obj bestand\r\n  } else if (fileExtension === \"glb\" || fileExtension === \"gltf\") {\r\n    loadGLBModel(filePath); // Laad .glb of .gltf bestand\r\n  } else {\r\n    console.error(\"Unsupported file type:\", fileExtension);\r\n  }\r\n}\r\n\r\nfunction loadGLBModel(filePath) {\r\n  gltfLoader.load(\r\n    filePath, // Gebruik het bestandspad voor .glb of .gltf\r\n    (gltf) => {\r\n      const object = gltf.scene;\r\n\r\n      // Verplaats het model naar het midden van de scene\r\n      const box = new THREE.Box3().setFromObject(object);\r\n      const center = box.getCenter(new THREE.Vector3());\r\n      object.position.set(-center.x, -center.y, -center.z);\r\n      object.scale.set(100, 100, 100); // Vergroot het model\r\n\r\n      // Voeg het object toe aan de scene\r\n      scene.add(object);\r\n      model = object;\r\n      isModelLoaded = true;\r\n      extractMaterials(object);\r\n\r\n      // Log de lagen na het toevoegen van het model en materialen\r\n      logSceneLayers(); // Verplaats deze lijn hier\r\n    }\r\n  );\r\n}\r\n\r\nfunction loadOBJModel(filePath) {\r\n  objLoader.load(filePath, (object) => {\r\n    object.scale.set(10, 10, 10); // Pas de schaal aan\r\n    scene.add(object);\r\n    model = object;\r\n    isModelLoaded = true;\r\n    extractMaterials(object);\r\n    logSceneLayers(); // Verplaats deze lijn hier\r\n  });\r\n}\r\n\r\n// Zoek de kleur voor een bepaalde laag\r\n// Zoek de kleur voor een bepaalde laag\r\nfunction getColorForLayer(newOption) {\r\n  let productConfigs = productData.value.configurations || [];\r\n\r\n  let config = productConfigs.find((config) =>\r\n    config.selectedOptions.some((option) => option.optionId?.name === newOption)\r\n  );\r\n\r\n  if (config) {\r\n    const fieldName = config.configurationId?.fieldName;\r\n\r\n    const selectedOption = config.selectedOptions.find(\r\n      (option) => option.optionId?.name === newOption\r\n    );\r\n\r\n    if (selectedOption) {\r\n      const color = selectedOption.optionId?.name; // Pas eventueel aan op de structuur van je data\r\n      if (color) {\r\n        return color; // Laag is zichtbaar, retourneer kleur\r\n      }\r\n    } else {\r\n      console.warn(`Geen geselecteerde optie gevonden voor ${newOption}`);\r\n    }\r\n  } else {\r\n    console.warn(`Geen configuratie gevonden voor ${newOption}`);\r\n  }\r\n\r\n  // Fallback kleur als geen kleur is gevonden\r\n  return \"#FFFFFF\"; // Standaard kleur\r\n}\r\n\r\n// Functie om de kleur toe te passen op de actieve laag\r\nfunction applyColorToActiveLayer(color) {\r\n  if (!scene) {\r\n    console.error(\"Scene is niet genitialiseerd!\");\r\n    return;\r\n  }\r\n\r\n  // Zoek de zichtbare config-ui__page (deze heeft de klasse 'active')\r\n  const activePage = document.querySelector(\".config-ui__page.active\");\r\n\r\n  // Als er geen actieve pagina is, stop de functie\r\n  if (!activePage) {\r\n    console.error(\"Geen actieve pagina gevonden.\");\r\n    return;\r\n  }\r\n\r\n  // Haal de naam van het veld uit de <h2> van de actieve pagina\r\n  const fieldNameElement = activePage.querySelector(\"h2.fieldName\");\r\n  let fieldName = fieldNameElement.textContent.trim();\r\n\r\n  // Gebruik een reguliere expressie om alles vr \"for\" te verwijderen\r\n  const match = fieldName.match(/for\\s+(.+)/);\r\n  if (match) {\r\n    fieldName = match[1].trim(); // Haal de tekst na \"for\" en verwijder extra spaties\r\n  }\r\n\r\n  if (!fieldName || typeof fieldName !== \"string\") {\r\n    console.error(\"Ongeldig fieldName opgegeven.\");\r\n    return;\r\n  }\r\n\r\n  // Valideer kleur (kleur moet een hex-code zijn)\r\n  const validColor = /^#[0-9A-Fa-f]{6}$/i.test(color);\r\n  if (!validColor) {\r\n    console.warn(`Ongeldige kleur: ${color}, standaardkleur wordt toegepast.`);\r\n    color = \"#FFFFFF\"; // Gebruik een standaardkleur als de kleur ongeldig is\r\n  }\r\n\r\n  let colorApplied = false;\r\n\r\n  // Traverse door de scne en zoek naar het juiste object\r\n  scene.traverse((object) => {\r\n    // Controleer of het object overeenkomt met de geselecteerde laag (fieldName)\r\n    if (\r\n      object instanceof THREE.Mesh &&\r\n      object.name.toLowerCase() === fieldName.toLowerCase()\r\n    ) {\r\n      // Zorg ervoor dat we alleen de kleur toepassen als het materiaal geschikt is\r\n      if (object.material) {\r\n        if (object.material instanceof THREE.MeshStandardMaterial) {\r\n          object.material.color.set(color);\r\n          colorApplied = true;\r\n        } else if (Array.isArray(object.material)) {\r\n          object.material.forEach((mat) => {\r\n            if (mat instanceof THREE.MeshStandardMaterial) {\r\n              mat.color.set(color);\r\n            }\r\n          });\r\n          colorApplied = true;\r\n        } else {\r\n          console.warn(\r\n            `Object '${object.name}' heeft een niet-ondersteund materiaaltype.`\r\n          );\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  // Als geen object is gevonden om de kleur toe te passen\r\n  if (!colorApplied) {\r\n    console.warn(\r\n      `Geen object gevonden met naam '${fieldName}' om de kleur toe te passen.`\r\n    );\r\n  }\r\n}\r\n\r\nasync function selectOption(optionId) {\r\n  const productId = route.params.productId;\r\n\r\n  if (!productId) {\r\n    console.error(\"productId is undefined!\");\r\n    return;\r\n  }\r\n\r\n  selectedOption.value = optionId;\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/products/${productId}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Product fetch error! Status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const product = result.data.product;\r\n\r\n    // Haal de configuraties op\r\n    const configurations = product.configurations || [];\r\n\r\n    // Zoek de kleur voor de laag op basis van de geselecteerde optie\r\n    const color = getColorForLayer(optionId);\r\n    if (color) {\r\n      applyColorToActiveLayer(color); // Pas de kleur toe op de actieve laag\r\n    }\r\n\r\n    productData.value = {\r\n      productName: product.productName,\r\n      productCode: product.productCode,\r\n      productPrice: product.productPrice,\r\n      configurations: configurations,\r\n    };\r\n  } catch (err) {\r\n    console.error(\"Error fetching product data:\", err.message);\r\n  }\r\n}\r\n\r\nfunction findFieldNameForOption(optionName) {\r\n  const productConfigs = productData.value.configurations || [];\r\n\r\n  // Zoek de configuratie die overeenkomt met de optie\r\n  const config = productConfigs.find((config) =>\r\n    config.selectedOptions.some(\r\n      (option) => option.optionId?.name === optionName\r\n    )\r\n  );\r\n\r\n  if (config) {\r\n    return config.configurationId?.fieldName || null; // Geef de fieldName terug of null als deze ontbreekt\r\n  }\r\n\r\n  console.warn(`Geen fieldName gevonden voor optie: ${optionName}`);\r\n  return null;\r\n}\r\n\r\nwatch(selectedOptionName, (newOption) => {\r\n  if (newOption) {\r\n    const fieldName = findFieldNameForOption(newOption);\r\n    const color = getColorForLayer(newOption);\r\n    if (color && fieldName) {\r\n      applyColorToActiveLayer(color);\r\n    }\r\n  }\r\n});\r\n\r\nonMounted(async () => {\r\n  const productId = route.params.productId; // Verkrijg productId uit route parameters\r\n  if (!productId) return; // Als er geen productId is, doe dan niets\r\n\r\n  try {\r\n    isLoading.value = true; // Zet laadtijdindicator aan\r\n    error.value = null; // Reset eventuele foutmeldingen\r\n\r\n    // Haal productgegevens op\r\n    await fetchProductData(productId); // Gebruik de fetchProductData functie om productinformatie te laden\r\n\r\n    // Controleer of er een partnerId is en haal partnerinformatie op\r\n    const partnerId = productData.value.partnerId;\r\n    if (partnerId) {\r\n      await fetchPartnerPackage(partnerId); // Haal partnerpakket op\r\n    }\r\n\r\n    // Als het partnerpakket \"pro\" is en er een geselecteerde afbeelding is, laad dan het 3D-model\r\n    if (partnerPackage.value === \"pro\" && selectedImage.value) {\r\n      const container = document.querySelector(\".model\");\r\n\r\n      if (container) {\r\n        initializeScene(); // Initialiseer de scne voor het 3D-model\r\n\r\n        const filePath = `${selectedImage.value}`; // Dynamisch pad op basis van geselecteerde afbeelding\r\n\r\n        load3DModel(filePath); // Laad het 3D-model met het pad\r\n      } else {\r\n        console.error(\"3D container not found!\"); // Foutmelding als de container niet wordt gevonden\r\n      }\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching product data:\", err.message);\r\n    error.value = \"Error occurred while fetching product data.\"; // Zet foutmelding\r\n  } finally {\r\n    isLoading.value = false; // Zet laadtijdindicator uit\r\n  }\r\n});\r\n\r\n/* ---- 2D ---- */\r\nasync function fetchNumberOfPartnerConfigurations(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partnerConfigurations`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n\r\n    const count = data.data.filter(\r\n      (config) => config.partnerId === partnerId\r\n    ).length;\r\n\r\n    partnerConfigurationsCount.value = count;\r\n    return count;\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner configurations:\", err);\r\n  }\r\n}\r\n\r\n// Aangenomen dat je productgegevens en partnerconfiguraties al hebt\r\n\r\nasync function fetchPartnerConfigurations(partnerId, product) {\r\n  try {\r\n    // Fetch partner configurations\r\n    const response = await fetch(\r\n      `${baseURL}/partnerConfigurations?partnerId=${partnerId}`\r\n    );\r\n\r\n    if (!response.ok) throw new Error(\"Unable to fetch partner configurations\");\r\n\r\n    const data = await response.json();\r\n\r\n    // Check if the fetched data is an array\r\n    if (!Array.isArray(data.data)) {\r\n      console.error(\"Fetched data is not an array:\", data.data);\r\n      return [];\r\n    }\r\n\r\n    const partnerConfigs = data.data.filter(\r\n      (config) => config.partnerId === partnerId\r\n    );\r\n\r\n    // Ensure product configurations exist\r\n    if (product.configurations && product.configurations.length > 0) {\r\n      productConfigs.value = product.configurations;\r\n    } else {\r\n      console.error(\"No configurations available for the product.\");\r\n      productConfigs.value = [];\r\n    }\r\n\r\n    const productConfigurationId = product.configurations?.[0]?.configurationId;\r\n\r\n    if (!productConfigurationId) {\r\n      console.error(\"ConfigurationId for product is not available.\");\r\n      return [];\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching partner configurations:\", err);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Function to fetch the option name by optionId\r\nasync function optionNameById(optionId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/options/${optionId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n\r\n    // Check if the name already exists in the optionNames array, if not, push it\r\n    const existing = optionNames.value.find(\r\n      (item) => item.optionId === optionId\r\n    );\r\n    if (!existing) {\r\n      optionNames.value.push({ optionId, name: data.data.name }); // Push the optionId and name pair\r\n    }\r\n\r\n    return data.data.name; // Return the name for use\r\n  } catch (error) {\r\n    console.error(\"Error fetching option by ID:\", error);\r\n    return null; // Return null in case of an error\r\n  }\r\n}\r\n\r\n// Function to load options for a given configuration ID\r\nasync function loadOptionsForConfig(configId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/configurations/${configId}`);\r\n    if (!response.ok) throw new Error(\"Network response was not ok\");\r\n    const data = await response.json();\r\n    // For each option in the config, fetch its name\r\n    for (const option of data.data.options) {\r\n      await optionNameById(option.optionId);\r\n    }\r\n\r\n    // After fetching all names, log optionNames\r\n    return data.data.options; // Return the fetched options\r\n  } catch (error) {\r\n    console.error(\"Error fetching configuration options:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function fetchProductData(productCode) {\r\n  try {\r\n    isLoading.value = true;\r\n    error.value = null;\r\n\r\n    const response = await fetch(`${baseURL}/products/${productCode}`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const product = result.data.product;\r\n    productName.value = product.productName;\r\n\r\n    const configurations = product.configurations || [];\r\n    optionNames.value = [];\r\n\r\n    let selectedOptionImages = [];\r\n\r\n    const enrichedConfigurations = await Promise.all(\r\n      configurations.map(async (config) => {\r\n        let selectedConfigId = config.configurationId;\r\n\r\n        if (typeof selectedConfigId === \"object\" && selectedConfigId._id) {\r\n          selectedConfigId = selectedConfigId._id;\r\n        }\r\n\r\n        await loadOptionsForConfig(selectedConfigId);\r\n\r\n        const configUrl = `${baseURL}/configurations/${selectedConfigId}`;\r\n\r\n        try {\r\n          const configResponse = await fetch(configUrl, {\r\n            method: \"GET\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          });\r\n\r\n          if (!configResponse.ok) {\r\n            throw new Error(\r\n              `Configuration fetch error! Status: ${configResponse.status}`\r\n            );\r\n          }\r\n\r\n          const configResult = await configResponse.json();\r\n          const options = configResult.data.options || [];\r\n\r\n          const selectedOptionData = config.selectedOptions[0];\r\n\r\n          let optionName = selectedOptionData?.name;\r\n\r\n          if (!optionName && selectedOptionData?.optionId) {\r\n            const optionUrl = `${baseURL}/options/${selectedOptionData.optionId._id}`;\r\n            const optionResponse = await fetch(optionUrl);\r\n            const optionResult = await optionResponse.json();\r\n            optionName = optionResult.data?.name || \"Option 1\";\r\n          }\r\n\r\n          // Voeg de geselecteerde afbeeldingen toe aan de array\r\n          if (selectedOptionData?.images) {\r\n            selectedOptionImages.push(...selectedOptionData.images); // voeg toe i.p.v. overschrijven\r\n          }\r\n\r\n          const existingConfigIndex = selectedItems.value.findIndex(\r\n            (item) => item.configurationId === selectedConfigId\r\n          );\r\n\r\n          if (existingConfigIndex !== -1) {\r\n            selectedItems.value[existingConfigIndex].selectedItem = {\r\n              optionName: optionName,\r\n              images: selectedOptionImages,\r\n            };\r\n          } else {\r\n            selectedItems.value.push({\r\n              configurationId: selectedConfigId,\r\n              selectedItem: {\r\n                optionName: optionName,\r\n                images: selectedOptionImages,\r\n              },\r\n            });\r\n          }\r\n\r\n          return {\r\n            ...config,\r\n            options,\r\n          };\r\n        } catch (err) {\r\n          console.error(\r\n            `Error fetching configuration for ID ${selectedConfigId}:`,\r\n            err.message\r\n          );\r\n          return { ...config, options: [] };\r\n        }\r\n      })\r\n    );\r\n\r\n    if (selectedOptionImages.length > 0) {\r\n      productImages.value = selectedOptionImages;\r\n      selectedImage.value = selectedOptionImages[0];\r\n    } else {\r\n      console.warn(\"No images found for the selected option\");\r\n    }\r\n\r\n    productData.value = {\r\n      productName: product.productName,\r\n      productCode: product.productCode,\r\n      productPrice: product.productPrice,\r\n      images: selectedOptionImages,\r\n      configurations: enrichedConfigurations,\r\n    };\r\n\r\n    const optionNamesList = enrichedConfigurations.flatMap((config) =>\r\n      config.selectedOptions.map((selectedOption) => selectedOption.optionName)\r\n    );\r\n    optionNames.value = optionNamesList;\r\n\r\n    const partnerId = product.partnerId;\r\n    if (partnerId) {\r\n      await fetchPartnerName(partnerId);\r\n      await fetchPartnerPackage(partnerId);\r\n      await fetchNumberOfPartnerConfigurations(partnerId);\r\n      await fetchLogoUrl(partnerId);\r\n      await fetchPartnerConfigurations(partnerId, product);\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching product data:\", err.message);\r\n    error.value =\r\n      \"Er is een fout opgetreden bij het ophalen van de productgegevens.\";\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n}\r\n\r\nasync function previousPage() {\r\n  const pages = document.querySelectorAll(\".config-ui__page\");\r\n  const overview = document.querySelector(\".overview\");\r\n  const summary = document.querySelector(\".summary\");\r\n  const nextButton = document.querySelector(\".nextButton\");\r\n  const backButton = document.querySelector(\".backButton\");\r\n\r\n  // Zorg ervoor dat er pagina's zijn\r\n  if (!pages || pages.length === 0) {\r\n    console.warn(\"No config-ui__page elements found.\");\r\n    return;\r\n  }\r\n\r\n  // Als we op de overzichtspagina zitten (pagina 0)\r\n  if (currentPageIndex.value === 0) {\r\n    // Maak de overzichtspagina zichtbaar\r\n    if (overview) {\r\n      overview.style.display = \"flex\"; // 'overview' wordt zichtbaar\r\n      pages.forEach((page) => page.classList.remove(\"active\"));\r\n    }\r\n\r\n    // Maak de 'next' knop zichtbaar\r\n    if (nextButton) {\r\n      nextButton.style.visibility = \"visible\"; // 'next' knop zichtbaar\r\n    }\r\n\r\n    // Verberg de 'back' knop\r\n    if (backButton) {\r\n      backButton.style.visibility = \"hidden\"; // 'back' knop wordt verborgen\r\n    }\r\n\r\n    if (summary && summary.style.display == \"flex\") {\r\n      overview.style.display = \"none\"; // 'overview' wordt zichtbaar\r\n      pages.forEach((page) => page.classList.remove(\"active\"));\r\n      pages[currentPageIndex.value].classList.add(\"active\");\r\n      backButton.style.visibility = \"visible\"; // 'back' knop wordt verborgen\r\n    }\r\n\r\n    // Verberg de samenvatting\r\n    if (summary) {\r\n      summary.style.display = \"none\"; // Verberg summary als we terug naar overview gaan\r\n    }\r\n  }\r\n\r\n  // Als we op de summary pagina zitten, verberg de summary en ga naar de vorige pagina\r\n  if (summary) {\r\n    summary.style.display = \"none\"; // Verberg de summary pagina\r\n    // Log naar de console als we van summary naar configuratiepagina gaan\r\n  }\r\n\r\n  // Als we op een configuratiepagina zitten, toon de vorige configuratiepagina\r\n  if (currentPageIndex.value > 0) {\r\n    // Verwijder de 'active' klasse van de huidige configuratiepagina\r\n    pages[currentPageIndex.value].classList.remove(\"active\");\r\n\r\n    // Ga naar de vorige pagina\r\n    currentPageIndex.value--;\r\n\r\n    // Zet de 'active' klasse op de vorige configuratiepagina\r\n    pages[currentPageIndex.value].classList.add(\"active\");\r\n\r\n    // Verberg de overzichtspagina\r\n    if (overview) {\r\n      overview.style.display = \"none\"; // 'overview' wordt verborgen\r\n    }\r\n\r\n    // Maak de 'back' knop zichtbaar\r\n    if (backButton) {\r\n      backButton.style.visibility = \"visible\"; // Toon de 'back' knop\r\n    }\r\n\r\n    // Als we op de eerste configuratiepagina zitten, verberg de 'back' knop\r\n    if (currentPageIndex.value === 0) {\r\n      if (backButton) {\r\n        backButton.style.visibility = \"hidden\"; // Verberg de 'back' knop op de eerste pagina\r\n      }\r\n    }\r\n\r\n    // Maak de 'next' knop zichtbaar (tenzij we op de laatste pagina zitten)\r\n    if (nextButton) {\r\n      nextButton.style.visibility = \"visible\"; // 'next' knop wordt zichtbaar\r\n    }\r\n  }\r\n}\r\n\r\nasync function nextPage() {\r\n  const overview = document.querySelector(\".overview\");\r\n  const summary = document.querySelector(\".summary\");\r\n  const pages = document.querySelectorAll(\".config-ui__page\");\r\n\r\n  // Controleer of er pagina's zijn\r\n  if (!pages || pages.length === 0) {\r\n    console.warn(\"No config-ui__page elements found.\");\r\n    return;\r\n  }\r\n\r\n  // Als we op de overzichtspagina zitten\r\n  if (overview && overview.style.display !== \"none\") {\r\n    // Verberg overzicht en zet de eerste pagina als actief\r\n    overview.style.display = \"none\";\r\n    currentPageIndex.value = 0;\r\n    pages.forEach((page) => page.classList.remove(\"active\"));\r\n    pages[currentPageIndex.value].classList.add(\"active\");\r\n\r\n    // Maak de back-knop zichtbaar\r\n    document.querySelector(\".backButton\").style.visibility = \"visible\";\r\n  } else {\r\n    // Verwijder de 'active' klasse van de huidige pagina\r\n    pages[currentPageIndex.value].classList.remove(\"active\");\r\n\r\n    // Verhoog de pagina-index en toon de volgende pagina\r\n    if (currentPageIndex.value < pages.length - 1) {\r\n      currentPageIndex.value++;\r\n      pages[currentPageIndex.value].classList.add(\"active\");\r\n    } else {\r\n      // Haal productId op uit de URL\r\n      const productId = route.params.productId;\r\n\r\n      // Controleer of productId beschikbaar is\r\n      if (!productId) {\r\n        console.error(\"productId is undefined!\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        // Haal productgegevens op\r\n        const response = await fetch(`${baseURL}/products/${productId}`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\r\n            `Failed to fetch product data. Status: ${response.status}`\r\n          );\r\n        }\r\n\r\n        const result = await response.json();\r\n        const product = result.data.product; // Zorg ervoor dat 'product' hier wordt gedefinieerd\r\n\r\n        // Haal partnerId van het product\r\n        const partnerId = product.partnerId;\r\n\r\n        // Haal het aantal configuraties op voor de partner\r\n        const count = await fetchNumberOfPartnerConfigurations(partnerId);\r\n\r\n        // Als er meerdere configuraties zijn, toon de samenvatting\r\n        if (count <= 1) {\r\n          summary.style.display = \"flex\";\r\n          document.querySelector(\".nextButton\").style.visibility = \"hidden\";\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching product data:\", err.message);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nasync function fetchLogoUrl(partnerId) {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) throw new Error(\"Unable to fetch logo URL\");\r\n    const data = await response.json();\r\n    if (data?.data?.partner) {\r\n      logoUrl.value = data.data.partner.logo_url;\r\n    } else {\r\n      console.warn(\"Partner not found in the response.\");\r\n    }\r\n  } catch (err) {\r\n    console.error(\"Error fetching logo URL:\", err);\r\n  }\r\n}\r\n\r\nfunction showPreviousImage() {\r\n  const currentIndex = productImages.value.indexOf(selectedImage.value);\r\n  if (currentIndex > 0) {\r\n    selectedImage.value = productImages.value[currentIndex - 1];\r\n  }\r\n}\r\n\r\nfunction showNextImage() {\r\n  const currentIndex = productImages.value.indexOf(selectedImage.value);\r\n  if (currentIndex < productImages.value.length - 1) {\r\n    selectedImage.value = productImages.value[currentIndex + 1];\r\n  }\r\n}\r\n\r\nfunction setSelectedImage(image) {\r\n  selectedImage.value = image; // Zorg dat dit een object is\r\n}\r\n\r\nwatch(\r\n  () => route.params.productId,\r\n  async (newCode) => {\r\n    if (newCode && newCode !== productId.value) {\r\n      productId.value = newCode;\r\n      await fetchProductData(newCode);\r\n    }\r\n  },\r\n  { immediate: true }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <div class=\"container\">\r\n    <div\r\n      class=\"logoConfigurator\"\r\n      :style=\"{ backgroundImage: `url(${logoUrl})` }\"\r\n    ></div>\r\n    <div class=\"carousel\" v-if=\"partnerPackage === 'standard'\">\r\n      <div class=\"top\">\r\n        <div\r\n          class=\"icon\"\r\n          :class=\"{ disabled: selectedImage === productImages[0] }\"\r\n          @click=\"selectedImage !== productImages[0] && showPreviousImage()\"\r\n        >\r\n          <i class=\"fa fa-angle-left\"></i>\r\n        </div>\r\n        <div\r\n          class=\"image\"\r\n          :style=\"{ backgroundImage: `url(${selectedImage})` }\"\r\n        ></div>\r\n        <div\r\n          class=\"icon\"\r\n          :class=\"{\r\n            disabled: selectedImage === productImages[productImages.length - 1],\r\n          }\"\r\n          @click=\"\r\n            selectedImage !== productImages[productImages.length - 1] &&\r\n              showNextImage()\r\n          \"\r\n        >\r\n          <i class=\"fa fa-angle-right\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"processbar\">\r\n        <div class=\"long-bar\"></div>\r\n        <div\r\n          class=\"short-bar\"\r\n          :style=\"{\r\n            width: `${\r\n              ((productImages.indexOf(selectedImage) + 1) /\r\n                productImages.length) *\r\n              100\r\n            }%`,\r\n          }\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"model desktop\"></div>\r\n    <div class=\"icons desktop\">\r\n      <router-link :to=\"`/`\">\r\n        <div class=\"icon\">\r\n          <div>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"26\"\r\n              height=\"26\"\r\n              viewBox=\"0 0 256 256\"\r\n            >\r\n              <path\r\n                d=\"M104,216V152h48v64h64V120a8,8,0,0,0-2.34-5.66l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,40,120v96Z\"\r\n                fill=\"none\"\r\n                stroke=\"white\"\r\n                stroke-width=\"8\"\r\n              ></path>\r\n            </svg>\r\n          </div>\r\n          <p>Home</p>\r\n        </div>\r\n      </router-link>\r\n      <div class=\"icon\" v-if=\"partnerPackage === 'pro'\">\r\n        <div @click=\"showModel = !showModel\" class=\"AR\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n            <path\r\n              d=\"M11.98 2.36a.75.75 0 00-.33.1L8.3 4.11H8.3a.08.08 0 00-.01.01.76.76 0 00-.31 1c.09.18.24.31.43.38.19.06.4.05.57-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.54V4.34L15 5.47h.01a.76.76 0 001.03-.91.75.75 0 00-.34-.42l-.01-.01a.08.08 0 00-.01 0l-3.34-1.68a.75.75 0 00-.37-.09zm-5.57 2.8a.76.76 0 00-.34.08L2.72 6.9a.76.76 0 00-.42.7v3.9c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V8.81l2.26 1.13a.76.76 0 001.05-.91.76.76 0 00-.35-.42.08.08 0 00-.02-.02l-2-1 2-1c.3-.16.48-.52.4-.85a.77.77 0 00-.74-.58zm11.18 0a.77.77 0 00-.73.58c-.08.32.08.67.37.83l.02.02 2 1-2 1a.08.08 0 00-.02.02c-.17.1-.3.24-.35.42a.76.76 0 00.47.95c.19.06.4.05.58-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V7.6a.76.76 0 00-.42-.69l-3.35-1.67a.76.76 0 00-.34-.08zm-2.24 4.47a.75.75 0 00-.33.08L12 11.2l-3.02-1.5a.76.76 0 00-1.05.91c.06.18.2.33.36.42a.08.08 0 000 .01h.01a.08.08 0 000 .01l2.94 1.47v2.89c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.53v-2.9l2.93-1.46.02-.02c.3-.16.45-.5.37-.83a.77.77 0 00-.73-.58zM3.01 14.11a.75.75 0 00-.7.75v3.9c-.01.29.15.56.41.69l3.35 1.67a.76.76 0 001.05-.91.76.76 0 00-.34-.42.08.08 0 00-.03-.02l-2-1 2-1 .02-.02c.17-.1.3-.24.35-.42a.76.76 0 00-.47-.95.77.77 0 00-.58.04l-2.26 1.13v-2.7c0-.2-.08-.4-.24-.55a.76.76 0 00-.56-.2zm17.88 0a.76.76 0 00-.7.75v2.69l-2.26-1.13a.76.76 0 00-1.05.91c.06.18.18.33.35.42a.08.08 0 00.01 0v.02a.08.08 0 00.01 0l2 1-2 1h-.01a.08.08 0 000 .01h-.01a.76.76 0 00.13 1.37c.18.07.39.06.57-.03l3.35-1.67c.26-.13.42-.4.42-.69v-3.9a.76.76 0 00-.8-.75zm-8.94 4.47a.08.08 0 00-.03 0 .75.75 0 00-.47.23.76.76 0 00-.2.52v2.69l-2.26-1.13a.08.08 0 00-.01 0 .76.76 0 00-1.03.91c.05.18.18.33.34.42l.01.01a.08.08 0 00.01.01l3.34 1.67c.22.12.49.11.7 0l3.34-1.67.02-.01a.76.76 0 00.31-1 .76.76 0 00-1-.34l-2.26 1.13v-2.7a.76.76 0 00-.8-.74z\"\r\n            ></path>\r\n          </svg>\r\n        </div>\r\n        <p>AR</p>\r\n      </div>\r\n\r\n      <ModelViewer v-if=\"showModel\" />\r\n\r\n      <!-- FaceTracking Component Tonen -->\r\n      <FaceTracking v-if=\"isFaceTrackingVisible\" @close=\"toggleFaceTracking\" />\r\n    </div>\r\n    <div class=\"rotate-informer desktop\" v-if=\"partnerPackage === 'pro'\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n        fill=\"#ffffff\"\r\n        viewBox=\"0 0 256 256\"\r\n      >\r\n        <path\r\n          d=\"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z\"\r\n        ></path>\r\n      </svg>\r\n      <p>Drag to rotate</p>\r\n    </div>\r\n\r\n    <div class=\"mobileElements\">\r\n      <router-link :to=\"`/`\" class=\"back\">\r\n        <i class=\"fa fa-angle-left\"></i>\r\n        <p>Back to collections</p>\r\n      </router-link>\r\n      <div class=\"row\">\r\n        <p class=\"name\">{{ productName }}</p>\r\n        <div class=\"icons\">\r\n          <div class=\"icon\" v-if=\"partnerPackage === 'pro'\">\r\n            <div @click=\"showModel = !showModel\" class=\"AR\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  d=\"M11.98 2.36a.75.75 0 00-.33.1L8.3 4.11H8.3a.08.08 0 00-.01.01.76.76 0 00-.31 1c.09.18.24.31.43.38.19.06.4.05.57-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.54V4.34L15 5.47h.01a.76.76 0 001.03-.91.75.75 0 00-.34-.42l-.01-.01a.08.08 0 00-.01 0l-3.34-1.68a.75.75 0 00-.37-.09zm-5.57 2.8a.76.76 0 00-.34.08L2.72 6.9a.76.76 0 00-.42.7v3.9c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V8.81l2.26 1.13a.76.76 0 001.05-.91.76.76 0 00-.35-.42.08.08 0 00-.02-.02l-2-1 2-1c.3-.16.48-.52.4-.85a.77.77 0 00-.74-.58zm11.18 0a.77.77 0 00-.73.58c-.08.32.08.67.37.83l.02.02 2 1-2 1a.08.08 0 00-.02.02c-.17.1-.3.24-.35.42a.76.76 0 00.47.95c.19.06.4.05.58-.04l2.26-1.13v2.7c0 .2.08.39.22.53a.76.76 0 001.07 0 .76.76 0 00.22-.54V7.6a.76.76 0 00-.42-.69l-3.35-1.67a.76.76 0 00-.34-.08zm-2.24 4.47a.75.75 0 00-.33.08L12 11.2l-3.02-1.5a.76.76 0 00-1.05.91c.06.18.2.33.36.42a.08.08 0 000 .01h.01a.08.08 0 000 .01l2.94 1.47v2.89c0 .2.08.39.22.53a.76.76 0 001.08 0 .76.76 0 00.22-.53v-2.9l2.93-1.46.02-.02c.3-.16.45-.5.37-.83a.77.77 0 00-.73-.58zM3.01 14.11a.75.75 0 00-.7.75v3.9c-.01.29.15.56.41.69l3.35 1.67a.76.76 0 001.05-.91.76.76 0 00-.34-.42.08.08 0 00-.03-.02l-2-1 2-1 .02-.02c.17-.1.3-.24.35-.42a.76.76 0 00-.47-.95.77.77 0 00-.58.04l-2.26 1.13v-2.7c0-.2-.08-.4-.24-.55a.76.76 0 00-.56-.2zm17.88 0a.76.76 0 00-.7.75v2.69l-2.26-1.13a.76.76 0 00-1.05.91c.06.18.18.33.35.42a.08.08 0 00.01 0v.02a.08.08 0 00.01 0l2 1-2 1h-.01a.08.08 0 000 .01h-.01a.76.76 0 00.13 1.37c.18.07.39.06.57-.03l3.35-1.67c.26-.13.42-.4.42-.69v-3.9a.76.76 0 00-.8-.75zm-8.94 4.47a.08.08 0 00-.03 0 .75.75 0 00-.47.23.76.76 0 00-.2.52v2.69l-2.26-1.13a.08.08 0 00-.01 0 .76.76 0 00-1.03.91c.05.18.18.33.34.42l.01.01a.08.08 0 00.01.01l3.34 1.67c.22.12.49.11.7 0l3.34-1.67.02-.01a.76.76 0 00.31-1 .76.76 0 00-1-.34l-2.26 1.13v-2.7a.76.76 0 00-.8-.74z\"\r\n                ></path>\r\n              </svg>\r\n            </div>\r\n            <p>AR</p>\r\n          </div>\r\n\r\n          <ModelViewer v-if=\"showModel\" />\r\n          <!-- FaceTracking Component Tonen -->\r\n          <FaceTracking\r\n            v-if=\"isFaceTrackingVisible\"\r\n            @close=\"toggleFaceTracking\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"model\" v-if=\"partnerPackage === 'pro'\"></div>\r\n      <div class=\"bigImageWithImages\">\r\n        <!-- Big Image Display -->\r\n        <div\r\n          class=\"bigImage\"\r\n          :style=\"{ backgroundImage: `url(${selectedImage})` }\"\r\n        ></div>\r\n\r\n        <!-- Thumbnail Images -->\r\n        <div class=\"images\">\r\n          <div\r\n            v-for=\"(image, index) in productImages\"\r\n            :key=\"image._id\"\r\n            class=\"image\"\r\n            :class=\"{ active: image === selectedImage }\"\r\n            :style=\"{ backgroundImage: `url(${image})` }\"\r\n            @click=\"setSelectedImage(image)\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rotate-informer desktop\" v-if=\"partnerPackage === 'pro'\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          fill=\"#ffffff\"\r\n          viewBox=\"0 0 256 256\"\r\n        >\r\n          <path\r\n            d=\"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z\"\r\n          ></path>\r\n        </svg>\r\n        <p>Drag to rotate</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"config-wrapper\">\r\n      <div class=\"overview\">\r\n        <h2>Overview</h2>\r\n        <ul v-if=\"productConfigs.length > 0\">\r\n          <li v-for=\"(configuration, index) in productConfigs\" :key=\"index\">\r\n            <p>\r\n              {{ configuration.configurationId?.fieldName }}\r\n            </p>\r\n            <i class=\"fa fa-angle-right\"></i>\r\n          </li>\r\n        </ul>\r\n\r\n        <p v-else>No configurations found for this product.</p>\r\n      </div>\r\n      <div\r\n        v-for=\"(configuration, index) in productConfigs\"\r\n        :key=\"index\"\r\n        class=\"config-ui__page\"\r\n        v-show=\"currentPageIndex === index\"\r\n      >\r\n        <h2 class=\"fieldName\">\r\n          {{\r\n            configuration.configurationId?.fieldType === \"color\"\r\n              ? \"Choose the color for\"\r\n              : \"Choose an option for\"\r\n          }}\r\n          {{ configuration.configurationId?.fieldName || `Layer ${index}` }}\r\n        </h2>\r\n\r\n        <div class=\"row\">\r\n          <div\r\n            v-for=\"(selectedOption, index) in configuration.selectedOptions\"\r\n            :key=\"index\"\r\n            :class=\"{\r\n              active: selectedOption.optionId?.name === selectedOptionName,\r\n            }\"\r\n            @click=\"selectOption(selectedOption.optionId?.name)\"\r\n            :style=\"{ backgroundColor: selectedOption.optionId?.name }\"\r\n          ></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"summary\">\r\n        <h2>Summary</h2>\r\n        <ul v-if=\"productConfigs.length > 0\">\r\n          <li\r\n            v-for=\"(configuration, index) in productConfigs\"\r\n            :key=\"index\"\r\n            class=\"borderBottom\"\r\n          >\r\n            <p>{{ configuration.configurationId?.fieldName }}</p>\r\n\r\n            <!-- Controleer of er geselecteerde items zijn -->\r\n            <ul>\r\n              <li\r\n                v-if=\"\r\n                  selectedItems.length > 0 &&\r\n                  selectedItems.some(\r\n                    (item) =>\r\n                      item.configurationId ===\r\n                      configuration.configurationId?._id\r\n                  )\r\n                \"\r\n                v-for=\"(item, index) in selectedItems\"\r\n                :key=\"index\"\r\n              >\r\n                <p\r\n                  class=\"border\"\r\n                  :style=\"{\r\n                    backgroundColor:\r\n                      item.selectedItem?.optionName || 'transparent',\r\n                  }\"\r\n                ></p>\r\n              </li>\r\n\r\n              <!-- Als er geen geselecteerde optie is, toon dan een transparante border met configuratienaam -->\r\n              <li v-else>\r\n                <p class=\"border\" style=\"background-color: transparent\">\r\n                  <span>No option selected</span>\r\n                </p>\r\n              </li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"links\">\r\n        <a\r\n          href=\"#\"\r\n          class=\"backButton\"\r\n          @click=\"previousPage\"\r\n          style=\"visibility: hidden\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 320 512\"\r\n            style=\"transform: rotate(180deg)\"\r\n          >\r\n            <path\r\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\r\n            ></path>\r\n          </svg>\r\n          <p>Back</p>\r\n        </a>\r\n\r\n        <a class=\"nextButton\" @click=\"nextPage\" style=\"visibility: visible\">\r\n          <p>Next</p>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\r\n            ></path>\r\n          </svg>\r\n        </a>\r\n\r\n        <a href=\"#\" class=\"summaryButton\" style=\"display: none\">\r\n          <p>Summary</p>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\">\r\n            <path\r\n              d=\"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z\"\r\n            ></path>\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style src=\"../assets/css/detailsProduct.css\"></style>\r\n","import script from \"./DetailsProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DetailsProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"../assets/css/detailsProduct.css?vue&type=style&index=0&lang=css&external\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\r\nimport { reactive, ref, computed, onMounted, inject } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\n// Router instance for navigation\r\nconst router = useRouter();\r\n\r\n// Inject the user object from parent (settingsPage)\r\nconst user = inject(\"user\", () =>\r\n  reactive({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    role: \"\",\r\n    profilePicture: \"\",\r\n  })\r\n);\r\n\r\nif (!user) {\r\n  console.error(\"No user data provided!\");\r\n  router.push(\"/login\"); // Verplicht de gebruiker om in te loggen als er geen `user` data is.\r\n}\r\n\r\n// Function to extract user data from the JWT token (kan mogelijk overbodig zijn als we al `user` injecteren)\r\nconst getUserDataFromToken = () => {\r\n  const token = localStorage.getItem(\"jwtToken\");\r\n  if (token) {\r\n    const payload = token.split(\".\")[1];\r\n    const decodedPayload = JSON.parse(atob(payload));\r\n    const userId = decodedPayload.userId;\r\n    const firstName = decodedPayload.firstname;\r\n    const lastName = decodedPayload.lastname;\r\n    const role = decodedPayload.role;\r\n    const profilePicture = decodedPayload.profilePicture || \"\";\r\n\r\n    if (!userId) {\r\n      console.error(\"User ID not found in token\");\r\n    }\r\n\r\n    return { userId, firstName, lastName, role, profilePicture }; // Return updated fields\r\n  }\r\n  console.error(\"No token found in localStorage\");\r\n  return null;\r\n};\r\n\r\n// Function to fetch user data via API (kan eventueel worden vervangen door data in `user` injecteren)\r\nconst fetchUserData = async (userId) => {\r\n  const isProduction = window.location.hostname !== \"localhost\";\r\n  const baseURL = isProduction\r\n    ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n    : \"http://localhost:3000/api/v1\";\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`);\r\n    const userData = response.data.data.user;\r\n    if (userData) {\r\n      // Dynamically update the reactive user data\r\n      user.firstName = userData.firstname || \"\";\r\n      user.lastName = userData.lastname || \"\";\r\n      user.role = userData.role || \"\";\r\n      user.profilePicture = userData.profilePicture || \"\";\r\n    } else {\r\n      console.error(\"No user found in the response.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user data:\", error);\r\n  }\r\n};\r\n\r\n// Definieer de huisstijl data\r\nconst huisstijlData = reactive({\r\n  primaryColor: \"#d4af37\",\r\n  secondaryColor: \"#f0edea\",\r\n  backgroundColor: \"#ffffff\",\r\n  textColor: \"#ffffff\",\r\n  fontFamilyBodyText: \"Work Sans\",\r\n  fontFamilyTitles: \"Libre Barcode 128\",\r\n  logo_url: \"../../src/assets/images/rebilt-favicon.svg\",\r\n});\r\n\r\n// Fetch user data when component is mounted\r\nonMounted(() => {\r\n  const userData = getUserDataFromToken();\r\n  if (userData) {\r\n    // If user data is found in the token, fetch the full user data\r\n    fetchUserData(userData.userId);\r\n  }\r\n});\r\n\r\n// Function to handle logout\r\nconst logout = () => {\r\n  localStorage.removeItem(\"jwtToken\");\r\n  router.push(\"/login\");\r\n};\r\n\r\n// Function to dynamically select the icon based on the active route\r\nconst getActiveIcon = (routeName, defaultIcon) => {\r\n  const currentRoute = router.currentRoute.value.path;\r\n\r\n  switch (routeName) {\r\n    case \"products\":\r\n      return currentRoute === \"/admin\"\r\n        ? \"../src/assets/icons/tag_active.svg\"\r\n        : \"../src/assets/icons/tag.svg\";\r\n    case \"orders\":\r\n      return currentRoute === \"/admin/orders\"\r\n        ? \"../src/assets/icons/inbox_active.svg\"\r\n        : \"../src/assets/icons/inbox.svg\";\r\n    case \"partners\":\r\n      return currentRoute === \"/admin/partners\"\r\n        ? \"../src/assets/icons/partners_active.svg\"\r\n        : \"../src/assets/icons/partners.svg\";\r\n    case \"styling\":\r\n      return currentRoute === \"/admin/styling\"\r\n        ? \"../src/assets/icons/styling_active.svg\"\r\n        : \"../src/assets/icons/styling.svg\";\r\n    case \"users\":\r\n      return currentRoute === \"/admin/users\"\r\n        ? \"../src/assets/icons/users_active.svg\"\r\n        : \"../src/assets/icons/users.svg\";\r\n    case \"settings\":\r\n      return currentRoute === \"/admin/settings\"\r\n        ? \"../src/assets/icons/settings_active.svg\"\r\n        : \"../src/assets/icons/settings.svg\";\r\n    case \"logout\":\r\n      return \"../assets/icons/logout.svg\"; // Logout icon is always static\r\n    default:\r\n      return defaultIcon; // Return the default icon for all other routes\r\n  }\r\n};\r\n\r\nconst profileImage = computed(() => {\r\n  return (\r\n    user.profilePicture ||\r\n    new URL(\"../assets/images/Odette_lunettes.webp\", import.meta.url).href\r\n  );\r\n});\r\n\r\n// Reactieve variabele om bij te houden welk label moet worden weergegeven\r\nconst hoveredLabel = ref(\"\");\r\n\r\nfunction showLabel(label) {\r\n  hoveredLabel.value = label;\r\n}\r\n\r\nfunction hideLabel() {\r\n  hoveredLabel.value = \"\";\r\n}\r\n</script>\r\n\r\n<template>\r\n  <nav class=\"mobileNav\">\r\n    <router-link\r\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n      to=\"/admin\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Products')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('products', '../assets/icons/tag.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Products</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Products'\">Products</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link\r\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n      to=\"/admin/orders\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Orders')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('orders', '../assets/icons/inbox.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Orders</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Orders'\">Orders</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link\r\n      v-if=\"user.role === 'platform_admin'\"\r\n      to=\"/admin/partners\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Partners')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('partners', '../assets/icons/partners.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Partners</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Partners'\">Partners</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link\r\n      v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n      to=\"/admin/users\"\r\n      exact-active-class=\"active\"\r\n    >\r\n      <div\r\n        class=\"menu-item\"\r\n        @mouseover=\"showLabel('Users')\"\r\n        @mouseleave=\"hideLabel\"\r\n      >\r\n        <img\r\n          :src=\"getActiveIcon('users', '../assets/icons/users.svg')\"\r\n          alt=\"icon\"\r\n        />\r\n        <p>Users</p>\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Users'\">Users</span>\r\n      </div>\r\n    </router-link>\r\n    <router-link to=\"/admin/settings\" exact-active-class=\"active\">\r\n      <div\r\n        class=\"menu-item profilePicture\"\r\n        @mouseover=\"showLabel('Settings')\"\r\n        @mouseleave=\"hideLabel\"\r\n        :style=\"{ backgroundImage: 'url(' + profileImage + ')' }\"\r\n      >\r\n        <span class=\"label\" v-show=\"hoveredLabel === 'Settings'\">Settings</span>\r\n      </div>\r\n    </router-link>\r\n  </nav>\r\n\r\n  <nav class=\"desktopNav\">\r\n    <div class=\"elements\">\r\n      <div\r\n        class=\"logo\"\r\n        :style=\"{ backgroundImage: 'url(' + huisstijlData.logo_url + ')' }\"\r\n      ></div>\r\n      <div class=\"menu\">\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Products')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('products', '../assets/icons/package.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Products'\"\r\n              >Products</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin/orders\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Orders')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('orders', '../assets/icons/order.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Orders'\">Orders</span>\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner'\"\r\n          to=\"/admin/styling\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Styling')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('styling', '../assets/icons/styling.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Styling'\"\r\n              >Styling</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'platform_admin'\"\r\n          to=\"/admin/partners\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Partners')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('partners', '../assets/icons/users.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Partners'\"\r\n              >Partners</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin/users\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Users')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('users', '../assets/icons/users.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Users'\">Users</span>\r\n          </div>\r\n        </router-link>\r\n        <router-link\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          to=\"/admin/myconfigurations\"\r\n          exact-active-class=\"active\"\r\n        >\r\n          <div\r\n            class=\"menu-item\"\r\n            @mouseover=\"showLabel('Configurations')\"\r\n            @mouseleave=\"hideLabel\"\r\n          >\r\n            <img\r\n              :src=\"getActiveIcon('settings', '../assets/icons/settings.svg')\"\r\n              alt=\"icon\"\r\n            />\r\n            <span class=\"label\" v-show=\"hoveredLabel === 'Configurations'\"\r\n              >Configurations</span\r\n            >\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <a @click.prevent=\"logout\">\r\n      <img src=\"../assets/icons/logout.svg\" alt=\"icon\" />\r\n    </a>\r\n  </nav>\r\n</template>\r\n\r\n<style scoped>\r\n/* background: linear-gradient(-45deg, #473c5d, #000000); */\r\n.mobileNav {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  background-color: var(--secondary-color);\r\n  box-shadow: 0px -4px 8px rgba(0, 0, 0, 0.1);\r\n  padding: 16px 24px 32px 24px;\r\n  position: fixed;\r\n  z-index: 999;\r\n  bottom: 0;\r\n  width: 100%;\r\n}\r\n\r\n.mobileNav a {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.mobileNav a p {\r\n  display: none;\r\n}\r\n\r\nnav .profile {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.profilePicture {\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  border: 1px solid #dadbdd;\r\n}\r\n\r\n.desktopNav .profile div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.desktopNav {\r\n  display: none;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: linear-gradient(\r\n    -45deg,\r\n    var(--primary-color),\r\n    var(--background-color)\r\n  );\r\n  height: calc(100vh - 48px);\r\n  margin: 24px 0px 24px 24px;\r\n  padding: 24px;\r\n  position: fixed;\r\n  border-radius: 1rem;\r\n}\r\n\r\n.desktopNav .elements {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 64px;\r\n}\r\n\r\n.desktopNav .logo {\r\n  background-repeat: no-repeat;\r\n  background-size: contain;\r\n  background-position: left;\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n.desktopNav .menu {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 48px;\r\n}\r\n\r\n.desktopNav .profile div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.desktopNav .menu a img {\r\n  width: 24px;\r\n}\r\n\r\n.desktopNav .menu a p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu-item {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.menu-item .label {\r\n  position: absolute;\r\n  left: 64px;\r\n  top: 0; /* Past de afstand onder de afbeelding aan */\r\n  background-color: var(--primary-color);\r\n  color: #fff;\r\n  padding: 8px 12px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  line-height: 14px;\r\n  margin: 0;\r\n  pointer-events: none;\r\n  transition: opacity 0.4s ease;\r\n  letter-spacing: 1px;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.icons .icon:hover p {\r\n  opacity: 1;\r\n}\r\n\r\n.menu-item:hover .label {\r\n  opacity: 1;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .mobileNav {\r\n    display: none;\r\n  }\r\n  .desktopNav {\r\n    display: flex;\r\n  }\r\n  .profilePicture {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./navComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./navComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./navComponent.vue?vue&type=style&index=0&id=f843844c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f843844c\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId;\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n\r\n    if (\r\n      userData.role !== \"partner_admin\" &&\r\n      userData.role !== \"partner_owner\"\r\n    ) {\r\n      router.push(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Provide the user data to all components\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Fetch products data\r\n// Fetch products data\r\n// Fetch products data\r\nconst fetchData = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\");\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const userCompanyId = getUserCompanyId(token);\r\n\r\n    // Filter products based on the partnerId (companyId in the token payload)\r\n    data.value = result.data.products.filter(\r\n      (product) => product.partnerId === partnerId\r\n    );\r\n\r\n    // Bereken het aantal varianten voor elk product\r\n    // Bereken het aantal varianten op basis van selectedOptions lengte\r\n    data.value.forEach((product) => {\r\n      if (product.configurations && Array.isArray(product.configurations)) {\r\n        // Aantal varianten (op basis van geselecteerde opties)\r\n        product.variantsCount = product.configurations.reduce(\r\n          (count, config) => {\r\n            return (\r\n              count +\r\n              (config.selectedOptions ? config.selectedOptions.length : 0)\r\n            );\r\n          },\r\n          0\r\n        );\r\n      } else {\r\n        product.variantsCount = 0; // Geen varianten\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\n\r\n// Arrays to store configurations\r\nconst partnerConfigurations = ref([]);\r\nconst selectedConfigurations = ref([]);\r\n\r\n// Nieuwe API-aanroep om configuraties op te halen\r\nconst fetchConfigurations = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const configurations = response.data?.data || [];\r\n    return configurations;\r\n  } catch (error) {\r\n    console.error(\"Error fetching configurations:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Fetch partner configurations\r\n// Haal de partnerconfiguraties en configuraties op en koppel ze\r\nconst fetchPartnerConfigurations = async () => {\r\n  if (!partnerId) {\r\n    console.warn(\"No partnerId provided.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Haal de partnerconfiguraties op\r\n    const partnerResponse = await axios.get(\r\n      `${baseURL}/partnerConfigurations`,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        params: { partnerId },\r\n      }\r\n    );\r\n\r\n    const partnerConfigs = partnerResponse.data?.data || [];\r\n    partnerConfigurations.value = partnerConfigs.filter(\r\n      (config) => String(config.partnerId) === String(partnerId)\r\n    );\r\n\r\n    // Haal de algemene configuraties op\r\n    const configurations = await fetchConfigurations();\r\n\r\n    // Koppel de configuraties aan de partnerconfiguraties\r\n    partnerConfigurations.value.forEach((partnerConfig) => {\r\n      const matchingConfig = configurations.find(\r\n        (config) => config._id === partnerConfig.configurationId\r\n      );\r\n      if (matchingConfig) {\r\n        partnerConfig.fieldName = matchingConfig.fieldName; // Voeg het fieldName toe\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations:\", error);\r\n  }\r\n};\r\n\r\n// Computed properties\r\nconst selectedTypeFilter = ref(\"All\");\r\nconst data = ref([]);\r\nconst searchTerm = ref(\"\");\r\nconst selectedProducts = ref([]);\r\nconst isDeleteButtonVisible = computed(() => selectedProducts.value.length > 0);\r\nconst isPopupVisible = ref(false);\r\n\r\n// Get user company ID from JWT token\r\nconst getUserCompanyId = (token) => {\r\n  if (!token) return null;\r\n  const decoded = JSON.parse(atob(token.split(\".\")[1]));\r\n  return decoded.companyId;\r\n};\r\n\r\n// Select or deselect a product\r\nconst toggleSelection = (productId) => {\r\n  const index = selectedProducts.value.indexOf(productId);\r\n  if (index === -1) {\r\n    selectedProducts.value.push(productId);\r\n  } else {\r\n    selectedProducts.value.splice(index, 1);\r\n  }\r\n};\r\n\r\n// Select or deselect all products\r\nconst toggleSelectAll = (event) => {\r\n  selectedProducts.value = event.target.checked\r\n    ? data.value.map((product) => product._id)\r\n    : [];\r\n};\r\n\r\n// Start the delete process for selected products\r\nconst deleteSelectedProducts = () => {\r\n  if (selectedProducts.value.length === 0) return;\r\n  showPopup();\r\n};\r\n\r\n// Confirm the deletion of selected products\r\nconst confirmDelete = async () => {\r\n  await deleteProducts();\r\n  hidePopup();\r\n};\r\n\r\n// Extract public_id from Cloudinary URL\r\nconst extractPublicId = (imageUrl) => {\r\n  try {\r\n    const parts = imageUrl.split(\"/image/upload/\");\r\n    if (parts.length < 2) {\r\n      console.error(\"Invalid URL structure:\", imageUrl);\r\n      return null;\r\n    }\r\n\r\n    let publicIdWithVersion = parts[1];\r\n    const publicIdParts = publicIdWithVersion.split(\"/\");\r\n\r\n    if (\r\n      publicIdParts[0].startsWith(\"v\") &&\r\n      !isNaN(Number(publicIdParts[0].slice(1)))\r\n    ) {\r\n      publicIdParts.shift();\r\n    }\r\n\r\n    const publicIdWithoutExtension = publicIdParts.join(\"/\").split(\".\")[0];\r\n    return publicIdWithoutExtension;\r\n  } catch (error) {\r\n    console.error(\"Error extracting public_id:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Delete image from Cloudinary\r\nconst deleteImageFromCloudinary = async (imageUrl) => {\r\n  const publicId = extractPublicId(imageUrl);\r\n  if (!publicId) {\r\n    console.error(\"No valid public_id found for image:\", imageUrl);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const timestamp = Math.floor(Date.now() / 1000);\r\n    const signature = generateSignature(timestamp, publicId);\r\n\r\n    const response = await fetch(\r\n      \"https://api.cloudinary.com/v1_1/dzempjvto/image/destroy\",\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          public_id: publicId,\r\n          api_key: \"496836855294519\",\r\n          timestamp: timestamp,\r\n          signature: signature,\r\n        }),\r\n      }\r\n    );\r\n\r\n    const result = await response.json();\r\n    if (result.result !== \"ok\") {\r\n      throw new Error(\"Cloudinary delete failed: \" + result.result);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error deleting image from Cloudinary:\", error);\r\n  }\r\n};\r\n\r\n// Delete products\r\n// Delete products\r\nconst deleteProducts = async () => {\r\n  try {\r\n    for (const id of selectedProducts.value) {\r\n      const response = await fetch(`${baseURL}/products/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n    }\r\n    await fetchData();\r\n    selectedProducts.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting products:\", error);\r\n  }\r\n};\r\n\r\n// Show popup\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\n\r\n// Hide popup\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\n// Generate signature for Cloudinary deletion\r\nconst generateSignature = (timestamp, publicId) => {\r\n  const secret = \"adA9j34J6UeMpoZwMcHzKNfuWoY\";\r\n  return md5(\r\n    `public_id=${publicId}&timestamp=${timestamp}&api_secret=${secret}`\r\n  );\r\n};\r\n\r\n// Verander deze regel van 'reactive' naar 'ref' voor de optie-namen\r\nconst optionNames = ref({});\r\n\r\nasync function fetchOptionNames(product) {\r\n  if (!product || !product.configurations) {\r\n    console.warn(\"Product or configurations missing\", product);\r\n    return 0; // Return 0 if no configurations are available\r\n  }\r\n\r\n  const customConfigs = product.configurations;\r\n\r\n  let totalOptionsCount = 0; // To accumulate the total number of options\r\n\r\n  try {\r\n    await Promise.all(\r\n      customConfigs.map(async (config) => {\r\n        if (config.configurationId) {\r\n          try {\r\n            // Fetch the configuration details based on configurationId\r\n            const response = await axios.get(\r\n              `${baseURL}/configurations/${config.configurationId}`,\r\n              { headers: { Authorization: `Bearer ${token}` } }\r\n            );\r\n\r\n            // Assuming response.data.data.options contains the options array\r\n            const optionsCount = response.data.data?.options?.length || 0;\r\n\r\n            // Add the options count for this configuration to the total\r\n            totalOptionsCount += optionsCount;\r\n\r\n            // Update the optionNames object (you can customize this part further if needed)\r\n            optionNames.value = {\r\n              ...optionNames.value,\r\n              [config._id]: optionsCount,\r\n            };\r\n          } catch (error) {\r\n            console.error(\r\n              `Error fetching configuration options with ID ${config.configurationId}:`,\r\n              error\r\n            );\r\n          }\r\n        }\r\n      })\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error fetching options:\", error);\r\n  }\r\n\r\n  return totalOptionsCount; // Return the total options count for the product\r\n}\r\n\r\nonMounted(async () => {\r\n  await fetchData();\r\n  await fetchPartnerConfigurations();\r\n\r\n  // Load option names for each product after the data fetch\r\n  data.value.forEach((product) => {\r\n    fetchOptionNames(product); // Pass the product to fetch options\r\n  });\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Products</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link exact to=\"/admin/add-new-product\" class=\"btn active\">\r\n          <p>Add new</p>\r\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          @click=\"deleteSelectedProducts\"\r\n          class=\"btn display\"\r\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n\r\n      <select class=\"filter\" v-model=\"selectedTypeFilter\">\r\n        <option value=\"All\">All</option>\r\n        <option value=\"optical\">Optical</option>\r\n        <option value=\"sun\">Sun</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"products mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"data.length\"\r\n          v-for=\"product in data\"\r\n          :key=\"product._id\"\r\n          :to=\"{ name: 'EditProduct', params: { id: product._id } }\"\r\n        >\r\n          <div\r\n            class=\"image\"\r\n            :style=\"{\r\n              backgroundImage:\r\n                'url(' +\r\n                product.configurations[0].selectedOptions[0].images[0] +\r\n                ')',\r\n            }\"\r\n          ></div>\r\n\r\n          <div class=\"elements\">\r\n            <div class=\"text\">\r\n              <p class=\"name\">{{ product.productName }}</p>\r\n              <p>\r\n                {{ product.configurations[0].selectedOptions.length }} variant{{\r\n                  product.configurations[0].selectedOptions.length > 1\r\n                    ? \"s\"\r\n                    : \"\"\r\n                }}\r\n              </p>\r\n              <!-- Weergeven van het aantal varianten -->\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              :class=\"{ active: product.activeInactive === 'active' }\"\r\n            >\r\n              <p>{{ product.activeInactive }}</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"products desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedProducts.length === selectedProducts.length &&\r\n            selectedProducts.length > 0\r\n          \"\r\n        />\r\n        <p>Product Code</p>\r\n        <p>Product name</p>\r\n        <p>Type of product</p>\r\n        <p>Brand</p>\r\n        <p>Description</p>\r\n        <p>Status</p>\r\n      </div>\r\n\r\n      <ul v-if=\"data.length\" class=\"list\">\r\n        <li v-for=\"product in data\" :key=\"product._id\">\r\n          <input\r\n            type=\"checkbox\"\r\n            @change=\"toggleSelection(product._id)\"\r\n            :checked=\"selectedProducts.includes(product._id)\"\r\n          />\r\n          <router-link\r\n            :to=\"{ name: 'EditProduct', params: { id: product._id } }\"\r\n          >\r\n            <p>{{ product.productCode }}</p>\r\n            <p>{{ product.productName }}</p>\r\n            <p>{{ product.productType }}</p>\r\n            <p>{{ product.brand }}</p>\r\n            <p>{{ product.description }}</p>\r\n            <div\r\n              class=\"btn\"\r\n              :class=\"{ active: product.activeInactive === 'active' }\"\r\n            >\r\n              <p>{{ product.activeInactive }}</p>\r\n            </div>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n\r\n      <div v-else class=\"no-products\">\r\n        <p>Geen producten gevonden voor de huidige zoekopdracht of filter.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  display: none;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.no-products {\r\n  text-align: center;\r\n  color: #fff;\r\n  padding: 20px;\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.products .top {\r\n  display: flex; /* Keep the flexbox layout */\r\n  gap: 20px; /* Space between items */\r\n  border-radius: 4px 8px 0 0;\r\n  padding: 16px;\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  overflow-x: auto; /* Allow horizontal scrolling */\r\n  -webkit-overflow-scrolling: touch; /* Smooth scrolling on mobile */\r\n}\r\n\r\n.products .top::-webkit-scrollbar {\r\n  display: none; /* Hide scrollbar */\r\n}\r\n\r\n.products .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  gap: 16px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.products .list li {\r\n  display: flex;\r\n  flex-direction: row; /* Align items in a row */\r\n  align-items: center;\r\n  gap: 20px; /* Space between columns */\r\n  padding: 16px;\r\n}\r\n\r\n.products .list li:nth-child(even) {\r\n  background-color: rgb(\r\n    var(--primary-color),\r\n    0.1\r\n  ); /* Alternate background color */\r\n}\r\n\r\n.products .top p,\r\n.products .list li p {\r\n  color: var(--text-color);\r\n  min-width: 150px; /* Minimum width for each column */\r\n  box-sizing: border-box; /* Include padding/border in width calculation */\r\n}\r\n\r\n.products .top p {\r\n  flex-grow: 1; /* Allow flexibility in top items */\r\n}\r\n\r\n.products .list li p {\r\n  flex-grow: 1; /* Allow each product property to grow and fill space */\r\n}\r\n\r\n.products .list li a {\r\n  display: flex; /* Ensure the entire item is aligned in a row */\r\n  gap: 20px; /* Space out the child items */\r\n  width: 100%;\r\n}\r\n\r\n.products .list li a:hover {\r\n  text-decoration: underline; /* Hover effect */\r\n}\r\n\r\n.products .list li p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.products .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.products .top p {\r\n  flex: 1 1 auto; /* Dit maakt de elementen flexibel, met een minimum van de breedte die ze nodig hebben */\r\n  min-width: 90px; /* Minimale breedte per kolom */\r\n  box-sizing: border-box; /* Zorg ervoor dat padding en borders worden meegeteld in de breedte */\r\n}\r\n\r\n.products .top input {\r\n  width: 20px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.products.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.products.desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.products.mobile {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.products.mobile .items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.products.mobile a {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding-bottom: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.products.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.products.mobile a .elements {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  gap: 1em;\r\n}\r\n\r\n.products.mobile a .elements .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.products.mobile a .elements .btn,\r\n.products.desktop .btn {\r\n  border-radius: 0.75rem;\r\n  padding: 0.75rem 0.025rem;\r\n  width: 60px;\r\n  height: 26px;\r\n}\r\n\r\n.products.mobile a .elements .btn.active,\r\n.products.desktop .btn.active {\r\n  background-color: #53e971;\r\n  border: none;\r\n}\r\n\r\n.products.mobile a .elements .btn p,\r\n.products.desktop .btn p {\r\n  opacity: 1;\r\n}\r\n\r\n.products.mobile a .elements .btn.active p,\r\n.products.desktop .btn.active p {\r\n  color: #000;\r\n  opacity: 1;\r\n}\r\n\r\n.products.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.products.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.products.desktop {\r\n  display: none;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .products.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .products {\r\n    background-color: var(--secondary-color);\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    overflow-x: auto; /* Enable horizontal scrolling */\r\n    white-space: nowrap; /* Prevent wrapping of items */\r\n  }\r\n\r\n  .products.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=88db39cc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-88db39cc\"]])\n\nexport default __exports__","/* Algemeen API-beheer */\r\nimport axios from \"axios\";\r\nimport router from \"../router\"; // Importeer hier de router-instantie\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nexport const fetchPartnerData = async (partnerId, jwtToken) => {\r\n  try {\r\n    if (!partnerId) {\r\n      console.error(\"Partner ID (companyId) is not available in the token.\");\r\n      router.push(\"/login\"); // Gebruik hier de gemporteerde router\r\n      return;\r\n    }\r\n\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner;\r\n    if (partner) {\r\n      return partner;\r\n    } else {\r\n      console.error(\"Partner data not found in response\");\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error.response || error);\r\n    return null;\r\n  }\r\n};\r\n","/* Configuratiegerelateerde logica */\r\nimport axios from \"axios\";\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nexport const fetchPartnerConfigurations = async (partnerId, jwtToken) => {\r\n  if (!partnerId) {\r\n    console.warn(\"No partnerId provided.\");\r\n    return [];\r\n  }\r\n\r\n  try {\r\n    // Haal de partner configuraties op\r\n    const partnerResponse = await axios.get(\r\n      `${baseURL}/partnerConfigurations`,\r\n      {\r\n        headers: { Authorization: `Bearer ${jwtToken}` },\r\n        params: { partnerId },\r\n      }\r\n    );\r\n\r\n    // Haal de algemene configuraties op\r\n    const configurationsResponse = await axios.get(\r\n      `${baseURL}/configurations`,\r\n      {\r\n        headers: { Authorization: `Bearer ${jwtToken}` },\r\n      }\r\n    );\r\n\r\n    const partnerConfigs = partnerResponse.data?.data || [];\r\n    const configurations = configurationsResponse.data?.data || [];\r\n\r\n    // Haal gedetailleerde configuraties op voor elke configurationId in partnerConfigs\r\n    const partnerConfigsWithDetails = await Promise.all(\r\n      partnerConfigs.map(async (config) => {\r\n        const configurationId = config.configurationId._id;\r\n        try {\r\n          const configDetailsResponse = await axios.get(\r\n            `${baseURL}/configurations/${configurationId}`,\r\n            {\r\n              headers: { Authorization: `Bearer ${jwtToken}` },\r\n            }\r\n          );\r\n          const configDetails = configDetailsResponse.data?.data || {};\r\n          return { ...config, configurationDetails: configDetails };\r\n        } catch (error) {\r\n          console.error(\r\n            `Error fetching configuration details for ${configurationId}:`,\r\n            error\r\n          );\r\n          return { ...config, configurationDetails: {} };\r\n        }\r\n      })\r\n    );\r\n\r\n    // Return both partner configurations with details and general configurations\r\n    return { partnerConfigs: partnerConfigsWithDetails, configurations };\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchOptionNames = async (optionsData) => {\r\n  try {\r\n    const validOptions = optionsData.filter(\r\n      (option) => option.optionId && option.optionId !== \"undefined\"\r\n    );\r\n\r\n    if (validOptions.length === 0) {\r\n      return optionsData.map(() => ({ name: \"Unknown\" }));\r\n    }\r\n\r\n    const responses = await Promise.all(\r\n      validOptions.map((option) =>\r\n        axios.get(`${baseURL}/options/${option.optionId._id}`, {\r\n          headers: { Authorization: `Bearer ${jwtToken}` },\r\n        })\r\n      )\r\n    );\r\n\r\n    return responses.map((res, index) => {\r\n      const optionData = res.data?.data;\r\n      return {\r\n        optionId: validOptions[index].optionId,\r\n        name: optionData?.name,\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching option names:\", error);\r\n    return optionsData.map(() => ({ name: \"Unknown\" }));\r\n  }\r\n};\r\n\r\nexport const addNewColor = async (config, fieldName) => {\r\n  const configId = config.configurationId._id;\r\n\r\n  if (\r\n    !newColorName.value[configId] ||\r\n    newColorName.value[configId].trim() === \"\"\r\n  ) {\r\n    return; // Geen lege kleuren toevoegen\r\n  }\r\n\r\n  const newColor = {\r\n    name: newColorName.value[configId].trim(),\r\n    type: \"kleur\", // Aangeven dat het een kleur is\r\n    price: 0, // Stel hier een prijs in, als nodig\r\n  };\r\n\r\n  try {\r\n    // Verstuur een POST-verzoek naar de server om de kleur op te slaan\r\n    const response = await fetch(`${baseURL}/options`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(newColor), // Verstuur de nieuwe kleur\r\n    });\r\n\r\n    const data = await response.json();\r\n\r\n    // Controleer of 'data.data' en 'data.data._id' bestaan\r\n    if (data && data.data && data.data._id) {\r\n      // Voeg de nieuwe kleur toe aan de geselecteerde kleuren (selectedColors)\r\n      const color = {\r\n        optionId: data.data._id,\r\n        name: newColor.name,\r\n        images: [], // Voeg hier een lege array voor afbeeldingen toe\r\n      };\r\n      selectedColors.value.push(color); // Voeg toe aan selectedColors\r\n\r\n      // Voeg de nieuwe kleur toe aan de beschikbare kleuren (colors)\r\n      colors.value.push(color); // Voeg toe aan colors\r\n\r\n      // Voeg de nieuwe kleur toe aan de opties in config\r\n      config.options.push({\r\n        optionId: data.data._id, // Gebruik het ontvangen _id van de server\r\n        name: newColor.name,\r\n      });\r\n\r\n      // Voeg de nieuwe kleur toe aan de beschikbare kleuren array\r\n      availableNewColors.value.push({\r\n        optionId: data.data._id,\r\n        name: newColor.name,\r\n      });\r\n\r\n      // Reset het invoerveld\r\n      newColorName.value[configId] = \"\";\r\n    } else {\r\n      console.error(\r\n        \"Fout bij het toevoegen van de kleur: geen _id ontvangen\",\r\n        data\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.error(\r\n      \"Er is een fout opgetreden bij het versturen van de kleur:\",\r\n      error\r\n    );\r\n  }\r\n};\r\n","<template>\r\n  <div class=\"dropdown-selected\" @click=\"toggleDropdown\">\r\n    <!-- Trigger button for dropdown, display selected value or buttonText -->\r\n    <p>{{ selectedOption || buttonText }}</p>\r\n\r\n    <!-- Dropdown content -->\r\n    <div v-if=\"isOpen\" class=\"dropdown-options\" @click.stop>\r\n      <!-- Dropdown options -->\r\n      <div\r\n        v-for=\"(type, index) in types\"\r\n        :key=\"index\"\r\n        class=\"dropdown-option\"\r\n        @click=\"selectOption(type)\"\r\n        :class=\"{ selected: type === selectedOption }\"\r\n      >\r\n        <p>{{ type }}</p>\r\n      </div>\r\n      <!-- Input field and button for adding new option -->\r\n      <div class=\"dropdown-add-option\">\r\n        <input v-model=\"newOption\" type=\"text\" placeholder=\"Add new option\" />\r\n        <button @click=\"handleAddOption\">Add</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DropdownToggle\",\r\n  props: {\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    dropdownStates: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    buttonText: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    types: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      newOption: \"\",\r\n      selectedOption: null,\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen() {\r\n      return this.dropdownStates[this.fieldName];\r\n    },\r\n  },\r\n  methods: {\r\n    toggleDropdown() {\r\n      // Sluit andere dropdowns en toggle de huidige\r\n      for (const key in this.dropdownStates) {\r\n        if (key !== this.fieldName) {\r\n          this.dropdownStates[key] = false;\r\n        }\r\n      }\r\n      // Toggle de dropdown\r\n      this.dropdownStates[this.fieldName] =\r\n        !this.dropdownStates[this.fieldName];\r\n    },\r\n    selectOption(type) {\r\n      // Verander de geselecteerde waarde\r\n      this.selectedOption = type;\r\n      this.$emit(\"update:modelValue\", type);\r\n      this.toggleDropdown(); // Sluit de dropdown nadat een optie is geselecteerd\r\n    },\r\n    handleAddOption(event) {\r\n      // Voorkom dat de dropdown sluit wanneer de Add knop wordt geklikt\r\n      event.stopPropagation();\r\n\r\n      if (this.newOption.trim()) {\r\n        this.$emit(\"addOption\", this.newOption.trim());\r\n        this.newOption = \"\";\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  padding: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-option:hover,\r\n.dropdown-option.selected {\r\n  background-color: var(--blue-500); /* Highlight selected option */\r\n  color: white;\r\n}\r\n\r\n.dropdown-add-option {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n  gap: 8px;\r\n}\r\n\r\n.dropdown-add-option input {\r\n  flex: 1;\r\n  padding: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  border-radius: 4px;\r\n  background-color: var(--gray-800);\r\n  color: white;\r\n}\r\n\r\n.dropdown-add-option button {\r\n  padding: 4px 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: var(--blue-600);\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-add-option button:hover {\r\n  background-color: var(--blue-600);\r\n}\r\n</style>\r\n","import { render } from \"./DropdownToggle.vue?vue&type=template&id=444c3273&scoped=true\"\nimport script from \"./DropdownToggle.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownToggle.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownToggle.vue?vue&type=style&index=0&id=444c3273&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-444c3273\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"dropdown-selected\" @click=\"toggleDropdown\">\r\n    <!-- Trigger button for dropdown -->\r\n    <p>{{ buttonText }}</p>\r\n\r\n    <!-- Dropdown content -->\r\n    <div v-if=\"isOpen\" class=\"dropdown-options\" @click.stop>\r\n      <slot></slot>\r\n      <!-- Slot voor dynamische inhoud in de dropdown -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DropdownToggle\",\r\n  props: {\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    dropdownStates: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    buttonText: {\r\n      type: String,\r\n      default: \"Choose your colors\",\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isAdding: false, // Flag om toe te voegen zonder de dropdown te sluiten\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen() {\r\n      return this.dropdownStates[this.fieldName];\r\n    },\r\n  },\r\n  methods: {\r\n    toggleDropdown() {\r\n      // Sluit alle andere dropdowns\r\n      for (const key in this.dropdownStates) {\r\n        if (key !== this.fieldName) {\r\n          this.dropdownStates[key] = false;\r\n        }\r\n      }\r\n\r\n      // Toggle de huidige dropdown\r\n      this.dropdownStates[this.fieldName] =\r\n        !this.dropdownStates[this.fieldName];\r\n    },\r\n\r\n    // Methode om een actie te doen zonder de dropdown te sluiten\r\n    handleAddAction(event) {\r\n      event.stopPropagation(); // Voorkom dat het klikken op de knop de dropdown sluit\r\n      this.isAdding = true;\r\n\r\n      // Doe de actie die je nodig hebt (bijv. iets toevoegen)\r\n      // Reset na de actie\r\n      this.isAdding = false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n</style>\r\n","import { render } from \"./DropdownToggleColor.vue?vue&type=template&id=5e6bcbb6&scoped=true\"\nimport script from \"./DropdownToggleColor.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownToggleColor.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownToggleColor.vue?vue&type=style&index=0&id=5e6bcbb6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e6bcbb6\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!-- Dropdown voor het weergeven van kleur opties -->\r\n    <div\r\n      v-for=\"(option, index) in colorOptions\"\r\n      :key=\"option.optionId\"\r\n      class=\"dropdown-option\"\r\n    >\r\n      <input\r\n        type=\"checkbox\"\r\n        :value=\"option.optionId\"\r\n        :checked=\"isSelected(option)\"\r\n        @click=\"toggleColor(option)\"\r\n      />\r\n      <span\r\n        class=\"color-bullet\"\r\n        :style=\"{ backgroundColor: option.name || 'transparent' }\"\r\n      ></span>\r\n      <p class=\"stroke\">-</p>\r\n      <p>{{ option.name || \"Unnamed Color\" }}</p>\r\n    </div>\r\n\r\n    <!-- Input veld voor het toevoegen van een nieuwe kleur -->\r\n    <div v-if=\"isOpen\" class=\"dropdown-add-option\">\r\n      <input v-model=\"newColor\" type=\"text\" placeholder=\"Add new color\" />\r\n      <button @click=\"addColor\">Add</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ColorSelectionToggle\",\r\n  props: {\r\n    selectedColors: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    dropdownStates: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    colorOptions: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      newColor: \"\", // Houdt de invoer voor de nieuwe kleur bij\r\n      isAddingColor: false, // Voeg een flag toe om het toevoegen van een kleur te controleren\r\n    };\r\n  },\r\n  computed: {\r\n    isOpen() {\r\n      return this.dropdownStates[this.fieldName];\r\n    },\r\n  },\r\n  methods: {\r\n    // Controleer of een kleur is geselecteerd\r\n    isSelected(option) {\r\n      return this.selectedColors.some(\r\n        (color) => color.optionId === option.optionId\r\n      );\r\n    },\r\n\r\n    // Toggle de kleur in de lijst van geselecteerde kleuren\r\n    toggleColor(option) {\r\n      const selectedColorsCopy = [...this.selectedColors];\r\n      const index = selectedColorsCopy.findIndex(\r\n        (color) => color.optionId === option.optionId\r\n      );\r\n\r\n      if (index === -1) {\r\n        selectedColorsCopy.push({\r\n          optionId: option.optionId,\r\n          name: option.name || \"Unnamed Color\",\r\n          images: Array.isArray(option.images) ? option.images : [],\r\n        });\r\n      } else {\r\n        selectedColorsCopy.splice(index, 1);\r\n      }\r\n\r\n      // Emit de bijgewerkte lijst van geselecteerde kleuren\r\n      this.$emit(\"update:selectedColors\", selectedColorsCopy);\r\n\r\n      // Sluit de dropdown alleen als een kleur is geselecteerd, niet als een kleur is toegevoegd\r\n      if (option.name) {\r\n        this.dropdownStates[this.fieldName] = false;\r\n      }\r\n    },\r\n\r\n    // Voeg een nieuwe kleur optie toe\r\n    addColor() {\r\n      if (this.isAddingColor) return; // Voorkom herhaald klikken als het toevoegen bezig is\r\n      this.isAddingColor = true; // Zet de flag om aan te geven dat een kleur wordt toegevoegd\r\n\r\n      if (\r\n        this.newColor.trim() &&\r\n        !this.colorOptions.some(\r\n          (option) => option.name === this.newColor.trim()\r\n        )\r\n      ) {\r\n        const newColorOption = {\r\n          optionId: Date.now(), // Genereer een unieke ID\r\n          name: this.newColor.trim(),\r\n          images: [],\r\n        };\r\n        this.colorOptions.push(newColorOption); // Voeg de nieuwe kleur toe aan de lijst\r\n        this.$emit(\"update:colorOptions\", this.colorOptions); // Emit de bijgewerkte lijst van kleuren\r\n\r\n        this.newColor = \"\"; // Maak het invoerveld leeg\r\n      }\r\n\r\n      this.isAddingColor = false; // Reset de flag\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px;\r\n}\r\n\r\n.color-bullet {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  margin-right: 0.5rem;\r\n  display: inline-block;\r\n}\r\n\r\n.dropdown-option p {\r\n  opacity: 0.8;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.stroke {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\ninput[type=\"checkbox\"] {\r\n  margin-right: 10px;\r\n}\r\n\r\np {\r\n  margin: 0;\r\n}\r\n\r\n.dropdown-add-option {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n  gap: 8px;\r\n}\r\n\r\n.dropdown-add-option input {\r\n  flex: 1;\r\n  padding: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  border-radius: 4px;\r\n  background-color: var(--gray-800);\r\n  color: white;\r\n}\r\n\r\n.dropdown-add-option button {\r\n  padding: 4px 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: var(--blue-500);\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-add-option button:hover {\r\n  background-color: var(--blue-600);\r\n}\r\n</style>\r\n","import { render } from \"./ColorSelectionToggle.vue?vue&type=template&id=4a0f85b1&scoped=true\"\nimport script from \"./ColorSelectionToggle.vue?vue&type=script&lang=js\"\nexport * from \"./ColorSelectionToggle.vue?vue&type=script&lang=js\"\n\nimport \"./ColorSelectionToggle.vue?vue&type=style&index=0&id=4a0f85b1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4a0f85b1\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"color-upload-section\">\r\n    <!-- Verborgen input voor het selecteren van bestanden -->\r\n    <input\r\n      type=\"file\"\r\n      :id=\"'images-' + index\"\r\n      style=\"display: none\"\r\n      multiple\r\n      @change=\"handleColorImageUpload($event, index)\"\r\n    />\r\n\r\n    <!-- Upload knop -->\r\n    <div\r\n      class=\"uploadImage\"\r\n      @click=\"() => (isModelLoaded ? null : triggerFileInput(index))\"\r\n      :style=\"{\r\n        justifyContent: colorUploads[index]?.images?.length\r\n          ? 'flex-start'\r\n          : 'center',\r\n      }\"\r\n    >\r\n      <div v-if=\"!colorUploads[index]?.images?.length\" class=\"text\">\r\n        <img src=\"../assets/icons/image-add.svg\" alt=\"image-add\" />\r\n        <p>Bestanden toevoegen</p>\r\n      </div>\r\n\r\n      <!-- Lijst van geploade bestanden -->\r\n      <div\r\n        v-for=\"(previewUrl, imgIndex) in previewImages(\r\n          colorUploads[index]?.images\r\n        )\"\r\n        :key=\"imgIndex\"\r\n        class=\"image-preview\"\r\n      >\r\n        <!-- Template voor afbeeldingen -->\r\n        <template v-if=\"isImageUrl(previewUrl)\">\r\n          <img :src=\"previewUrl\" alt=\"Uploaded file preview\" width=\"100\" />\r\n        </template>\r\n\r\n        <template v-else>\r\n          <p>3D bestand gepload:</p>\r\n          <div :id=\"'threejs-' + index\" class=\"threejs-container\" />\r\n          <button\r\n            @click=\"triggerFileInput(index)\"\r\n            v-if=\"isModelLoaded\"\r\n            class=\"btn active\"\r\n          >\r\n            Upload nieuw 3D model\r\n          </button>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { uploadFileToCloudinary } from \"../services/fileService\";\r\n\r\nexport default {\r\n  name: \"ImageUpload\",\r\n  props: {\r\n    color: Object,\r\n    index: Number,\r\n    colorUploads: Array,\r\n    partnerName: String,\r\n    partnerPackage: String,\r\n  },\r\n  data() {\r\n    return {\r\n      isModelLoaded: false,\r\n    };\r\n  },\r\n  methods: {\r\n    triggerFileInput(index) {\r\n      const fileInput = document.getElementById(`images-${index}`);\r\n      if (fileInput) {\r\n        fileInput.click();\r\n      } else {\r\n        console.warn(\"File input not found\");\r\n      }\r\n    },\r\n\r\n    async handleColorImageUpload(event, index) {\r\n      const files = event.target.files;\r\n      const validFiles = Array.from(files).filter((file) => {\r\n        if (!file) return false; // Extra check om te voorkomen dat file undefined is\r\n\r\n        if (this.partnerPackage === \"pro\" && this.isImageFile(file)) {\r\n          alert(\" Pro-gebruikers kunnen alleen 3D-bestanden uploaden.\");\r\n          return false;\r\n        }\r\n        if (this.partnerPackage !== \"pro\" && this.is3DFile(file)) {\r\n          alert(\r\n            \" Standaard-gebruikers kunnen alleen 2D-afbeeldingen uploaden.\"\r\n          );\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n\r\n      if (!validFiles.length) {\r\n        console.warn(\" Geen geldige bestanden geselecteerd.\");\r\n        return;\r\n      }\r\n\r\n      const uploadedUrls = [];\r\n      for (let file of files) {\r\n        const fileExtension = file.name.split(\".\").pop().toLowerCase();\r\n\r\n        // **Validatie per pakket**\r\n        if (this.partnerPackage === \"pro\") {\r\n          if (this.isImageFile(file.name)) {\r\n            alert(\"Pro-gebruikers kunnen alleen 3D-bestanden uploaden.\");\r\n            return;\r\n          }\r\n        } else {\r\n          if (this.is3DFile(file.name)) {\r\n            alert(\r\n              \"Standaard-gebruikers kunnen alleen 2D-afbeeldingen uploaden.\"\r\n            );\r\n            return;\r\n          }\r\n        }\r\n\r\n        // **Upload logica**\r\n        try {\r\n          const secureUrl = await uploadFileToCloudinary(\r\n            file,\r\n            this.color.name,\r\n            this.partnerName\r\n          );\r\n\r\n          this.colorUploads[index] = this.colorUploads[index] || { images: [] };\r\n          this.colorUploads[index].images.push(secureUrl);\r\n          uploadedUrls.push(secureUrl);\r\n\r\n          // **Render 3D model als het een 3D bestand is**\r\n          if (this.is3DFile(file.name)) {\r\n            this.render3DModel(secureUrl, `threejs-${index}`, fileExtension);\r\n          }\r\n\r\n          // **Emit naar parent**\r\n          this.$emit(\"file-uploaded\", uploadedUrls);\r\n        } catch (error) {\r\n          console.error(\"Fout bij uploaden naar Cloudinary:\", error);\r\n        }\r\n      }\r\n    },\r\n\r\n    render3DModel(url, containerId, fileExtension) {\r\n      // Hier zou je Three.js of een andere 3D library kunnen gebruiken\r\n      this.isModelLoaded = true;\r\n    },\r\n\r\n    previewImages(images) {\r\n      return images || [];\r\n    },\r\n\r\n    isImageFile(file) {\r\n      return file && file.type && file.type.startsWith(\"image/\");\r\n    },\r\n\r\n    isImageUrl(url) {\r\n      return /\\.(jpeg|jpg|png|gif|webp)$/i.test(url);\r\n    },\r\n\r\n    is3DFile(file) {\r\n      return (\r\n        file &&\r\n        file.type &&\r\n        [\"model/gltf-binary\", \"model/gltf+json\", \"model/obj\"].includes(\r\n          file.type\r\n        )\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.color-upload-section,\r\n.image-preview div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.uploadImage {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 0.5rem;\r\n  padding: 1rem;\r\n  border-radius: 0.25rem;\r\n  width: 100%;\r\n  background-color: var(--gray-700);\r\n}\r\n\r\n.uploadImage .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.image-preview {\r\n  width: 50px;\r\n}\r\n\r\n.image-preview img {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n}\r\n\r\n.image-preview div {\r\n  width: 100%;\r\n}\r\n\r\n.threejs-container {\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n</style>\r\n","/* Bestandsbeheer, zoals bestanduploads */\r\nimport { ref } from \"vue\";\r\n\r\n// Voeg foutmeldingen en status toe aan de data\r\nconst uploadError = ref(\"\");\r\nconst uploadStatus = ref(\"\");\r\n\r\nexport const uploadFileToCloudinary = async (\r\n  file,\r\n  productName,\r\n  partnerName\r\n) => {\r\n  try {\r\n    // Controleer of het bestand is meegegeven\r\n    if (!file || !file.name) {\r\n      throw new Error(\"No file provided or file name is missing.\");\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    formData.append(\"upload_preset\", \"ycy4zvmj\");\r\n    formData.append(\"cloud_name\", \"dzempjvto\");\r\n\r\n    const sanitizeFolderName = (name) => name.replace(/[^a-zA-Z0-9/_-]/g, \"\");\r\n\r\n    const folderName = sanitizeFolderName(\r\n      `${partnerName || \"DefaultFolder\"}/products/${productName}`\r\n    );\r\n    formData.append(\"folder\", folderName);\r\n\r\n    // Bepaal het uploadEndpoint op basis van het bestandstype\r\n    const fileExtension = file.name.split(\".\").pop().toLowerCase();\r\n    let uploadEndpoint;\r\n\r\n    if (\r\n      [\"jpg\", \"jpeg\", \"svg\", \"png\", \"gif\", \"bmp\", \"webp\"].includes(\r\n        fileExtension\r\n      )\r\n    ) {\r\n      uploadEndpoint = \"https://api.cloudinary.com/v1_1/dzempjvto/image/upload\"; // Afbeelding upload\r\n    } else if ([\"glb\", \"obj\", \"gltf\"].includes(fileExtension)) {\r\n      uploadEndpoint = \"https://api.cloudinary.com/v1_1/dzempjvto/raw/upload\"; // 3D-bestand upload\r\n    } else {\r\n      throw new Error(\"Unsupported file type\");\r\n    }\r\n\r\n    // Upload bestand naar Cloudinary\r\n    const response = await fetch(uploadEndpoint, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(`Cloudinary upload failed: ${errorData.error.message}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    if (!data.secure_url) {\r\n      throw new Error(\"No secure_url found in Cloudinary response\");\r\n    }\r\n\r\n    // Retourneer de secure_url van de upload\r\n    return data.secure_url;\r\n  } catch (error) {\r\n    // Fout wordt naar de console gelogd en de foutmelding wordt gegooid\r\n    console.error(\"Error uploading file:\", error);\r\n    throw error;\r\n  }\r\n};\r\n","import { render } from \"./ImageUpload.vue?vue&type=template&id=70b47d64&scoped=true\"\nimport script from \"./ImageUpload.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUpload.vue?vue&type=script&lang=js\"\n\nimport \"./ImageUpload.vue?vue&type=style&index=0&id=70b47d64&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70b47d64\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, toRaw, computed, onMounted, nextTick } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = import.meta.env.VITE_API_BASE_URL;\r\n\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\nimport { fetchPartnerData } from \"../../services/apiService\";\r\nimport { checkToken, fetchPartnerPackage } from \"../../services/authService\";\r\nimport { fetchPartnerConfigurations } from \"../../services/configurationService\";\r\nimport {\r\n  fetchProductTypes,\r\n  getcolors,\r\n  addProductType,\r\n  add3DProduct,\r\n  add2DProduct,\r\n} from \"../../services/productService\";\r\nimport DropdownToggle from \"../../components/DropdownToggle.vue\";\r\nimport DropdownToggleColor from \"../../components/DropdownToggleColor.vue\";\r\nimport ColorSelectionToggle from \"../../components/ColorSelectionToggle.vue\";\r\nimport ImageUpload from \"../../components/ImageUpload.vue\";\r\n\r\n// Reactive variables\r\n\r\nconst router = useRouter();\r\nconst partnerConfigurations = ref([]);\r\nconst productCode = ref(\"\");\r\nconst productName = ref(\"\");\r\nconst brand = ref(\"\");\r\nconst productPrice = ref(\"\");\r\nconst description = ref(\"\");\r\nconst colorUploads = ref([]);\r\nconst dropdownStates = ref({});\r\nconst uploadedFile = ref(null);\r\n\r\nconst newColorName = ref(\"\");\r\nconst newProducts = ref([]);\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nconst partnerId = tokenPayload.companyId;\r\nconst selectedType = ref(\"\");\r\nconst partnerPackage = ref(\"\");\r\nconst colors = ref([]);\r\nconst partnerName = ref(\"\");\r\nconst productTypes = ref([]);\r\n\r\n// Object to store selected colors per configuration\r\nconst selectedColors = ref({});\r\n\r\nconst buttonText = (configId) => {\r\n  const selected = selectedColors.value[configId]?.length || 0;\r\n  if (selected === 0) {\r\n    return \"Select colors\";\r\n  }\r\n\r\n  const colorNames = selectedColors.value[configId]\r\n    .slice(0, 2)\r\n    .map((color) => color.name)\r\n    .join(\", \");\r\n\r\n  if (selectedColors.value[configId].length > 2) {\r\n    return `${colorNames} + ${selected - 2} more`;\r\n  }\r\n\r\n  return colorNames;\r\n};\r\n\r\n// Fetch colors for each configuration\r\nconst fetchedColors = ref([]);\r\nconst fetchcolors = async (partnerId) => {\r\n  try {\r\n    const selectedOptions = await getcolors(partnerId);\r\n    if (\r\n      !selectedOptions ||\r\n      !Array.isArray(selectedOptions) ||\r\n      selectedOptions.length === 0\r\n    ) {\r\n      console.error(\" Geen geldige kleuren ontvangen\");\r\n      return;\r\n    }\r\n\r\n    fetchedColors.value = selectedOptions.map((option) => ({\r\n      optionId: option.optionId || \"\",\r\n      name: option.color || \"Unnamed Color\",\r\n      images: option.images || [],\r\n    }));\r\n  } catch (error) {\r\n    console.error(\" Fout in fetchcolors:\", error);\r\n  }\r\n};\r\n\r\n// Map colors per configuration\r\nconst fetchedColorsPerConfig = {};\r\n\r\nconst handleFileUpload = (fileUrl) => {\r\n  if (!fileUrl || !fileUrl[0]) {\r\n    console.error(\" Geen geldige afbeeldings-URL.\");\r\n    return;\r\n  }\r\n\r\n  // Zet de eerste waarde van de array als de URL\r\n  uploadedFile.value = fileUrl; // Gebruik enkel de eerste URL als string\r\n};\r\n\r\nconst addNewProduct = async () => {\r\n  try {\r\n    // Validatie van verplichte velden\r\n    if (!productName.value || !productPrice.value || !productCode.value) {\r\n      console.error(\" Missing required fields.\");\r\n      return;\r\n    }\r\n\r\n    if (!uploadedFile.value) {\r\n      console.error(\" No file uploaded.\");\r\n      return;\r\n    }\r\n\r\n    // Validatie of kleuren geselecteerd zijn\r\n    if (\r\n      Object.values(selectedColors.value).every((colors) => colors.length === 0)\r\n    ) {\r\n      console.error(\" No colors selected.\");\r\n      return;\r\n    }\r\n\r\n    // Toevoegen van afbeeldingen voor elke kleurconfiguratie\r\n    partnerConfigurations.value.forEach((config) => {\r\n      if (config.configurationDetails.fieldType === \"color\") {\r\n        const configId = config.configurationId._id;\r\n        const selectedColorOptions = selectedColors.value[configId] || [];\r\n\r\n        config.options.forEach((option) => {\r\n          // Haal de afbeeldingen op voor de geselecteerde kleuropties\r\n          const colorImages =\r\n            fetchedColorsPerConfig[configId]?.find(\r\n              (color) => color.optionId === option.optionId\r\n            )?.images || []; // Gebruik een lege array als er geen afbeeldingen zijn\r\n\r\n          // Voeg de afbeeldingen toe aan de optie als de kleur geselecteerd is\r\n          if (\r\n            selectedColorOptions.some(\r\n              (selected) => selected.optionId === option.optionId\r\n            )\r\n          ) {\r\n            option.images = colorImages; // Kleurafbeeldingen toewijzen\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    // Maak de API-aanroep met de bijgewerkte configuraties en afbeeldingen\r\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\r\n    partnerPackage.value = partnerPackageResponse || \"\";\r\n\r\n    if (partnerPackage.value == \"pro\") {\r\n      // Als partner \"pro\" is, voeg het 3D-product toe\r\n      await add3DProduct({\r\n        productCode: productCode.value,\r\n        productName: productName.value,\r\n        productType: selectedType.value || \"sunglasses\",\r\n        productPrice: productPrice.value,\r\n        description: description.value,\r\n        brand: brand.value,\r\n        activeInactive: \"active\",\r\n        partnerId,\r\n        configurations: partnerConfigurations.value,\r\n        file: uploadedFile.value,\r\n      });\r\n    } else {\r\n      // Zorg ervoor dat de geselecteerde configuratie-ID wordt doorgegeven\r\n      const selectedConfigurationId =\r\n        partnerConfigurations.value[0]?.configurationId._id;\r\n\r\n      if (!selectedConfigurationId) {\r\n        console.error(\" selectedConfigurationId ontbreekt!\");\r\n        return;\r\n      }\r\n\r\n      // De afbeeldingen voor het 2D-product kunnen verschillende opties hebben, dus we moeten zorgen dat ze correct worden doorgegeven\r\n      await add2DProduct(uploadedFile.value, selectedConfigurationId, {\r\n        productCode: productCode.value,\r\n        productName: productName.value,\r\n        productType: selectedType.value || \"sunglasses\",\r\n        productPrice: productPrice.value,\r\n        description: description.value,\r\n        brand: brand.value,\r\n        activeInactive: \"active\",\r\n        partnerId,\r\n        configurations: partnerConfigurations.value,\r\n      });\r\n    }\r\n\r\n    // Redirect naar de homepagina na het toevoegen\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    console.error(\" Error adding product:\", error);\r\n  }\r\n};\r\n\r\nonMounted(async () => {\r\n  if (!partnerId) {\r\n    console.error(\" Partner ID is niet beschikbaar.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await checkToken();\r\n\r\n    // Fetch partner data\r\n    const partnerData = await fetchPartnerData(partnerId, jwtToken);\r\n    partnerName.value = partnerData?.name || \"\";\r\n\r\n    // Fetch partner package\r\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\r\n    partnerPackage.value = partnerPackageResponse || \"\";\r\n\r\n    // Fetch partner configurations\r\n    const { partnerConfigs } = await fetchPartnerConfigurations(\r\n      partnerId,\r\n      jwtToken\r\n    );\r\n    partnerConfigurations.value = partnerConfigs || [];\r\n\r\n    // Fetch colors\r\n    await fetchcolors(partnerId);\r\n\r\n    // Wait for Vue reactivity to process the color updates\r\n    await nextTick();\r\n\r\n    const rawFetchedColors = fetchedColors.value;\r\n\r\n    if (rawFetchedColors.length > 0) {\r\n      partnerConfigurations.value.forEach((config) => {\r\n        if (config?.configurationDetails?.fieldType === \"color\") {\r\n          const configId = config.configurationId._id;\r\n\r\n          const configColors = config.options.map((option) => {\r\n            return rawFetchedColors.find(\r\n              (color) => color.optionId === option.optionId._id\r\n            );\r\n          });\r\n\r\n          fetchedColorsPerConfig[configId] = configColors;\r\n          selectedColors.value[configId] = []; // Initialize selected colors for this config\r\n        }\r\n      });\r\n    } else {\r\n      console.warn(\" Geen kleuren gevonden.\");\r\n    }\r\n\r\n    // Fetch product types\r\n    const fetchedProductTypes = await fetchProductTypes(partnerId);\r\n    productTypes.value = fetchedProductTypes;\r\n  } catch (error) {\r\n    console.error(\" Error tijdens initialisatie:\", error);\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Add new product</h1>\r\n    <form @submit.prevent=\"addNewProduct\">\r\n      <h3>Product info:</h3>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productCode\">Product Code:</label>\r\n          <input v-model=\"productCode\" id=\"productCode\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"productName\">Product Name:</label>\r\n          <input v-model=\"productName\" id=\"productName\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productType\">Type Of Product:</label>\r\n          <div class=\"dropdown\" v-if=\"productTypes.length > 0\">\r\n            <DropdownToggle\r\n              v-model=\"selectedType\"\r\n              :fieldName=\"'sole_top'\"\r\n              :dropdownStates=\"dropdownStates\"\r\n              :buttonText=\"'Select colors'\"\r\n              :types=\"productTypes\"\r\n              @addOption=\"addProductType(productTypes, $event)\"\r\n            >\r\n            </DropdownToggle>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"brand\">Brand:</label>\r\n          <input v-model=\"brand\" id=\"brand\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productPrice\">Price:</label>\r\n          <input\r\n            v-model=\"productPrice\"\r\n            id=\"productPrice\"\r\n            type=\"number\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"description\">Description:</label>\r\n          <textarea v-model=\"description\" id=\"description\" required></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <h3>Configurations:</h3>\r\n      <template v-if=\"partnerPackage == 'standard'\">\r\n        <template\r\n          v-for=\"(config, index) in partnerConfigurations\"\r\n          :key=\"config._id\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"column\">\r\n              <label :for=\"config.configurationDetails.fieldName\">\r\n                {{ config.configurationDetails.fieldName }}:\r\n              </label>\r\n\r\n              <!-- Text field -->\r\n              <template v-if=\"config.configurationDetails.fieldType === 'Text'\">\r\n                <input\r\n                  v-model=\"config.value\"\r\n                  :id=\"config.configurationDetails.fieldName\"\r\n                  type=\"text\"\r\n                />\r\n              </template>\r\n\r\n              <!-- Dropdown field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'Dropdown'\"\r\n              >\r\n                <DropdownToggleColor\r\n                  :fieldName=\"config.configurationDetails.fieldName\"\r\n                  :dropdownStates=\"dropdownStates\"\r\n                  buttonText=\"Toggle Dropdown\"\r\n                >\r\n                  <div\r\n                    v-for=\"(option, optionIndex) in configurations\"\r\n                    :key=\"optionIndex\"\r\n                  >\r\n                    <span\r\n                      class=\"color-bullet\"\r\n                      :style=\"{ backgroundColor: color.name || 'transparent' }\"\r\n                    ></span>\r\n                    {{ color.name || \"Unnamed Color\" }}\r\n                  </div>\r\n                </DropdownToggleColor>\r\n              </template>\r\n\r\n              <!-- Color field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'color'\"\r\n              >\r\n                <div class=\"color-dropdown\">\r\n                  <div class=\"dropdown\">\r\n                    <DropdownToggleColor\r\n                      :fieldName=\"config.configurationDetails.fieldName\"\r\n                      :dropdownStates=\"dropdownStates\"\r\n                      :buttonText=\"buttonText(config.configurationId._id)\"\r\n                    >\r\n                      <ColorSelectionToggle\r\n                        v-model:selectedColors=\"\r\n                          selectedColors[config.configurationId._id]\r\n                        \"\r\n                        :colors=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :colorOptions=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                      />\r\n                    </DropdownToggleColor>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Upload zone voor 'standard' pakket -->\r\n          <!-- Upload zone per geselecteerde kleur binnen een configuratie -->\r\n          <template v-if=\"config.configurationDetails.fieldType === 'color'\">\r\n            <div\r\n              v-for=\"(selectedColor, colorIndex) in selectedColors[\r\n                config.configurationId._id\r\n              ] || []\"\r\n              :key=\"colorIndex\"\r\n              class=\"column\"\r\n            >\r\n              <p>{{ selectedColor.name }} - Upload images</p>\r\n              <ImageUpload\r\n                @file-uploaded=\"handleFileUpload\"\r\n                v-if=\"selectedColor.name\"\r\n                :color=\"selectedColor\"\r\n                :index=\"colorIndex\"\r\n                :colorUploads=\"colorUploads\"\r\n                :partnerPackage=\"partnerPackage\"\r\n                :partnerName=\"partnerName\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </template>\r\n\r\n      <template v-if=\"partnerPackage == 'pro'\">\r\n        <div class=\"configurations\">\r\n          <template\r\n            v-for=\"(config, index) in partnerConfigurations\"\r\n            :key=\"config._id\"\r\n          >\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label\r\n                  v-if=\"config.configurationDetails\"\r\n                  :for=\"config.configurationDetails.fieldName\"\r\n                >\r\n                  {{ config.configurationDetails.fieldName }}:\r\n                </label>\r\n\r\n                <!-- Text field -->\r\n                <template\r\n                  v-if=\"config.configurationDetails?.fieldType === 'Text'\"\r\n                >\r\n                  <input\r\n                    v-model=\"config.value\"\r\n                    :id=\"config.configurationDetails.fieldName\"\r\n                    type=\"text\"\r\n                  />\r\n                </template>\r\n\r\n                <!-- Dropdown field -->\r\n                <template\r\n                  v-else-if=\"\r\n                    config.configurationDetails?.fieldType === 'Dropdown'\r\n                  \"\r\n                >\r\n                  <DropdownToggleColor\r\n                    :fieldName=\"config.configurationDetails.fieldName\"\r\n                    :dropdownStates=\"dropdownStates\"\r\n                    buttonText=\"Toggle Dropdown\"\r\n                  >\r\n                    <div\r\n                      v-for=\"(option, optionIndex) in configurations\"\r\n                      :key=\"optionIndex\"\r\n                    >\r\n                      <span\r\n                        class=\"color-bullet\"\r\n                        :style=\"{\r\n                          backgroundColor: option.name || 'transparent',\r\n                        }\"\r\n                      ></span>\r\n                      {{ option.name || \"Unnamed Color\" }}\r\n                    </div>\r\n                  </DropdownToggleColor>\r\n                </template>\r\n\r\n                <!-- Color field -->\r\n                <template\r\n                  v-else-if=\"config.configurationDetails?.fieldType === 'color'\"\r\n                >\r\n                  <div class=\"color-dropdown\">\r\n                    <div class=\"dropdown\">\r\n                      <DropdownToggleColor\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :buttonText=\"buttonText(config.configurationId._id)\"\r\n                      >\r\n                        <ColorSelectionToggle\r\n                          v-model:selectedColors=\"\r\n                            selectedColors[config.configurationId._id]\r\n                          \"\r\n                          :colors=\"\r\n                            fetchedColorsPerConfig[\r\n                              config.configurationId._id\r\n                            ] || []\r\n                          \"\r\n                          :dropdownStates=\"dropdownStates\"\r\n                          :fieldName=\"config.configurationDetails.fieldName\"\r\n                          :colorOptions=\"\r\n                            fetchedColorsPerConfig[\r\n                              config.configurationId._id\r\n                            ] || []\r\n                          \"\r\n                        />\r\n                      </DropdownToggleColor>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n        <h3>Images:</h3>\r\n        <template\r\n          v-if=\"\r\n            Object.values(selectedColors).some((colors) => colors.length > 0)\r\n          \"\r\n        >\r\n          <ImageUpload\r\n            @file-uploaded=\"handleFileUpload\"\r\n            :color=\"\r\n              Object.values(selectedColors).find(\r\n                (colors) => colors.length > 0\r\n              )[0]\r\n            \"\r\n            :colorUploads=\"colorUploads\"\r\n            :partnerPackage=\"partnerPackage\"\r\n            :partnerName=\"partnerName\"\r\n          />\r\n        </template>\r\n      </template>\r\n      <button class=\"btn active\" type=\"submit\">Add Product</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-weight: bold;\r\n  padding: 10px;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 5px;\r\n}\r\n\r\nform,\r\n.color-dropdown {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform h3 {\r\n  width: 100%;\r\n}\r\n\r\nform .row,\r\nform .column,\r\n.color-upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect,\r\ntextarea {\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  width: 100%;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.colorpicker {\r\n  padding: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: transparent;\r\n  border: none;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\n.color-box {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.image-preview {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.preview-image {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n}\r\n\r\n.error-message {\r\n  color: #d34848;\r\n  margin-top: 20px;\r\n}\r\n\r\n.color-dropdown {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected {\r\n  padding: 8px;\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected span {\r\n  color: var(--text-color);\r\n}\r\n\r\n.color-bullet {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: transparent;\r\n}\r\n\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 8px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-option input {\r\n  width: auto;\r\n}\r\n\r\n.dropdown-option:hover {\r\n  background-color: #555;\r\n}\r\n\r\n.dropdown-option:active {\r\n  background-color: #444;\r\n}\r\n\r\n.configurations {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  gap: 2rem;\r\n  width: 100%;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n\r\n  .configurations {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  .configurations {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddNewProductPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewProductPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewProductPage.vue?vue&type=style&index=0&id=16845c86&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-16845c86\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted, nextTick } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = import.meta.env.VITE_API_BASE_URL;\r\n\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\nimport { fetchPartnerData } from \"../../services/apiService\";\r\nimport { checkToken, fetchPartnerPackage } from \"../../services/authService\";\r\nimport { fetchPartnerConfigurations } from \"../../services/configurationService\";\r\nimport {\r\n  fetchProductTypes,\r\n  getcolors,\r\n  addProductType,\r\n} from \"../../services/productService\";\r\nimport DropdownToggle from \"../../components/DropdownToggle.vue\";\r\nimport DropdownToggleColor from \"../../components/DropdownToggleColor.vue\";\r\nimport ColorSelectionToggle from \"../../components/ColorSelectionToggle.vue\";\r\nimport ImageUpload from \"../../components/ImageUpload.vue\";\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst productId = route.params.id;\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst tokenPayload = jwtToken ? JSON.parse(atob(jwtToken.split(\".\")[1])) : {};\r\nconst partnerId = tokenPayload.companyId;\r\nconst partnerConfigurations = ref([]);\r\nconst productCode = ref(\"\");\r\nconst partnerName = ref(\"\");\r\nconst productName = ref(\"\");\r\nconst productType = ref(\"\");\r\nconst activeInactive = ref(\"\");\r\nconst brand = ref(\"\");\r\nconst productPrice = ref(\"\");\r\nconst description = ref(\"\");\r\nconst colorUploads = ref([]);\r\nconst uploadedFile = ref(null);\r\nconst selectedType = ref(\"\");\r\nconst partnerPackage = ref(\"\");\r\nconst images = ref([]);\r\nconst selectedOptions = ref([]);\r\nconst selectedOption = ref([]);\r\nconst productTypes = ref([]);\r\nconst dropdownStates = ref({\r\n  sole_top: false, // Begin met de status van de dropdown als gesloten\r\n});\r\n\r\nconst fetchProductData = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/products/${productId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n\r\n    const productData = response.data?.data?.product;\r\n\r\n    if (productData) {\r\n      productCode.value = productData.productCode;\r\n      productName.value = productData.productName;\r\n      productType.value = productData.productType;\r\n      activeInactive.value = productData.activeInactive;\r\n      brand.value = productData.brand;\r\n      productPrice.value = productData.productPrice;\r\n      description.value = productData.description;\r\n\r\n      // **Bestaande afbeeldingen in colorUploads zetten**\r\n      let colorUploadsArray = [];\r\n\r\n      if (productData.configurations) {\r\n        productData.configurations.forEach((config, index) => {\r\n          let images = [];\r\n\r\n          if (config.selectedOptions) {\r\n            config.selectedOptions.forEach((option) => {\r\n              if (option.images && option.images.length > 0) {\r\n                images.push(...option.images);\r\n              }\r\n            });\r\n          }\r\n\r\n          colorUploadsArray[index] = { images };\r\n        });\r\n      }\r\n\r\n      colorUploads.value = colorUploadsArray; // Opslaan in Vue-reactive state\r\n    } else {\r\n      console.error(\"Geen productdata gevonden.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching product data:\", error);\r\n  }\r\n};\r\n\r\nconst editProduct = async () => {\r\n  try {\r\n    if (!productName.value || !productPrice.value || !productCode.value) {\r\n      console.error(\" Missing required fields.\");\r\n      return;\r\n    }\r\n\r\n    if (!uploadedFile.value) {\r\n      console.error(\" No file uploaded.\");\r\n      return;\r\n    }\r\n\r\n    await updateProduct(productId, {\r\n      productCode: productCode.value,\r\n      productName: productName.value,\r\n      productType: selectedType.value,\r\n      productPrice: productPrice.value,\r\n      description: description.value,\r\n      brand: brand.value,\r\n      file: uploadedFile.value,\r\n      configurations: partnerConfigurations.value,\r\n    });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    console.error(\" Error updating product:\", error);\r\n  }\r\n};\r\n\r\n// Object to store selected colors per configuration\r\nconst selectedColors = ref({});\r\n\r\nconst buttonText = (configId) => {\r\n  const selected = selectedColors.value[configId]?.length || 0;\r\n  if (selected === 0) {\r\n    return \"Select colors\";\r\n  }\r\n\r\n  const colorNames = selectedColors.value[configId]\r\n    .slice(0, 2)\r\n    .map((color) => color.name)\r\n    .join(\", \");\r\n\r\n  if (selectedColors.value[configId].length > 2) {\r\n    return `${colorNames} + ${selected - 2} more`;\r\n  }\r\n\r\n  return colorNames;\r\n};\r\n\r\n// Fetch colors for each configuration\r\nconst fetchedColors = ref([]);\r\nconst fetchcolors = async (partnerId) => {\r\n  try {\r\n    const selectedOptions = await getcolors(partnerId);\r\n    if (\r\n      !selectedOptions ||\r\n      !Array.isArray(selectedOptions) ||\r\n      selectedOptions.length === 0\r\n    ) {\r\n      console.error(\" Geen geldige kleuren ontvangen\");\r\n      return;\r\n    }\r\n\r\n    fetchedColors.value = selectedOptions.map((option) => ({\r\n      optionId: option.optionId || \"\",\r\n      name: option.color || \"Unnamed Color\",\r\n      images: option.images || [],\r\n    }));\r\n  } catch (error) {\r\n    console.error(\" Fout in fetchcolors:\", error);\r\n  }\r\n};\r\n\r\n// Map colors per configuration\r\nconst fetchedColorsPerConfig = {};\r\n\r\nconst handleFileUpload = (fileUrl) => {\r\n  if (!fileUrl || !fileUrl[0]) {\r\n    console.error(\" Geen geldige afbeeldings-URL.\");\r\n    return;\r\n  }\r\n\r\n  // Zet de eerste waarde van de array als de URL\r\n  uploadedFile.value = fileUrl; // Gebruik enkel de eerste URL als string\r\n};\r\n\r\nonMounted(async () => {\r\n  if (!partnerId) {\r\n    console.error(\" Partner ID is niet beschikbaar.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    await checkToken();\r\n\r\n    // Fetch partner data\r\n    const partnerData = await fetchPartnerData(partnerId, jwtToken);\r\n    partnerName.value = partnerData?.name || \"\";\r\n\r\n    // Fetch partner package\r\n    const partnerPackageResponse = await fetchPartnerPackage(partnerId);\r\n    partnerPackage.value = partnerPackageResponse || \"\";\r\n\r\n    // Fetch partner configurations\r\n    const { partnerConfigs } = await fetchPartnerConfigurations(\r\n      partnerId,\r\n      jwtToken\r\n    );\r\n\r\n    partnerConfigurations.value = partnerConfigs || [];\r\n\r\n    // Fetch colors\r\n    await fetchProductData();\r\n    await fetchcolors(partnerId);\r\n\r\n    // Wait for Vue reactivity to process the color updates\r\n    await nextTick();\r\n\r\n    const rawFetchedColors = fetchedColors.value;\r\n\r\n    if (rawFetchedColors.length > 0) {\r\n      partnerConfigurations.value.forEach((config) => {\r\n        if (config?.configurationDetails?.fieldType === \"color\") {\r\n          const configId = config.configurationId._id;\r\n\r\n          const configColors = config.options.map((option) => {\r\n            return rawFetchedColors.find(\r\n              (color) => color.optionId === option.optionId._id\r\n            );\r\n          });\r\n\r\n          fetchedColorsPerConfig[configId] = configColors;\r\n          selectedColors.value[configId] = []; // Initialize selected colors for this config\r\n        }\r\n      });\r\n    } else {\r\n      console.warn(\" Geen kleuren gevonden.\");\r\n    }\r\n\r\n    // Fetch product types\r\n    const fetchedProductTypes = await fetchProductTypes(partnerId);\r\n    productTypes.value = fetchedProductTypes;\r\n  } catch (error) {\r\n    console.error(\" Error tijdens initialisatie:\", error);\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit Product</h1>\r\n    <form @submit.prevent=\"editProduct\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productCode\">Product Code:</label>\r\n          <input v-model=\"productCode\" id=\"productCode\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"productName\">Product Name:</label>\r\n          <input v-model=\"productName\" id=\"productName\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productType\">Type Of Product:</label>\r\n          <div class=\"dropdown\" v-if=\"productTypes.length > 0\">\r\n            <DropdownToggle\r\n              v-model=\"selectedType\"\r\n              :fieldName=\"'sole_top'\"\r\n              :dropdownStates=\"dropdownStates\"\r\n              :buttonText=\"'Select colors'\"\r\n              :types=\"productTypes\"\r\n              @addOption=\"addProductType(productTypes, $event)\"\r\n            >\r\n            </DropdownToggle>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"brand\">Brand:</label>\r\n          <input v-model=\"brand\" id=\"brand\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productPrice\">Price:</label>\r\n          <input\r\n            v-model=\"productPrice\"\r\n            id=\"productPrice\"\r\n            type=\"number\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"description\">Description:</label>\r\n          <textarea v-model=\"description\" id=\"description\" required></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Render partner configurations dynamically -->\r\n      <template v-if=\"partnerPackage == 'standard'\">\r\n        <template\r\n          v-for=\"(config, index) in partnerConfigurations\"\r\n          :key=\"config._id\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"column\">\r\n              <label :for=\"config.configurationDetails.fieldName\">\r\n                {{ config.configurationDetails.fieldName }}:\r\n              </label>\r\n\r\n              <!-- Text field -->\r\n              <template v-if=\"config.configurationDetails.fieldType === 'Text'\">\r\n                <input\r\n                  v-model=\"config.value\"\r\n                  :id=\"config.configurationDetails.fieldName\"\r\n                  type=\"text\"\r\n                />\r\n              </template>\r\n\r\n              <!-- Dropdown field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'Dropdown'\"\r\n              >\r\n                <DropdownToggleColor\r\n                  :fieldName=\"config.configurationDetails.fieldName\"\r\n                  :dropdownStates=\"dropdownStates\"\r\n                  buttonText=\"Toggle Dropdown\"\r\n                >\r\n                  <div\r\n                    v-for=\"(option, optionIndex) in configurations\"\r\n                    :key=\"optionIndex\"\r\n                  >\r\n                    <span\r\n                      class=\"color-bullet\"\r\n                      :style=\"{ backgroundColor: color.name || 'transparent' }\"\r\n                    ></span>\r\n                    {{ color.name || \"Unnamed Color\" }}\r\n                  </div>\r\n                </DropdownToggleColor>\r\n              </template>\r\n\r\n              <!-- Color field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails.fieldType === 'color'\"\r\n              >\r\n                <div class=\"color-dropdown\">\r\n                  <div class=\"dropdown\">\r\n                    <DropdownToggleColor\r\n                      :fieldName=\"config.configurationDetails.fieldName\"\r\n                      :dropdownStates=\"dropdownStates\"\r\n                      :buttonText=\"buttonText(config.configurationId._id)\"\r\n                    >\r\n                      <ColorSelectionToggle\r\n                        v-model:selectedColors=\"\r\n                          selectedColors[config.configurationId._id]\r\n                        \"\r\n                        :colors=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :colorOptions=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                      />\r\n                    </DropdownToggleColor>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Upload zone voor 'standard' pakket -->\r\n          <!-- Upload zone per geselecteerde kleur binnen een configuratie -->\r\n          <template v-if=\"config.configurationDetails.fieldType === 'color'\">\r\n            <div\r\n              v-for=\"(selectedColor, colorIndex) in selectedColors[\r\n                config.configurationId._id\r\n              ] || []\"\r\n              :key=\"colorIndex\"\r\n              class=\"column\"\r\n            >\r\n              <p>{{ selectedColor.name }} - Upload images</p>\r\n              <ImageUpload\r\n                @file-uploaded=\"handleFileUpload\"\r\n                :existingFiles=\"images\"\r\n                :partnerPackage=\"partnerPackage\"\r\n                :partnerName=\"partnerName\"\r\n              />\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </template>\r\n\r\n      <!-- Submit Button -->\r\n      <template v-if=\"partnerPackage == 'pro'\">\r\n        <template\r\n          v-for=\"(config, index) in partnerConfigurations\"\r\n          :key=\"config._id\"\r\n        >\r\n          <div class=\"row\">\r\n            <div class=\"column\">\r\n              <label\r\n                v-if=\"config.configurationDetails\"\r\n                :for=\"config.configurationDetails.fieldName\"\r\n              >\r\n                {{ config.configurationDetails.fieldName }}:\r\n              </label>\r\n\r\n              <!-- Text field -->\r\n              <template\r\n                v-if=\"config.configurationDetails?.fieldType === 'Text'\"\r\n              >\r\n                <input\r\n                  v-model=\"config.value\"\r\n                  :id=\"config.configurationDetails.fieldName\"\r\n                  type=\"text\"\r\n                />\r\n              </template>\r\n\r\n              <!-- Dropdown field -->\r\n              <template\r\n                v-else-if=\"\r\n                  config.configurationDetails?.fieldType === 'Dropdown'\r\n                \"\r\n              >\r\n                <DropdownToggleColor\r\n                  :fieldName=\"config.configurationDetails.fieldName\"\r\n                  :dropdownStates=\"dropdownStates\"\r\n                  buttonText=\"Toggle Dropdown\"\r\n                >\r\n                  <div\r\n                    v-for=\"(option, optionIndex) in configurations\"\r\n                    :key=\"optionIndex\"\r\n                  >\r\n                    <span\r\n                      class=\"color-bullet\"\r\n                      :style=\"{ backgroundColor: option.name || 'transparent' }\"\r\n                    ></span>\r\n                    {{ option.name || \"Unnamed Color\" }}\r\n                  </div>\r\n                </DropdownToggleColor>\r\n              </template>\r\n\r\n              <!-- Color field -->\r\n              <template\r\n                v-else-if=\"config.configurationDetails?.fieldType === 'color'\"\r\n              >\r\n                <div class=\"color-dropdown\">\r\n                  <div class=\"dropdown\">\r\n                    <DropdownToggleColor\r\n                      :fieldName=\"config.configurationDetails.fieldName\"\r\n                      :dropdownStates=\"dropdownStates\"\r\n                      :buttonText=\"buttonText(config.configurationId._id)\"\r\n                    >\r\n                      <ColorSelectionToggle\r\n                        v-model:selectedColors=\"\r\n                          selectedColors[config.configurationId._id]\r\n                        \"\r\n                        :colors=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                        :dropdownStates=\"dropdownStates\"\r\n                        :fieldName=\"config.configurationDetails.fieldName\"\r\n                        :colorOptions=\"\r\n                          fetchedColorsPerConfig[config.configurationId._id] ||\r\n                          []\r\n                        \"\r\n                      />\r\n                    </DropdownToggleColor>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- Display one ImageUpload if there's at least one selected color -->\r\n        <template\r\n          v-if=\"\r\n            Object.values(selectedColors).some((colors) => colors.length > 0)\r\n          \"\r\n        >\r\n          <ImageUpload\r\n            @file-uploaded=\"handleFileUpload\"\r\n            :colorUploads=\"colorUploads\"\r\n            :partnerPackage=\"partnerPackage\"\r\n            :partnerName=\"partnerName\"\r\n          />\r\n        </template>\r\n      </template>\r\n\r\n      <button class=\"btn active\" type=\"submit\">Update Product</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  font-weight: bold;\r\n  padding: 10px;\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  border-radius: 5px;\r\n}\r\n\r\nform,\r\n.color-dropdown {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row,\r\nform .column,\r\n.color-upload-section {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect,\r\ntextarea {\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  width: 100%;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.colorpicker {\r\n  padding: 0;\r\n  width: 32px;\r\n  height: 32px;\r\n  background-color: transparent;\r\n  border: none;\r\n}\r\n\r\n.error {\r\n  color: #d34848;\r\n}\r\n\r\n.color-box {\r\n  display: inline-block;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.image-preview {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.preview-image {\r\n  width: 50px;\r\n  height: 50px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n}\r\n\r\n.error-message {\r\n  color: #d34848;\r\n  margin-top: 20px;\r\n}\r\n\r\n.color-dropdown {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected {\r\n  padding: 8px;\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-selected span {\r\n  color: var(--text-color);\r\n}\r\n\r\n.color-bullet {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: transparent;\r\n}\r\n\r\n.dropdown-options {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: var(--gray-900);\r\n  border-radius: 4px;\r\n  width: 100%;\r\n  z-index: 10;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  margin-top: 4px;\r\n}\r\n\r\n.dropdown-option {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 8px;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.dropdown-option input {\r\n  width: auto;\r\n}\r\n\r\n.dropdown-option:hover {\r\n  background-color: #555;\r\n}\r\n\r\n.dropdown-option:active {\r\n  background-color: #444;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EditProduct.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditProduct.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditProduct.vue?vue&type=style&index=0&id=60ad935e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-60ad935e\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n\r\n    if (userData.role !== \"platform_admin\") {\r\n      router.push(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Haal de producten op vanuit de API\r\nconst fetchData = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\"); // Use the correct variable name\r\n    const response = await fetch(`${baseURL}/products`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    const userCompanyId = getUserCompanyId(token); // Pass the correct token here\r\n\r\n    data.value = result.data.products.filter(\r\n      (product) => product.partnerId === userCompanyId\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\n\r\n// Initialiseer component en haal data op\r\nonMounted(fetchData);\r\n\r\n// Definities van refs en computed properties\r\nconst selectedTypeFilter = ref(\"All\");\r\nconst data = ref([]);\r\n\r\n// Haal companyId uit het JWT token\r\nconst getUserCompanyId = (token) => {\r\n  if (!token) return null;\r\n  const decoded = JSON.parse(atob(token.split(\".\")[1]));\r\n  return decoded.companyId;\r\n};\r\n\r\n// Haal gegevens op bij het laden van de component\r\nonMounted(() => {\r\n  fetchData();\r\n});\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst selectedFilter = ref(\"all\");\r\nconst partners = ref([]);\r\nconst searchTerm = ref(\"\");\r\nconst selectedpartners = ref([]);\r\nconst isDeleteButtonVisible = computed(() => selectedpartners.value.length > 0);\r\nconst isPopupVisible = ref(false);\r\n\r\nconst fetchpartners = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\");\r\n    const response = await fetch(`${baseURL}/partners`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    if (result && result.data && result.data.partners) {\r\n      partners.value = result.data.partners;\r\n    } else {\r\n      console.error(\"No partners found in the response.\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching partners:\", error);\r\n  }\r\n};\r\n\r\nconst toggleSelection = (partnerId) => {\r\n  const index = selectedpartners.value.indexOf(partnerId);\r\n  if (index === -1) {\r\n    selectedpartners.value.push(partnerId);\r\n  } else {\r\n    selectedpartners.value.splice(index, 1);\r\n  }\r\n};\r\n\r\nconst toggleSelectAll = (event) => {\r\n  selectedpartners.value = event.target.checked\r\n    ? partners.value.map((partner) => partner._id)\r\n    : [];\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  await deletepartners();\r\n  hidePopup();\r\n};\r\n\r\nconst deletepartners = async () => {\r\n  try {\r\n    for (const id of selectedpartners.value) {\r\n      const response = await fetch(`${baseURL}/partners/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n    }\r\n    await fetchpartners();\r\n    selectedpartners.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting partners:\", error);\r\n  }\r\n};\r\n\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\n\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\nconst filteredpartners = computed(() => {\r\n  if (!partners.value) return [];\r\n  const filteredBySearch = partners.value.filter((partner) => {\r\n    return Object.values(partner).some((value) =>\r\n      String(value).toLowerCase().includes(searchTerm.value.toLowerCase())\r\n    );\r\n  });\r\n\r\n  const filteredByType = filteredBySearch.filter(\r\n    (partner) =>\r\n      selectedFilter.value === \"all\" || partner.package === selectedFilter.value\r\n  );\r\n\r\n  return filteredByType;\r\n});\r\n\r\nonMounted(() => {\r\n  fetchpartners();\r\n  setInterval(() => {\r\n    fetchpartners();\r\n  }, 5000);\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Partners</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link exact to=\"/admin/add-new-partner\" class=\"btn active\">\r\n          <p>Add new</p>\r\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n\r\n      <select class=\"filter\" v-model=\"selectedFilter\">\r\n        <option value=\"all\">All</option>\r\n        <option value=\"standard\">Standard</option>\r\n        <option value=\"pro\">Pro</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"partners mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"filteredpartners.length\"\r\n          v-for=\"partner in filteredpartners\"\r\n          :key=\"partner._id\"\r\n          :to=\"{ name: 'EditPartner', params: { id: partner._id } }\"\r\n        >\r\n          <div\r\n            class=\"image\"\r\n            :style=\"{\r\n              backgroundImage:\r\n                'url(http://localhost:5173/src/assets/images/Odette_lunettes.webp)',\r\n            }\"\r\n          ></div>\r\n          <div class=\"elements\">\r\n            <div class=\"text\">\r\n              <p class=\"name\">{{ partner.name }}</p>\r\n              <p>{{ partner.contact_email }}</p>\r\n              <p>{{ partner.contact_phone }}</p>\r\n              <p>{{ partner.package }}</p>\r\n            </div>\r\n            <div class=\"btn\">\r\n              <p>Active</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"partners desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedpartners.length === filteredpartners.length &&\r\n            filteredpartners.length > 0\r\n          \"\r\n        />\r\n        <p>Partner ID</p>\r\n        <p>Name</p>\r\n        <p>Contact Email</p>\r\n        <p>Contact Phone</p>\r\n        <p>Package</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <ul v-if=\"filteredpartners.length\" class=\"list\">\r\n          <li v-for=\"partner in filteredpartners\" :key=\"partner._id\">\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"toggleSelection(partner._id)\"\r\n              :checked=\"selectedpartners.includes(partner._id)\"\r\n            />\r\n            <router-link\r\n              :to=\"{ name: 'EditPartner', params: { id: partner._id } }\"\r\n            >\r\n              <p>{{ partner._id }}</p>\r\n              <p>{{ partner.name }}</p>\r\n              <p>{{ partner.contact_email }}</p>\r\n              <p>{{ partner.contact_phone }}</p>\r\n              <p>{{ partner.package }}</p>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n\r\n        <div v-else class=\"no-partners\">\r\n          <p>No partners found matching the selected filters.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  gap: 80px;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  display: none;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.partners.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.partners.mobile {\r\n  width: 100%;\r\n}\r\n\r\n.partners.mobile .items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.partners.mobile a {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding-bottom: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.partners.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.partners.mobile a .elements {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  gap: 1em;\r\n}\r\n\r\n.partners.mobile a .elements .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.partners.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.partners.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.partners.desktop {\r\n  display: none;\r\n}\r\n\r\n.partners::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.partners .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 40px;\r\n  padding: 16px;\r\n  background-color: var(--secondary-color);\r\n  align-items: center;\r\n}\r\n\r\n.partners .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.partners .list li {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 40px;\r\n  align-items: center;\r\n  padding: 16px;\r\n}\r\n\r\n.partners.desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.partners .list li a {\r\n  display: contents; /* Zorg ervoor dat de a-tag zich gedraagt als inhoud van de grid */\r\n}\r\n\r\n.partners .top p,\r\n.partners .list li p {\r\n  color: var(--text-color);\r\n  white-space: nowrap; /* Zorg ervoor dat tekst niet over meerdere regels gaat */\r\n  overflow: hidden; /* Verberg tekst die te lang is */\r\n  text-overflow: ellipsis; /* Voeg een ellipsis toe als de tekst te lang is */\r\n}\r\n\r\n.partners .top p:nth-child(1),\r\n.partners .list li p:nth-child(1) {\r\n  width: 200px; /* De Order ID kolom is nu groter */\r\n}\r\n\r\n.partners .top p:nth-child(2),\r\n.partners .list li p:nth-child(2) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(3),\r\n.partners .list li p:nth-child(3) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(4),\r\n.partners .list li p:nth-child(4) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(5),\r\n.partners .list li p:nth-child(5) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .top p:nth-child(6),\r\n.partners .list li p:nth-child(6) {\r\n  width: 200px;\r\n}\r\n\r\n.partners .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-partners {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .partners.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .partners.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./PartnersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PartnersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PartnersPage.vue?vue&type=style&index=0&id=6b732204&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6b732204\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Basis-URL afhankelijk van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst router = useRouter();\r\n\r\n// Redirect naar login als er geen token is\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Variabelen voor partnergegevens\r\nconst name = ref(\"\");\r\nconst street = ref(\"\");\r\nconst city = ref(\"\");\r\nconst postalCode = ref(\"\");\r\nconst country = ref(\"\");\r\nconst contactEmail = ref(\"\");\r\nconst contactPhone = ref(\"\");\r\nconst subscriptionPackage = ref(\"standard\"); // Herbenoemd van 'package' naar 'subscriptionPackage'\r\n\r\nconst defaultStyles = {\r\n  primary_color: \"rgb(151, 71, 255)\",\r\n  secondary_color: \"rgb(0, 0, 0)\",\r\n  titles_color: \"rgb(0, 113, 227)\",\r\n  text_color: \"rgb(255, 255, 255)\",\r\n  background_color: \"rgb(0, 0, 0)\",\r\n  button_color: \"#146ef5\",\r\n  fontFamilyTitles: \"Syne, serif\",\r\n  fontFamilyBodyText: \"DM Sans, sans-serif\",\r\n  logo_url: \"../../src/assets/images/rebilt-favicon.svg\",\r\n};\r\n\r\n// Validatie van het e-mailadres\r\nconst isValidEmail = (email) => {\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailPattern.test(email);\r\n};\r\n\r\n// Functie om een nieuwe partner toe te voegen\r\nconst addPartner = async () => {\r\n  // Validatie van verplichte velden\r\n  if (!name.value || !subscriptionPackage.value) {\r\n    alert(\"Naam en pakket zijn verplicht.\");\r\n    return;\r\n  }\r\n\r\n  if (contactEmail.value && !isValidEmail(contactEmail.value)) {\r\n    alert(\"Voer een geldig e-mailadres in.\");\r\n    return;\r\n  }\r\n\r\n  // Definieer de partnerPayload hier\r\n  const partnerPayload = {\r\n    name: name.value,\r\n    address: {\r\n      street: street.value,\r\n      city: city.value,\r\n      postal_code: postalCode.value,\r\n      country: country.value,\r\n    },\r\n    contact_email: contactEmail.value || null,\r\n    contact_phone: contactPhone.value || null,\r\n    package: subscriptionPackage.value, // Gebruik hier de hernoemde variabele 'subscriptionPackage'\r\n    ...defaultStyles, // Voeg de standaard huisstijl toe aan het payload\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(partnerPayload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorDetail = await response.json();\r\n      throw new Error(\r\n        `Fout bij het toevoegen van de partner: ${errorDetail.message}`\r\n      );\r\n    }\r\n\r\n    const result = await response.json();\r\n\r\n    // Redirect naar partnerspagina\r\n    router.push(\"/admin/partners\");\r\n  } catch (error) {\r\n    console.error(\"Error adding partner:\", error.message);\r\n    alert(\r\n      \"Er is een fout opgetreden bij het toevoegen van de partner. Controleer de console voor details.\"\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Add new partner</h1>\r\n    <form @submit.prevent=\"addPartner\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"name\">Naam:</label>\r\n          <input v-model=\"name\" id=\"name\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"street\">Straat:</label>\r\n          <input v-model=\"street\" id=\"street\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"city\">Stad:</label>\r\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"postalCode\">Postcode:</label>\r\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"country\">Land:</label>\r\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"contactEmail\">Contact E-mail:</label>\r\n          <input v-model=\"contactEmail\" id=\"contactEmail\" type=\"email\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"contactPhone\">Contact Telefoon:</label>\r\n          <input v-model=\"contactPhone\" id=\"contactPhone\" type=\"tel\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"subscriptionPackage\">Pakket:</label>\r\n          <select\r\n            v-model=\"subscriptionPackage\"\r\n            id=\"subscriptionPackage\"\r\n            required\r\n          >\r\n            <option value=\"standard\">Standard</option>\r\n            <option value=\"pro\">Pro</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn active\">Save</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Voeg hier je stijlen toe */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin-bottom: 136px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddNewPartnerPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewPartnerPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewPartnerPage.vue?vue&type=style&index=0&id=042656de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-042656de\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Basis-URL afhankelijk van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Router en route-instellingen\r\nconst router = useRouter();\r\nconst route = useRoute();\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\n\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Verkrijg de partnerId uit de routeparameter\r\nconst partnerId = route.params.id; // Haal partnerId uit de route\r\n\r\n// Partnergegevens en andere variabelen\r\nconst partnerData = ref({\r\n  name: \"\",\r\n  address: {\r\n    street: \"\",\r\n    city: \"\",\r\n    postal_code: \"\",\r\n    country: \"\",\r\n  },\r\n  contact_email: \"\",\r\n  contact_phone: \"\",\r\n  package: \"standard\", // Default package value is \"Standard\"\r\n});\r\n\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) {\r\n    console.error(\"Geen partnerId beschikbaar.\");\r\n    alert(\"Geen partnerId beschikbaar.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    partnerData.value = {\r\n      ...data.data.partner,\r\n      address: {\r\n        ...data.data.partner.address,\r\n      },\r\n    }; // Vul partnergegevens in\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    alert(\"Er is een fout opgetreden bij het ophalen van de partnergegevens.\");\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchPartnerData();\r\n});\r\n\r\n// Partnergegevens bijwerken\r\nconst updatePartner = async () => {\r\n  if (!partnerData.value.name || !partnerData.value.package) {\r\n    alert(\"Naam en Pakket zijn verplicht.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners/${partnerId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: partnerData.value.name,\r\n        address: partnerData.value.address, // Verstuur het volledige adresobject\r\n        contact_email: partnerData.value.contact_email,\r\n        contact_phone: partnerData.value.contact_phone,\r\n        package: partnerData.value.package, // Verstuur het geselecteerde pakket\r\n      }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    router.push(\"/admin/partners\"); // Redirect na succesvolle update\r\n  } catch (error) {\r\n    console.error(\"Error updating partner:\", error);\r\n    alert(\"Er is een fout opgetreden bij het bijwerken van de partner.\");\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit partner</h1>\r\n    <form v-if=\"partnerData\" @submit.prevent=\"updatePartner\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"name\">Naam:</label>\r\n          <input v-model=\"partnerData.name\" type=\"text\" id=\"name\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"street\">Straat:</label>\r\n          <input v-model=\"partnerData.address.street\" type=\"text\" id=\"street\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"city\">Stad:</label>\r\n          <input v-model=\"partnerData.address.city\" type=\"text\" id=\"city\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"postal_code\">Postcode:</label>\r\n          <input\r\n            v-model=\"partnerData.address.postal_code\"\r\n            type=\"text\"\r\n            id=\"postal_code\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"country\">Land:</label>\r\n          <input\r\n            v-model=\"partnerData.address.country\"\r\n            type=\"text\"\r\n            id=\"country\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"contact_email\">Contact Email:</label>\r\n          <input\r\n            v-model=\"partnerData.contact_email\"\r\n            type=\"email\"\r\n            id=\"contact_email\"\r\n          />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"contact_phone\">Contact Telefoon:</label>\r\n          <input\r\n            v-model=\"partnerData.contact_phone\"\r\n            type=\"tel\"\r\n            id=\"contact_phone\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"package\">Pakket:</label>\r\n          <!-- Dropdown voor package -->\r\n          <select v-model=\"partnerData.package\" id=\"package\" required>\r\n            <option value=\"\" disabled>Kies een pakket</option>\r\n            <option value=\"standard\">standard</option>\r\n            <option value=\"pro\">pro</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\" class=\"btn active\">Save</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Stijlen voor je formulier en pagina */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n  margin-bottom: 136px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EditPartner.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditPartner.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditPartner.vue?vue&type=style&index=0&id=b4d83d94&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b4d83d94\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, computed, onMounted, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// JWT Handling Utility\r\nconst getToken = () => localStorage.getItem(\"jwtToken\");\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Check for token validity\r\nconst token = getToken();\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\n// If no valid userId, redirect to login\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Reactive state\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\nconst partnerPackage = ref(null);\r\nconst orders = ref([]);\r\nconst selectedOrders = ref([]);\r\nconst searchTerm = ref(\"\");\r\nconst selectedFilter = ref(\"All\");\r\n\r\n// API Call Utility Function\r\nconst fetchDataFromApi = async (url, method = \"GET\", data = {}) => {\r\n  const token = getToken();\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n    method,\r\n    data,\r\n  };\r\n\r\n  try {\r\n    const response = await axios(url, config);\r\n    return response.data?.data || {};\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\n// Fetch User Profile\r\nconst fetchUserProfile = async () => {\r\n  const userData = await fetchDataFromApi(`${baseURL}/users/${userId}`);\r\n  if (userData?.user) {\r\n    Object.assign(user, userData.user); // Directly update the user object\r\n  }\r\n};\r\n\r\n// Fetch Partner Data\r\nconst fetchPartnerData = async () => {\r\n  if (partnerId) {\r\n    const partnerData = await fetchDataFromApi(\r\n      `${baseURL}/partners/${partnerId}`\r\n    );\r\n    partnerPackage.value =\r\n      partnerData?.partner?.package || \"No package available\";\r\n  }\r\n};\r\n\r\nlet productCode = \"\";\r\n// Fetch Orders Data\r\nconst fetchOrders = async () => {\r\n  const ordersData = await fetchDataFromApi(`${baseURL}/orders`);\r\n  orders.value = ordersData?.orders || [];\r\n\r\n  // Iterate over each order to access productCode\r\n  orders.value.forEach((order) => {\r\n    if (order.productId && order.productId.productCode) {\r\n      const productCode = order.productId.productCode;\r\n    }\r\n  });\r\n};\r\n\r\n// Initial Fetch on Mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n  await fetchOrders();\r\n  setInterval(fetchOrders, 5000); // Poll orders every 5 seconds\r\n});\r\n\r\n// Computed values for filtering\r\nconst filteredOrders = computed(() => {\r\n  return orders.value.filter((order) => {\r\n    const matchesSearchTerm = Object.values(order).some((value) =>\r\n      String(value).toLowerCase().includes(searchTerm.value.toLowerCase())\r\n    );\r\n    const matchesFilter =\r\n      selectedFilter.value === \"All\" ||\r\n      order.orderStatus === selectedFilter.value;\r\n    return matchesSearchTerm && matchesFilter;\r\n  });\r\n});\r\n\r\n// Handle Order Selection\r\nconst toggleSelection = (orderId) => {\r\n  const index = selectedOrders.value.indexOf(orderId);\r\n  if (index === -1) {\r\n    selectedOrders.value.push(orderId);\r\n  } else {\r\n    selectedOrders.value.splice(index, 1);\r\n  }\r\n};\r\n\r\nconst toggleSelectAll = (event) => {\r\n  selectedOrders.value = event.target.checked\r\n    ? orders.value.map((order) => order._id)\r\n    : [];\r\n};\r\n\r\n// Handle Deleting Orders\r\nconst isDeleteButtonVisible = computed(() => selectedOrders.value.length > 0);\r\nconst deleteSelectedOrders = () => {\r\n  if (selectedOrders.value.length === 0) return;\r\n  showPopup();\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  await deleteOrders();\r\n  hidePopup();\r\n};\r\n\r\nconst deleteOrders = async () => {\r\n  try {\r\n    for (const id of selectedOrders.value) {\r\n      // Optimistically remove deleted orders from the list to update the UI instantly\r\n      orders.value = orders.value.filter((order) => order._id !== id);\r\n      await fetch(`${baseURL}/orders/${id}`, { method: \"DELETE\" });\r\n    }\r\n    selectedOrders.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting orders:\", error);\r\n  }\r\n};\r\n\r\n// Popup visibility management\r\nconst isPopupVisible = ref(false);\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\n// Provide user data to Navigation component\r\nprovide(\"user\", user);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Orders</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <p>Aantal orders: {{ orders.length }}</p>\r\n        <div\r\n          @click=\"deleteSelectedOrders\"\r\n          class=\"btn display\"\r\n          :style=\"{ visibility: isDeleteButtonVisible ? 'visible' : 'hidden' }\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n\r\n      <select class=\"filter\" v-model=\"selectedFilter\">\r\n        <option value=\"All\">All</option>\r\n        <option value=\"pending\">Pending</option>\r\n        <option value=\"shipped\">Shipped</option>\r\n        <option value=\"delivered\">Delivered</option>\r\n        <option value=\"cancelled\">Cancelled</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"orders mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"filteredOrders.length\"\r\n          v-for=\"order in filteredOrders\"\r\n          :key=\"order._id\"\r\n          :to=\"{ name: 'EditPartner', params: { id: order._id } }\"\r\n        >\r\n          <div>\r\n            <p>{{ order.customer.firstName }} {{ order.customer.lastName }}</p>\r\n            <p>\r\n              {{ order.createdAt }}\r\n            </p>\r\n          </div>\r\n          <div>\r\n            <p>\r\n              {{ order.productId }}\r\n            </p>\r\n            <p>\r\n              {{ order.orderStatus }}\r\n            </p>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"orders desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedOrders.length === filteredOrders.length &&\r\n            filteredOrders.length > 0\r\n          \"\r\n        />\r\n        <p>Order ID</p>\r\n        <p>ProductCode</p>\r\n        <p>LacesColor</p>\r\n        <p>LacesTexture</p>\r\n        <p>SoleBottomColor</p>\r\n        <p>SoleBottomTexture</p>\r\n        <p>SoleTopColor</p>\r\n        <p>SoleTopTexture</p>\r\n        <p>InsideColor</p>\r\n        <p>InsideTexture</p>\r\n        <p>Outside1Color</p>\r\n        <p>Outside1Texture</p>\r\n        <p>Outside2Color</p>\r\n        <p>Outside2Texture</p>\r\n        <p>Outside3Color</p>\r\n        <p>Outside3Texture</p>\r\n        <p>Status</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <ul v-if=\"filteredOrders.length\" class=\"list\">\r\n          <li v-for=\"order in filteredOrders\" :key=\"order._id\">\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"toggleSelection(order._id)\"\r\n              :checked=\"selectedOrders.includes(order._id)\"\r\n            />\r\n            <router-link :to=\"{ name: 'EditOrder', params: { id: order._id } }\">\r\n              <p>{{ order._id }}</p>\r\n\r\n              <!-- Access productCode from order.productId -->\r\n              <p>{{ order.productId?.productCode || \"No product code\" }}</p>\r\n\r\n              <p>{{ order.lacesColor }}</p>\r\n              <p>{{ order.lacesTexture }}</p>\r\n              <p>{{ order.soleBottomColor }}</p>\r\n              <p>{{ order.soleBottomTexture }}</p>\r\n              <p>{{ order.soleTopColor }}</p>\r\n              <p>{{ order.soleTopTexture }}</p>\r\n              <p>{{ order.insideColor }}</p>\r\n              <p>{{ order.insideTexture }}</p>\r\n              <p>{{ order.outside1Color }}</p>\r\n              <p>{{ order.outside1Texture }}</p>\r\n              <p>{{ order.outside2Color }}</p>\r\n              <p>{{ order.outside2Texture }}</p>\r\n              <p>{{ order.outside3Color }}</p>\r\n              <p>{{ order.outside3Texture }}</p>\r\n              <p>{{ order.orderStatus }}</p>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        <div v-if=\"filteredOrders.length === 0\" class=\"no-orders\">\r\n          No orders found\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.orders::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.orders .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(18, 1fr);\r\n  gap: 40px;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n  align-items: center; /* --- */\r\n}\r\n\r\n.orders .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  gap: 16px;\r\n  max-height: 300px;\r\n}\r\n\r\n.orders .list li {\r\n  display: grid;\r\n  grid-template-columns: repeat(18, 1fr);\r\n  gap: 40px;\r\n  align-items: center;\r\n  padding: 1rem;\r\n}\r\n\r\n.orders.desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.orders .list li a {\r\n  display: contents; /* Zorg ervoor dat de a-tag zich gedraagt als inhoud van de grid */\r\n}\r\n\r\n.orders .top p,\r\n.orders .list li p {\r\n  color: var(--text-color);\r\n  white-space: nowrap; /* Zorg ervoor dat tekst niet over meerdere regels gaat */\r\n  overflow: hidden; /* Verberg tekst die te lang is */\r\n  text-overflow: ellipsis; /* Voeg een ellipsis toe als de tekst te lang is */\r\n}\r\n\r\n.orders .top p:nth-child(1),\r\n.orders .list li p:nth-child(1) {\r\n  width: 150px; /* De Order ID kolom is nu groter */\r\n}\r\n\r\n.orders .top p:nth-child(2),\r\n.orders .list li p:nth-child(2) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(3),\r\n.orders .list li p:nth-child(3) {\r\n  width: 180px;\r\n}\r\n\r\n.orders .top p:nth-child(4),\r\n.orders .list li p:nth-child(4) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(5),\r\n.orders .list li p:nth-child(5) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(6),\r\n.orders .list li p:nth-child(6) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(7),\r\n.orders .list li p:nth-child(7) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(8),\r\n.orders .list li p:nth-child(8) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(9),\r\n.orders .list li p:nth-child(9) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(10),\r\n.orders .list li p:nth-child(10) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(11),\r\n.orders .list li p:nth-child(11) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(12),\r\n.orders .list li p:nth-child(12) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(13),\r\n.orders .list li p:nth-child(13) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(14),\r\n.orders .list li p:nth-child(14) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(15),\r\n.orders .list li p:nth-child(15) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(16),\r\n.orders .list li p:nth-child(16) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(17),\r\n.orders .list li p:nth-child(17) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .top p:nth-child(18),\r\n.orders .list li p:nth-child(18) {\r\n  width: 150px;\r\n}\r\n\r\n.orders .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-orders {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.orders.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.orders.mobile {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.orders.mobile a {\r\n  padding: 1em;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding-bottom: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.orders.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n.orders.mobile a div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.orders.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.orders.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.orders.desktop {\r\n  display: none;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .orders.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .orders {\r\n    background-color: var(--secondary-color);\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    overflow-x: auto; /* Enable horizontal scrolling */\r\n    white-space: nowrap; /* Prevent wrapping of items */\r\n  }\r\n\r\n  .orders.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./OrdersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrdersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrdersPage.vue?vue&type=style&index=0&id=056fe690&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-056fe690\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Base URL afhankelijk van productie/ontwikkelomgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Router en route\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\n// JWT-token ophalen en controleren\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Data-instellingen\r\nconst orderData = ref(null);\r\nconst productCode = ref(route.params.id || \"\");\r\n\r\n// Formulierdata\r\nconst formData = ref({\r\n  customer: {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    message: \"\",\r\n    address: {\r\n      street: \"\",\r\n      houseNumber: \"\",\r\n      postalCode: \"\",\r\n      city: \"\",\r\n    },\r\n  },\r\n  productId: \"\",\r\n  lacesColor: \"\",\r\n  soleBottomColor: \"\",\r\n  soleTopColor: \"\",\r\n  insideColor: \"\",\r\n  outside1Color: \"\",\r\n  outside2Color: \"\",\r\n  outside3Color: \"\",\r\n  lacesTexture: \"\",\r\n  soleBottomTexture: \"\",\r\n  soleTopTexture: \"\",\r\n  insideTexture: \"\",\r\n  outside1Texture: \"\",\r\n  outside2Texture: \"\",\r\n  outside3Texture: \"\",\r\n  orderStatus: \"\",\r\n});\r\n\r\n// Ordergegevens ophalen\r\nconst fetchOrderData = async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/orders/${productCode.value}`, {\r\n      headers: { Authorization: `Bearer ${jwtToken}` },\r\n    });\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n\r\n    const data = await response.json();\r\n    orderData.value = data.data.order;\r\n\r\n    // Formulier vooraf vullen met opgehaalde gegevens\r\n    Object.assign(formData.value, orderData.value);\r\n  } catch (error) {\r\n    console.error(\"Fout bij het ophalen van ordergegevens:\", error);\r\n  }\r\n};\r\n\r\n// Order bijwerken\r\nconst updateOrder = async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/orders/${productCode.value}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(formData.value),\r\n    });\r\n\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n\r\n    router.push(\"/admin/orders\");\r\n  } catch (error) {\r\n    console.error(\"Fout bij het bijwerken van de order:\", error);\r\n  }\r\n};\r\n\r\nonMounted(fetchOrderData);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Order Bewerken</h1>\r\n    <form v-if=\"orderData\" @submit.prevent=\"updateOrder\">\r\n      <h2>Klantinformatie</h2>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"firstName\">Voornaam:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"firstName\"\r\n            v-model=\"formData.customer.firstName\"\r\n            required\r\n          />\r\n\r\n          <label for=\"lastName\">Achternaam:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"lastName\"\r\n            v-model=\"formData.customer.lastName\"\r\n            required\r\n          />\r\n\r\n          <label for=\"email\">E-mail:</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            v-model=\"formData.customer.email\"\r\n            required\r\n          />\r\n\r\n          <label for=\"message\">Bericht:</label>\r\n          <textarea id=\"message\" v-model=\"formData.customer.message\"></textarea>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Adres</h3>\r\n          <label for=\"street\">Straat:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"street\"\r\n            v-model=\"formData.customer.address.street\"\r\n            required\r\n          />\r\n\r\n          <label for=\"houseNumber\">Huisnummer:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"houseNumber\"\r\n            v-model=\"formData.customer.address.houseNumber\"\r\n            required\r\n          />\r\n\r\n          <label for=\"postalCode\">Postcode:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"postalCode\"\r\n            v-model=\"formData.customer.address.postalCode\"\r\n            required\r\n          />\r\n\r\n          <label for=\"city\">Stad:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"city\"\r\n            v-model=\"formData.customer.address.city\"\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <h2>Productinformatie</h2>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"productId\">Product ID:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"productId\"\r\n            v-model=\"formData.productId\"\r\n            required\r\n          />\r\n\r\n          <label for=\"lacesColor\">Veterskleur:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"lacesColor\"\r\n            v-model=\"formData.lacesColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"lacesTexture\">Veters Texture:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"lacesTexture\"\r\n            v-model=\"formData.lacesTexture\"\r\n          />\r\n\r\n          <label for=\"soleBottomColor\">Zoolkleur (onderkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleBottomColor\"\r\n            v-model=\"formData.soleBottomColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"soleBottomTexture\">Zool Texture (onderkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleBottomTexture\"\r\n            v-model=\"formData.soleBottomTexture\"\r\n          />\r\n\r\n          <label for=\"soleTopColor\">Zoolkleur (bovenkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleTopColor\"\r\n            v-model=\"formData.soleTopColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"soleTopTexture\">Zool Texture (bovenkant):</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"soleTopTexture\"\r\n            v-model=\"formData.soleTopTexture\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <label for=\"insideColor\">Binnenkleur:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"insideColor\"\r\n            v-model=\"formData.insideColor\"\r\n            required\r\n          />\r\n\r\n          <label for=\"insideTexture\">Binnen Texture:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"insideTexture\"\r\n            v-model=\"formData.insideTexture\"\r\n          />\r\n\r\n          <label for=\"outside1Color\">Buitenkleur 1:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside1Color\"\r\n            v-model=\"formData.outside1Color\"\r\n            required\r\n          />\r\n\r\n          <label for=\"outside1Texture\">Buiten Texture 1:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside1Texture\"\r\n            v-model=\"formData.outside1Texture\"\r\n          />\r\n\r\n          <label for=\"outside2Color\">Buitenkleur 2:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside2Color\"\r\n            v-model=\"formData.outside2Color\"\r\n            required\r\n          />\r\n\r\n          <label for=\"outside2Texture\">Buiten Texture 2:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside2Texture\"\r\n            v-model=\"formData.outside2Texture\"\r\n          />\r\n\r\n          <label for=\"outside3Color\">Buitenkleur 3:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside3Color\"\r\n            v-model=\"formData.outside3Color\"\r\n            required\r\n          />\r\n\r\n          <label for=\"outside3Texture\">Buiten Texture 3:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"outside3Texture\"\r\n            v-model=\"formData.outside3Texture\"\r\n          />\r\n\r\n          <label for=\"orderStatus\">Status:</label>\r\n          <select id=\"orderStatus\" v-model=\"formData.orderStatus\" required>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"shipped\">Shipped</option>\r\n            <option value=\"delivered\">Delivered</option>\r\n            <option value=\"cancelled\">Cancelled</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\" class=\"btn active\">Bewerk Order</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Basisstijl */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  width: 100%;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 32px;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  flex: 1;\r\n}\r\n\r\ninput,\r\ntextarea,\r\nselect {\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  background-color: #f9f9f9;\r\n  color: var(--gray-700);\r\n  width: 100%;\r\n}\r\n\r\nbutton {\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n</style>\r\n","import script from \"./EditOrder.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditOrder.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditOrder.vue?vue&type=style&index=0&id=d71bd772&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d71bd772\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\nconst fallbackLogo = \"../../assets/images/rebilt-favicon.svg\";\r\n\r\n// Base URL depending on environment\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const userData = response.data?.data?.user || {};\r\n    Object.assign(user, userData);\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Initialize data fetching on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user);\r\n\r\n// Watch for changes in user data and log updates\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\n// House style data management\r\nconst huisstijlData = reactive({\r\n  primaryColor: \"#9747ff\",\r\n  secondaryColor: \"#000000\",\r\n  textColor: \"#ffffff\",\r\n  titlesColor: \"#146ef5\",\r\n  backgroundColor: \"#000000\",\r\n  buttonColor: \"#146ef5\",\r\n  fonts: [], // Fonts initialized as an empty array\r\n  logo: \"\",\r\n  backgroundImage: \"\",\r\n  black: \"#080808\",\r\n  white: \"#fff\",\r\n  blue_600: \"#0055d4\",\r\n  gray_100: \"#f0f0f0\",\r\n  gray_200: \"#d8d8d8\",\r\n  gray_300: \"#ababab\",\r\n  gray_400: \"#898989\",\r\n  gray_500: \"#757575\",\r\n  gray_600: \"#5a5a5a\",\r\n  gray_700: \"#363636\",\r\n  gray_800: \"#222\",\r\n  gray_900: \"#171717\",\r\n});\r\n\r\nconst selectedFontForTitles = ref(\"\");\r\nconst selectedFontForText = ref(\"\");\r\nconst GoogleFonts = ref([]);\r\n\r\n// Set dynamic font styles\r\nconst setFonts = () => {\r\n  document.documentElement.style.setProperty(\r\n    \"--title-font\",\r\n    selectedFontForTitles.value || \"default\"\r\n  );\r\n  document.documentElement.style.setProperty(\r\n    \"--body-font\",\r\n    selectedFontForText.value || \"default\"\r\n  );\r\n};\r\n\r\n// Fetch Google Fonts\r\nconst fetchGoogleFonts = async () => {\r\n  const apiKey = \"AIzaSyBAS05cq9-WKD92VljeuLee5V7YkIrTTMw\";\r\n  const googleFontsApi = `https://www.googleapis.com/webfonts/v1/webfonts?key=${apiKey}`;\r\n  try {\r\n    const { data } = await axios.get(googleFontsApi);\r\n    GoogleFonts.value = data.items.map((font) => font.family);\r\n  } catch (error) {\r\n    console.error(\"Error fetching Google Fonts:\", error);\r\n  }\r\n};\r\n\r\n// Select and load a font\r\nconst selectFont = async (font, type) => {\r\n  const fontUrl = `https://fonts.googleapis.com/css2?family=${font.replace(\r\n    / /g,\r\n    \"+\"\r\n  )}:wght@400;700&display=swap`;\r\n\r\n  const existingLink = document.head.querySelector(`link[href=\"${fontUrl}\"]`);\r\n  if (!existingLink) {\r\n    const link = document.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.href = fontUrl;\r\n    document.head.appendChild(link);\r\n  }\r\n\r\n  if (type === \"title\") {\r\n    selectedFontForTitles.value = font;\r\n  } else if (type === \"text\") {\r\n    selectedFontForText.value = font;\r\n  }\r\n\r\n  await updateHouseStyleInDatabase();\r\n};\r\n\r\nconst openColorPicker = (field) => {\r\n  const input = document.createElement(\"input\");\r\n  input.type = \"color\";\r\n  input.value = huisstijlData[field];\r\n\r\n  input.addEventListener(\"input\", async (event) => {\r\n    huisstijlData[field] = event.target.value;\r\n    await updateHouseStyleInDatabase();\r\n  });\r\n\r\n  input.click();\r\n};\r\n\r\n// Fetch house style from the database\r\nconst getHouseStyleFromDatabase = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    const partnerData = response.data?.data?.partner || {};\r\n    Object.assign(huisstijlData, {\r\n      primaryColor: partnerData.primary_color || \"#9747ff\",\r\n      secondaryColor: partnerData.secondary_color || \"#000000\",\r\n      textColor: partnerData.text_color || \"#ffffff\",\r\n      titlesColor: partnerData.titles_color || \"#146ef5\",\r\n      backgroundColor: partnerData.background_color || \"#000000\",\r\n      buttonColor: partnerData.button_Color || \"#146ef5\",\r\n      logo: partnerData.logo_url || \"\",\r\n      backgroundImage: partnerData.background_image_url || \"\",\r\n      fontFamilyTitles: partnerData.fontFamilyTitles || \"Syne\",\r\n      fontFamilyBodyText: partnerData.fontFamilyBodyText || \"DM Sans\",\r\n    });\r\n\r\n    selectedFontForTitles.value = partnerData.fontFamilyTitles || \"Syne\";\r\n    selectedFontForText.value = partnerData.fontFamilyBodyText || \"DM Sans\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching house style:\", error);\r\n  }\r\n};\r\n\r\n// Reset house style to default values\r\nconst resetHouseStyle = async () => {\r\n  const defaultHuisstijl = {\r\n    primaryColor: \"#9747ff\",\r\n    secondaryColor: \"#000000\",\r\n    textColor: \"#ffffff\",\r\n    titlesColor: \"#146ef5\",\r\n    backgroundColor: \"#000000\",\r\n    buttonColor: \"#146ef5\",\r\n    backgroundImage: \"\",\r\n    fontFamilyTitles: \"Syne\",\r\n    fontFamilyBodyText: \"DM Sans\",\r\n    logo: \"https://res.cloudinary.com/dzempjvto/image/upload/v1734208533/Stijn/Huisstijl/yzezrygcrnb8pztjyplp.jpg\",\r\n    black: \"#080808\",\r\n    white: \"#fff\",\r\n    blue_600: \"#0055d4\",\r\n    gray_100: \"#f0f0f0\",\r\n    gray_200: \"#d8d8d8\",\r\n    gray_300: \"#ababab\",\r\n    gray_400: \"#898989\",\r\n    gray_500: \"#757575\",\r\n    gray_600: \"#5a5a5a\",\r\n    gray_700: \"#363636\",\r\n    gray_800: \"#222\",\r\n    gray_900: \"#171717\",\r\n  };\r\n\r\n  Object.assign(huisstijlData, defaultHuisstijl);\r\n\r\n  try {\r\n    await updateHouseStyleInDatabase();\r\n  } catch (error) {\r\n    console.error(\"Error updating house style:\", error);\r\n  }\r\n};\r\n\r\n// Update house style in the database\r\nconst updateHouseStyleInDatabase = async () => {\r\n  const houseStyleData = {\r\n    name: \"Odette Lunettes\",\r\n    address: {\r\n      street: \"92, Goudenregenlaan\",\r\n      city: \"Sint-Niklaas\",\r\n      postal_code: \"9100\",\r\n      country: \"Belgi\",\r\n    },\r\n    contact_email: \"jonasdebruyne734@gmail.com\",\r\n    contact_phone: \"0472671833\",\r\n    package: \"standard\",\r\n    primary_color: huisstijlData.primaryColor,\r\n    secondary_color: huisstijlData.secondaryColor,\r\n    titles_color: huisstijlData.titlesColor,\r\n    text_color: huisstijlData.textColor,\r\n    background_color: huisstijlData.backgroundColor,\r\n    button_color: huisstijlData.buttonColor,\r\n    fontFamilyBodyText: selectedFontForText.value,\r\n    fontFamilyTitles: selectedFontForTitles.value,\r\n    logo_url: huisstijlData.logo || null,\r\n    black: huisstijlData.black,\r\n    white: huisstijlData.white,\r\n    blue_600: huisstijlData.blue_600,\r\n    gray_100: huisstijlData.gray_100,\r\n    gray_200: huisstijlData.gray_200,\r\n    gray_300: huisstijlData.gray_300,\r\n    gray_400: huisstijlData.gray_400,\r\n    gray_500: huisstijlData.gray_500,\r\n    gray_600: huisstijlData.gray_600,\r\n    gray_700: huisstijlData.gray_700,\r\n    gray_800: huisstijlData.gray_800,\r\n    gray_900: huisstijlData.gray_900,\r\n  };\r\n\r\n  try {\r\n    const response = await axios.put(\r\n      `${baseURL}/partners/${partnerId}`,\r\n      houseStyleData,\r\n      {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error updating house style:\", error);\r\n  }\r\n};\r\n\r\n// Fetch house style and Google Fonts\r\nonMounted(() => {\r\n  getHouseStyleFromDatabase();\r\n  fetchGoogleFonts();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Styling</h1>\r\n    <div class=\"elements\">\r\n      <!-- Colours Section -->\r\n      <div class=\"top\">\r\n        <h2>Colours</h2>\r\n        <a href=\"#\" class=\"btn active\" @click.prevent=\"resetHouseStyle\"\r\n          ><p>Reset</p></a\r\n        >\r\n      </div>\r\n      <div class=\"colours\">\r\n        <div class=\"column\">\r\n          <h3>Primary Color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.primaryColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.primaryColor }\"\r\n              @click=\"openColorPicker('primaryColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Secondary Color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.secondaryColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.secondaryColor }\"\r\n              @click=\"openColorPicker('secondaryColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Text color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.textColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.textColor }\"\r\n              @click=\"openColorPicker('textColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Titles color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.titlesColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.titlesColor }\"\r\n              @click=\"openColorPicker('titlesColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Button color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.buttonColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.buttonColor }\"\r\n              @click=\"openColorPicker('buttonColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"column\">\r\n          <h3>Background color</h3>\r\n          <div class=\"row\">\r\n            <p>{{ huisstijlData.backgroundColor }}</p>\r\n            <div\r\n              class=\"color\"\r\n              :style=\"{ backgroundColor: huisstijlData.backgroundColor }\"\r\n              @click=\"openColorPicker('backgroundColor')\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- Fonts Section -->\r\n      <div class=\"fonts\">\r\n        <h2>Fonts</h2>\r\n        <!-- Dropdown voor lettertype selectie -->\r\n        <div class=\"font\">\r\n          <h3>Font voor titles</h3>\r\n          <div class=\"row\">\r\n            <div class=\"font-preview\">\r\n              <h3>Voorbeeld met \"{{ selectedFontForTitles }}\"</h3>\r\n              <h3 :style=\"{ fontFamily: selectedFontForTitles }\">\r\n                This is an example of a title in {{ selectedFontForTitles }}.\r\n              </h3>\r\n            </div>\r\n\r\n            <div class=\"font-select\">\r\n              <label for=\"font-dropdown\">Selecteer een font:</label>\r\n              <select\r\n                id=\"font-dropdown\"\r\n                v-model=\"selectedFontForTitles\"\r\n                @change=\"selectFont(selectedFontForTitles, 'title')\"\r\n              >\r\n                <option value=\"\" disabled :selected=\"!selectedFontForTitles\">\r\n                  Selecteer een font\r\n                </option>\r\n                <option\r\n                  v-for=\"font in [\r\n                    ...GoogleFonts,\r\n                    ...(Array.isArray(huisstijlData.fonts)\r\n                      ? huisstijlData.fonts\r\n                      : []),\r\n                  ]\"\r\n                  :key=\"font\"\r\n                  :value=\"font\"\r\n                  :style=\"{ fontFamily: font }\"\r\n                >\r\n                  {{ font }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"font\">\r\n          <h3>Font voor tekst</h3>\r\n          <div class=\"row\">\r\n            <div class=\"font-preview\">\r\n              <h3>Voorbeeld met \"{{ selectedFontForText }}\"</h3>\r\n              <p :style=\"{ fontFamily: selectedFontForText }\">\r\n                This is an example of body text in {{ selectedFontForText }}.\r\n              </p>\r\n            </div>\r\n            <div class=\"font-select\">\r\n              <label for=\"font-dropdown\">Selecteer een font:</label>\r\n              <select\r\n                id=\"font-dropdown\"\r\n                v-model=\"selectedFontForText\"\r\n                @change=\"selectFont(selectedFontForText, 'text')\"\r\n              >\r\n                <option value=\"\" disabled :selected=\"!selectedFontForText\">\r\n                  Selecteer een font\r\n                </option>\r\n                <!-- Voeg zowel Google Fonts als de fonts uit huisstijlData toe -->\r\n                <option\r\n                  v-for=\"font in [\r\n                    ...GoogleFonts,\r\n                    ...huisstijlData.fonts.map((f) => f.name),\r\n                  ]\"\r\n                  :key=\"font\"\r\n                  :value=\"font\"\r\n                  :style=\"{ fontFamily: font }\"\r\n                >\r\n                  {{ font }}\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"images\">\r\n        <h2>Images</h2>\r\n        <div class=\"column\">\r\n          <h3>Logo</h3>\r\n          <div class=\"row\">\r\n            <img\r\n              v-if=\"huisstijlData.logo\"\r\n              :src=\"huisstijlData.logo\"\r\n              alt=\"Logo\"\r\n              class=\"logo\"\r\n            />\r\n            <div v-else>\r\n              <img :src=\"fallbackLogo\" alt=\"Logo\" class=\"logo\" />\r\n            </div>\r\n\r\n            <!-- Logo upload button -->\r\n            <button @click=\"triggerLogoUpload\" class=\"btn active\">\r\n              Upload Logo\r\n            </button>\r\n            <input\r\n              ref=\"logoInput\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              @change=\"handleLogoUpload\"\r\n              style=\"display: none\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.elements {\r\n  padding: 24px;\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.elements .top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.elements .top h2 {\r\n  padding-bottom: 0;\r\n  border-bottom: none;\r\n}\r\n\r\n.elements h2 {\r\n  padding-bottom: 12px;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.elements .colours,\r\n.elements .fonts,\r\n.elements .images {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.column .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.images .column .row {\r\n  align-items: flex-end;\r\n}\r\n\r\n.images .column .row img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.column .row .color {\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 3px solid var(--text-color);\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n}\r\n\r\n.elements .fonts .font {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.elements .fonts .font .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.elements .fonts .font .row .font-preview,\r\n.elements .fonts .font .row .font-select {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n#font-dropdown {\r\n  width: 100%;\r\n  padding: 8px;\r\n  font-size: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  margin-top: 8px;\r\n  color: #000;\r\n}\r\n\r\n#font-dropdown option {\r\n  color: #000;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .elements .fonts .font .row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 24px;\r\n    width: 100%;\r\n  }\r\n\r\n  .elements .fonts .font .row .font-preview,\r\n  .elements .fonts .font .row .font-select {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 50%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./StylingPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StylingPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StylingPage.vue?vue&type=style&index=0&id=32030646&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-32030646\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decodeToken = (token) => {\r\n  if (!token) return null;\r\n  const base64Payload = token.split(\".\")[1];\r\n  const decodedPayload = JSON.parse(atob(base64Payload));\r\n  return decodedPayload; // Dit bevat de payload, inclusief de partner-id\r\n};\r\n\r\n// JWT-token controle\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decoded = decodeToken(token);\r\nconst decodedToken = decodeToken(jwtToken);\r\nconst userPartnerId = decodedToken?.companyId;\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n\r\n    if (\r\n      userData.role !== \"partner_admin\" &&\r\n      userData.role !== \"partner_owner\"\r\n    ) {\r\n      router.push(\"/login\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Watch for changes in user data and update the Navigation component\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\n// Reactieve data-referenties\r\nconst data = ref([]); // Zorg ervoor dat data altijd een lege array is\r\nconst searchTerm = ref(\"\");\r\nconst selectedFilter = ref(\"All\");\r\nconst selectedUsers = ref([]); // Dit is een ref voor de geselecteerde gebruikers\r\nconst isPopupVisible = ref(false);\r\n\r\n// Computed properties voor UI-staat\r\nconst isDeleteButtonVisible = computed(() => selectedUsers.value.length > 0);\r\nconst emptyState = computed(() => data.value.length === 0);\r\n\r\nconst fetchData = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"jwtToken\");\r\n    const decodedToken = parseJwt(token); // Decode the token here\r\n    if (!decodedToken) {\r\n      throw new Error(\"Invalid token or failed to decode token\");\r\n    }\r\n\r\n    const response = await fetch(`${baseURL}/users`, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n    const result = await response.json();\r\n\r\n    const userRole = decodedToken?.role;\r\n    if (userRole === \"platform_admin\") {\r\n      data.value = result.data.users;\r\n    } else {\r\n      const filteredUsers = result.data.users.filter((user) => {\r\n        const matchesPartner = user.partnerId === userPartnerId;\r\n        return matchesPartner;\r\n      });\r\n      data.value = filteredUsers;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching data:\", error);\r\n  }\r\n};\r\n\r\n// Filter de gebruikers op basis van zoekterm en filter\r\nconst filteredUsers = computed(() => {\r\n  // Controleer eerst of data.value gedefinieerd is\r\n  if (!data.value) return [];\r\n\r\n  return data.value.filter((user) => {\r\n    const matchesSearchTerm =\r\n      user.firstname.toLowerCase().includes(searchTerm.value.toLowerCase()) ||\r\n      user.lastname.toLowerCase().includes(searchTerm.value.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(searchTerm.value.toLowerCase());\r\n\r\n    const matchesFilter =\r\n      selectedFilter.value === \"All\" || user.role === selectedFilter.value;\r\n\r\n    return matchesSearchTerm && matchesFilter;\r\n  });\r\n});\r\n\r\n// Filter de gebruikers op basis van zoekterm en filter\r\nconst selectAllUsers = (isSelected) => {\r\n  selectedUsers.value = isSelected\r\n    ? filteredUsers.value.map((user) => user._id)\r\n    : []; // Wijzig de geselecteerde gebruikers als een lege array\r\n};\r\n\r\n// Schakel selectie voor een enkele gebruiker\r\nconst toggleSelection = (userId) => {\r\n  const index = selectedUsers.value.indexOf(userId);\r\n  if (index === -1) {\r\n    selectedUsers.value.push(userId);\r\n  } else {\r\n    selectedUsers.value.splice(index, 1);\r\n  }\r\n};\r\n\r\n// Verwijderen van geselecteerde gebruikers\r\nconst deleteSelectedUsers = async () => {\r\n  if (!selectedUsers.value.length) return;\r\n\r\n  try {\r\n    await Promise.all(\r\n      selectedUsers.value.map(async (userId) => {\r\n        const response = await fetch(`${baseURL}/users/${userId}`, {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, // Change jwtToken to token here\r\n          },\r\n        });\r\n        if (!response.ok)\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n      })\r\n    );\r\n\r\n    // Refresh data and clear selection after successful deletion\r\n    await fetchData();\r\n    selectedUsers.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting users:\", error);\r\n  }\r\n};\r\n\r\n// Popup-weergavebeheer\r\nconst showPopup = () => (isPopupVisible.value = true);\r\nconst hidePopup = () => (isPopupVisible.value = false);\r\nconst confirmDelete = async () => {\r\n  await deleteSelectedUsers();\r\n  hidePopup();\r\n};\r\n\r\n// Initialiseer component en haal data op\r\nonMounted(fetchData);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <h2>Users</h2>\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this user?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link exact to=\"/admin/add-new-user\" class=\"btn active\">\r\n          <p>Add new</p>\r\n          <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{ display: isDeleteButtonVisible ? 'flex' : 'none' }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n      <select class=\"filter\" v-model=\"selectedFilter\">\r\n        <option value=\"All\">All</option>\r\n        <option value=\"admin\">Admin</option>\r\n        <option value=\"user\">User</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"search\">\r\n      <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n      <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n    </div>\r\n\r\n    <div class=\"users mobile\">\r\n      <div class=\"items\">\r\n        <router-link\r\n          v-if=\"filteredUsers && filteredUsers.length > 0\"\r\n          v-for=\"user in filteredUsers\"\r\n          :key=\"user._id\"\r\n          :to=\"{ name: 'EditUser', params: { id: user._id } }\"\r\n        >\r\n          <div class=\"elements\">\r\n            <div class=\"text\">\r\n              <p class=\"name\">{{ user.firstname }} {{ user.lastname }}</p>\r\n              <p>{{ user.email }}</p>\r\n              <p>{{ user.role }}</p>\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              :class=\"{ active: user.activeUnactive === 'active' }\"\r\n            >\r\n              <p>{{ user.activeUnactive }}</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"users desktop\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"selectAllUsers($event.target.checked)\"\r\n        />\r\n        <p>First name</p>\r\n        <p>Last name</p>\r\n        <p>Email</p>\r\n        <p>Role</p>\r\n        <p>Status</p>\r\n      </div>\r\n      <ul v-if=\"filteredUsers && filteredUsers.length > 0\" class=\"list\">\r\n        <li v-for=\"user in filteredUsers\" :key=\"user._id\">\r\n          <router-link\r\n            :to=\"{ name: 'EditUser', params: { id: user._id } }\"\r\n            class=\"user-link\"\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              @change=\"toggleSelection(user._id)\"\r\n              :checked=\"selectedUsers.includes(user._id)\"\r\n              @click.stop\r\n            />\r\n            <p>{{ user.firstname }}</p>\r\n            <p>{{ user.lastname }}</p>\r\n            <p>{{ user.email }}</p>\r\n            <p>{{ user.role }}</p>\r\n            <p>{{ user.activeUnactive }}</p>\r\n          </router-link>\r\n        </li>\r\n      </ul>\r\n      <div v-else-if=\"emptyState\" class=\"empty-state\">\r\n        <p>No users found matching the selected filters.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nh2 {\r\n  text-align: center;\r\n  width: 100%;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  display: none;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search {\r\n  width: 100%;\r\n}\r\n\r\n.search {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.menu .search {\r\n  display: none;\r\n}\r\n\r\n.users.desktop {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.users.mobile {\r\n  width: 100%;\r\n}\r\n\r\n.users.mobile .items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1em;\r\n}\r\n\r\n.users.mobile a {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  gap: 1.5em;\r\n  padding: 1em;\r\n  border-bottom: 1px solid rgba(255, 255, 255, 0.4);\r\n}\r\n\r\n.users.mobile a .image {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  border-radius: 4px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.users.mobile a .elements {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  width: 100%;\r\n  gap: 1em;\r\n}\r\n\r\n.users.mobile a .elements .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5em;\r\n}\r\n\r\n.users.mobile a .elements .btn {\r\n  border-radius: 0.75rem;\r\n  padding: 0.75rem 0.025rem;\r\n  width: 60px;\r\n  height: 26px;\r\n}\r\n\r\n.users.mobile a .elements .btn.active {\r\n  background-color: #53e971;\r\n  border: none;\r\n}\r\n\r\n.users.mobile a .elements .btn p {\r\n  opacity: 1;\r\n}\r\n\r\n.users.mobile a .elements .btn.active p {\r\n  color: #000;\r\n  opacity: 1;\r\n}\r\n\r\n.users.mobile a p {\r\n  font-size: 12px;\r\n  opacity: 0.6;\r\n}\r\n\r\n.users.mobile a p.name {\r\n  opacity: 1;\r\n}\r\n\r\n.users.desktop {\r\n  display: none;\r\n}\r\n\r\n.users::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.users .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  align-items: center;\r\n  border-radius: 4px 8px 0 0;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.users .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.users .list li {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 16px;\r\n}\r\n\r\n.items a:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.users .list li a {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  align-items: center;\r\n  column-gap: 16px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.users .list li p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.users .list li p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.users .top input,\r\n.users .list input {\r\n  width: 18px;\r\n  height: 18px;\r\n}\r\n\r\n.users .top {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  gap: 16px;\r\n  padding: 4px 16px;\r\n}\r\n\r\n.users .top p:nth-child(2),\r\n.users .list li a p:nth-child(2) {\r\n  width: 150px;\r\n}\r\n\r\n.users .top p:nth-child(3),\r\n.users .list li a p:nth-child(3) {\r\n  width: 190px;\r\n}\r\n\r\n.users .top p:nth-child(4),\r\n.users .list li a p:nth-child(4) {\r\n  width: 280px;\r\n}\r\n\r\n.users .top p:nth-child(5),\r\n.users .list li a p:nth-child(5) {\r\n  width: 100px;\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 20px;\r\n  font-size: 18px;\r\n  color: var(--text-color);\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n  h2,\r\n  .search,\r\n  .partners.mobile {\r\n    display: none;\r\n  }\r\n\r\n  .menu .search {\r\n    display: flex;\r\n  }\r\n\r\n  .partners.desktop {\r\n    display: block;\r\n  }\r\n  .search {\r\n    width: auto;\r\n  }\r\n\r\n  .menu .search,\r\n  select {\r\n    min-width: 320px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./UsersPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UsersPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UsersPage.vue?vue&type=style&index=0&id=f2316310&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f2316310\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Bepaal de basis-URL op basis van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst router = useRouter();\r\n\r\n// Redirect naar login als er geen token is\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst firstname = ref(\"\");\r\nconst lastname = ref(\"\");\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst role = ref(\"customer\");\r\nconst status = ref(\"active\");\r\nconst partner = ref(\"\"); // Dit wordt de gekozen partner\r\nconst country = ref(\"\");\r\nconst city = ref(\"\");\r\nconst postalCode = ref(\"\");\r\nconst profileImage = ref(\"\");\r\nconst bio = ref(\"\");\r\nconst partners = ref([]); // Lijst van partners\r\n\r\nconst isValidEmail = (email) => {\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailPattern.test(email);\r\n};\r\n\r\n// Haal de partners op bij het laden van de component\r\nonMounted(async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/partners`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Fout bij het ophalen van partners\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    partners.value = data.data.partners || []; // Zorg ervoor dat we de juiste gegevens gebruiken\r\n  } catch (error) {\r\n    console.error(\"Error fetching partners:\", error.message);\r\n    alert(\"Er is een fout opgetreden bij het ophalen van de partners.\");\r\n  }\r\n});\r\n\r\nconst addUser = async () => {\r\n  if (\r\n    !firstname.value ||\r\n    !lastname.value ||\r\n    !email.value ||\r\n    !password.value ||\r\n    !role.value ||\r\n    !status.value\r\n  ) {\r\n    alert(\"Vul alle velden in.\");\r\n    return;\r\n  }\r\n\r\n  if (!isValidEmail(email.value)) {\r\n    alert(\"Vul een geldig e-mailadres in.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const userPayload = {\r\n      user: {\r\n        firstname: firstname.value,\r\n        lastname: lastname.value,\r\n        email: email.value,\r\n        password: password.value,\r\n        role: role.value,\r\n        activeUnactive: status.value,\r\n      },\r\n    };\r\n\r\n    // Voeg alleen optionele velden toe als ze niet leeg zijn\r\n    if (partner.value) userPayload.user.partner = partner.value;\r\n    if (country.value) userPayload.user.country = country.value;\r\n    if (city.value) userPayload.user.city = city.value;\r\n    if (postalCode.value) userPayload.user.postalCode = postalCode.value;\r\n    if (profileImage.value) userPayload.user.profileImage = profileImage.value;\r\n    if (bio.value) userPayload.user.bio = bio.value;\r\n\r\n    const userResponse = await fetch(`${baseURL}/users/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(userPayload),\r\n    });\r\n\r\n    if (!userResponse.ok) {\r\n      const errorDetail = await userResponse.json();\r\n      throw new Error(\r\n        `Fout bij het toevoegen van de gebruiker: ${errorDetail.message}`\r\n      );\r\n    }\r\n\r\n    const userResult = await userResponse.json();\r\n\r\n    // Navigeer naar gebruikerspagina\r\n    router.push(\"/admin/users\");\r\n  } catch (error) {\r\n    console.error(\"Error adding user or creating house style:\", error.message);\r\n    alert(\r\n      \"Er is een fout opgetreden bij het toevoegen van de gebruiker of het aanmaken van de huisstijl. Controleer de console voor details.\"\r\n    );\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Add new user</h1>\r\n    <form @submit.prevent=\"addUser\">\r\n      <!-- Vereiste velden -->\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"firstname\">First Name:</label>\r\n          <input v-model=\"firstname\" id=\"firstname\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"lastname\">Last Name:</label>\r\n          <input v-model=\"lastname\" id=\"lastname\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"email\">Email:</label>\r\n          <input v-model=\"email\" id=\"email\" type=\"email\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"password\">Password:</label>\r\n          <input v-model=\"password\" id=\"password\" type=\"password\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"role\">Role:</label>\r\n          <select v-model=\"role\" id=\"role\" required>\r\n            <option value=\"customer\">Customer</option>\r\n            <option value=\"partner_admin\">Partner Admin</option>\r\n            <option value=\"partner_owner\">Partner Owner</option>\r\n            <option value=\"platform_admin\">Platform Admin</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"status\">Status:</label>\r\n          <select v-model=\"status\" id=\"status\" required>\r\n            <option value=\"active\">Active</option>\r\n            <option value=\"inactive\">Inactive</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Optionele velden -->\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"partner\">Partner (optioneel):</label>\r\n          <select v-model=\"partner\" id=\"partner\">\r\n            <option value=\"\">Selecteer een partner</option>\r\n            <option\r\n              v-for=\"partner in partners\"\r\n              :key=\"partner._id\"\r\n              :value=\"partner.name\"\r\n            >\r\n              {{ partner.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"country\">Country (optioneel):</label>\r\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"city\">City (optioneel):</label>\r\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"postalCode\">Postal Code (optioneel):</label>\r\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"profileImage\">Profile Image URL (optioneel):</label>\r\n          <input v-model=\"profileImage\" id=\"profileImage\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"bio\">Bio (optioneel):</label>\r\n          <textarea v-model=\"bio\" id=\"bio\" rows=\"4\"></textarea>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Submit button -->\r\n      <button type=\"submit\" class=\"btn active\">Add user</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./AddNewUserPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewUserPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewUserPage.vue?vue&type=style&index=0&id=5bf07f5f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5bf07f5f\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Bepaal de basis-URL op basis van de hostname\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\n\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst firstname = ref(\"\");\r\nconst lastname = ref(\"\");\r\nconst email = ref(\"\");\r\nconst password = ref(\"\");\r\nconst role = ref(\"customer\");\r\nconst status = ref(\"active\");\r\nconst company = ref(\"\"); // Bedrijf\r\nconst bio = ref(\"\"); // Bio\r\nconst country = ref(\"\"); // Land\r\nconst city = ref(\"\"); // Stad\r\nconst postalCode = ref(\"\"); // Postcode\r\nconst profileImage = ref(null); // Dit blijft hetzelfde\r\n\r\n// Functie voor bestandshantering\r\nconst handleFileChange = (event) => {\r\n  const file = event.target.files[0]; // Haal het eerste bestand op\r\n  profileImage.value = file; // Sla het bestand op in de profileImage variabele\r\n};\r\n\r\nconst userData = ref(null);\r\nconst userId = route.params.id;\r\n\r\nconst isValidEmail = (email) => {\r\n  // Controleer eerst of het emailadres leeg is\r\n  if (!email || typeof email !== \"string\") {\r\n    return false;\r\n  }\r\n\r\n  // Reguliere expressie voor e-mailvalidatie\r\n  const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n\r\n  // Test de e-mail tegen de reguliere expressie\r\n  return emailPattern.test(email);\r\n};\r\n\r\nconst fetchUserData = async () => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/users/${userId}`);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json(); // JSON-parsing hier\r\n    userData.value = data.data.user; // Wijzig hier naar 'userData.value' i.p.v. 'userData'\r\n\r\n    // Vul de form velden met de ontvangen data\r\n    if (userData.value) {\r\n      firstname.value = userData.value.firstname;\r\n      lastname.value = userData.value.lastname;\r\n      email.value = userData.value.email;\r\n      role.value = userData.value.role;\r\n      status.value = userData.value.activeUnactive;\r\n      country.value = userData.value.country; // Nieuw toegevoegd\r\n      city.value = userData.value.city; // Nieuw toegevoegd\r\n      postalCode.value = userData.value.postalCode; // Nieuw toegevoegd\r\n      profileImage.value = userData.value.profileImage; // Nieuw toegevoegd\r\n      bio.value = userData.value.bio; // Nieuw toegevoegd\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching user data:\", error);\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchUserData();\r\n});\r\n\r\nconst updateUser = async () => {\r\n  if (\r\n    !firstname.value ||\r\n    !lastname.value ||\r\n    !email.value ||\r\n    !role.value ||\r\n    !status.value\r\n  ) {\r\n    alert(\"Vul alle velden in.\");\r\n    return;\r\n  }\r\n\r\n  if (!isValidEmail(email.value)) {\r\n    alert(\"Voer een geldig e-mailadres in.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const payload = {\r\n      user: {\r\n        firstname: firstname.value,\r\n        lastname: lastname.value,\r\n        email: email.value,\r\n        password: password.value, // Voeg hier de password toe als je het wilt bijwerken\r\n        role: role.value,\r\n        activeUnactive: status.value,\r\n        company: company.value,\r\n        bio: bio.value,\r\n        country: country.value,\r\n        city: city.value,\r\n        postalCode: postalCode.value,\r\n      },\r\n    };\r\n\r\n    const response = await fetch(`${baseURL}/users/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`, // Als je token nodig hebt voor authenticatie\r\n      },\r\n      body: JSON.stringify(payload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const result = await response.json();\r\n    router.push(\"/admin/users\");\r\n  } catch (error) {\r\n    console.error(\"Error updating user:\", error);\r\n    alert(\"Er is een fout opgetreden bij het bijwerken van de gebruiker.\");\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit user</h1>\r\n    <form v-if=\"userData\" @submit.prevent=\"updateUser\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"firstname\">Voornaam:</label>\r\n          <input v-model=\"firstname\" id=\"firstname\" type=\"text\" required />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"lastname\">Achternaam:</label>\r\n          <input v-model=\"lastname\" id=\"lastname\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"email\">E-mail:</label>\r\n        <input v-model=\"email\" id=\"email\" type=\"email\" required />\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"role\">Rol:</label>\r\n          <select v-model=\"role\" id=\"role\">\r\n            <option value=\"customer\">Customer</option>\r\n            <option value=\"partner_admin\">Partner Admin</option>\r\n            <option value=\"partner_owner\">Partner Owner</option>\r\n            <option value=\"platform_admin\">Platform Admin</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"status\">Status:</label>\r\n          <select v-model=\"status\" id=\"status\">\r\n            <option value=\"active\">Actief</option>\r\n            <option value=\"inactive\">Inactief</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Nieuwe velden toegevoegd -->\r\n      <div class=\"column\">\r\n        <label for=\"company\">Bedrijf:</label>\r\n        <input v-model=\"company\" id=\"company\" type=\"text\" />\r\n      </div>\r\n      <div class=\"column\">\r\n        <label for=\"bio\">Bio:</label>\r\n        <textarea v-model=\"bio\" id=\"bio\" rows=\"4\"></textarea>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"country\">Land:</label>\r\n          <input v-model=\"country\" id=\"country\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"city\">Stad:</label>\r\n          <input v-model=\"city\" id=\"city\" type=\"text\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"postalCode\">Postcode:</label>\r\n          <input v-model=\"postalCode\" id=\"postalCode\" type=\"text\" />\r\n        </div>\r\n        <div class=\"column\">\r\n          <label for=\"profileImage\">Profielafbeelding:</label>\r\n          <input type=\"file\" id=\"profileImage\" @change=\"handleFileChange\" />\r\n        </div>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn active\">Edit user</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  margin-bottom: 72px;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n\r\n  form .row {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    justify-content: space-between;\r\n    gap: 120px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./EditUser.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditUser.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditUser.vue?vue&type=style&index=0&id=452ef1d1&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-452ef1d1\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Basis-URL afhankelijk van de omgeving\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nconst router = useRouter();\r\n\r\n// Redirect naar login als er geen token is\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Variabelen voor configuratiegegevens\r\nconst fieldName = ref(\"\");\r\nconst fieldType = ref(\"\");\r\nconst optionsInput = ref(\"\");\r\nconst options = ref([]); // Dit zal de kleur-ID's bevatten\r\n\r\n// Kleur input\r\nconst colorInput = ref(\"\"); // Input voor kleurconfiguratie\r\nconst selectedColors = ref([]); // Dit slaat de geselecteerde kleuren op als kleur-ID's\r\n\r\n// Functie om een unieke kleur-ID te genereren (UUID)\r\nconst generateUniqueId = () => {\r\n  return \"_\" + Math.random().toString(36).substr(2, 9); // Dit genereert een eenvoudige unieke ID\r\n};\r\n\r\n// Functie om kleur toe te voegen aan de geselecteerde kleuren\r\nconst addColor = () => {\r\n  if (colorInput.value && !selectedColors.value.includes(colorInput.value)) {\r\n    // Genereer een unieke ID voor de kleur\r\n    const colorId = generateUniqueId();\r\n\r\n    // Voeg de kleur-ID toe aan de opties-array en de naam voor weergave\r\n    selectedColors.value.push({ id: colorId, hex: colorInput.value });\r\n    options.value.push(colorId); // Voeg de kleur-ID toe aan de opties\r\n\r\n    colorInput.value = \"\"; // Reset de kleurinput\r\n  } else {\r\n    console.error(\"De geselecteerde kleur heeft geen bijbehorende kleur-ID.\");\r\n  }\r\n};\r\n\r\n// Functie om de configuratie toe te voegen\r\nconst addConfiguration = async () => {\r\n  const configurationPayload = {\r\n    fieldName: fieldName.value,\r\n    fieldType: fieldType.value,\r\n    options:\r\n      fieldType.value === \"Color\"\r\n        ? selectedColors.value.map((c) => c.hex) // Stuur hex-waarden als opties\r\n        : options.value,\r\n    isColor: fieldType.value === \"Color\",\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(`${baseURL}/configurations`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwtToken}`,\r\n      },\r\n      body: JSON.stringify(configurationPayload),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorDetail = await response.json();\r\n      console.error(\"Error from server:\", errorDetail);\r\n      throw new Error(\r\n        `Fout bij het toevoegen van de configuratie: ${errorDetail.message}`\r\n      );\r\n    }\r\n\r\n    const result = await response.json();\r\n    router.back();\r\n  } catch (error) {\r\n    console.error(\"Error adding configuration:\", error.message);\r\n    alert(\"Er is een fout opgetreden bij het toevoegen van de configuratie.\");\r\n  }\r\n};\r\n\r\nconst updateOptions = () => {\r\n  // Verwerk de tekst in het invoerveld en zet om naar een array\r\n  options.value = optionsInput.value\r\n    .split(\",\") // Split de string op komma's\r\n    .map((opt) => opt.trim()) // Verwijder eventuele spaties rond de waarde\r\n    .filter((opt) => opt); // Filter lege waarden eruit\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Nieuwe Configuratie Toevoegen</h1>\r\n    <form @submit.prevent=\"addConfiguration\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldName\">Veldnaam:</label>\r\n          <input v-model=\"fieldName\" id=\"fieldName\" type=\"text\" required />\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldType\">Veldtype:</label>\r\n          <select v-model=\"fieldType\" id=\"fieldType\" required>\r\n            <option value=\"\">Selecteer een veldtype</option>\r\n            <option value=\"Text\">Tekst</option>\r\n            <option value=\"Dropdown\">Dropdown</option>\r\n            <option value=\"Color\">Kleur</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\" v-if=\"fieldType === 'Dropdown'\">\r\n        <div class=\"column\">\r\n          <label for=\"options\">Opties:</label>\r\n          <input\r\n            v-model=\"optionsInput\"\r\n            id=\"options\"\r\n            type=\"text\"\r\n            placeholder=\"Voer opties in, gescheiden door komma's\"\r\n            @input=\"updateOptions\"\r\n          />\r\n          <small>Bijv. Optie 1, Optie 2, Optie 3</small>\r\n        </div>\r\n      </div>\r\n      <!-- Kleur input -->\r\n      <div class=\"row\" v-if=\"fieldType === 'Color'\">\r\n        <div class=\"column\">\r\n          <label for=\"color\">Kleur:</label>\r\n          <input v-model=\"colorInput\" id=\"color\" type=\"color\" />\r\n          <button type=\"button\" @click=\"addColor\">Voeg Kleur Toe</button>\r\n          <small>Selecteer een kleur voor de configuratie</small>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Toon de geselecteerde kleuren als cirkels -->\r\n      <div v-if=\"fieldType === 'Color' && selectedColors.length > 0\">\r\n        <h4>Geselecteerde Kleuren:</h4>\r\n        <ul class=\"color-list\">\r\n          <li\r\n            v-for=\"(color, index) in selectedColors\"\r\n            :key=\"index\"\r\n            :style=\"{\r\n              backgroundColor: color.hex,\r\n            }\"\r\n            class=\"color-circle\"\r\n          >\r\n            {{ color.hex }}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <button type=\"submit\" class=\"btn active\">Voeg Configuratie Toe</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Stijl voor de pagina */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  gap: 120px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.color-list {\r\n  display: flex;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.color-circle {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  border: 2px solid #fff;\r\n}\r\n</style>\r\n","import script from \"./AddNewConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddNewConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddNewConfigurationPage.vue?vue&type=style&index=0&id=ff5ef5de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ff5ef5de\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\n// Auth & API setup\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nconst baseURL =\r\n  window.location.hostname !== \"localhost\"\r\n    ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n    : \"http://localhost:3000/api/v1\";\r\n\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Reactive data for configuration form\r\nconst fieldName = ref(\"\");\r\nconst fieldType = ref(\"\");\r\nconst optionsInput = ref(\"\");\r\nconst colorInput = ref(\"\"); // For color type\r\nconst colorOptions = reactive([]); // Store color options with names and color codes\r\nconst options = reactive([]); // Dropdown options (names)\r\nconst isLoading = ref(false);\r\n\r\n// Helper function to fetch option names by ID\r\nconst fetchOptionNameById = async (optionId) => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/options/${optionId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    return response.data?.data?.name || `Unknown (${optionId})`;\r\n  } catch (error) {\r\n    console.error(`Error fetching option ${optionId}:`, error.message);\r\n    return `Unknown (${optionId})`;\r\n  }\r\n};\r\n\r\n// Update options based on input (for dropdown)\r\nconst updateOptions = () => {\r\n  options.splice(\r\n    0,\r\n    options.length,\r\n    ...optionsInput.value\r\n      .split(\",\")\r\n      .map((opt) => opt.trim())\r\n      .filter((opt) => opt !== \"\")\r\n  );\r\n};\r\n\r\n// Add color to the list of color options\r\n// Add color to the list of color options\r\nconst addColorToList = async () => {\r\n  if (colorInput.value) {\r\n    try {\r\n      // Make an API request to create a new color option\r\n      const response = await axios.post(\r\n        `${baseURL}/options`,\r\n        {\r\n          name: colorInput.value, // Store color code as the name\r\n          type: \"Color\", // Specify this is a Color option\r\n        },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      const colorOption = response.data.data;\r\n      colorOptions.push({\r\n        name: colorInput.value, // Use the color code as the name (this is what we want)\r\n        colorCode: colorOption._id, // Store the _id of the created option\r\n      });\r\n      colorInput.value = \"\"; // Clear the color input after adding\r\n    } catch (error) {\r\n      console.error(\"Error adding color:\", error.message);\r\n      alert(\"Failed to add color. Please try again.\");\r\n    }\r\n  } else {\r\n    alert(\"Please select a color.\");\r\n  }\r\n};\r\n\r\n// Update the configuration\r\nconst updateConfiguration = async () => {\r\n  if (!fieldName.value.trim()) {\r\n    alert(\"Field name cannot be empty.\");\r\n    return;\r\n  }\r\n\r\n  // Check if dropdown options or color input is valid\r\n  if (fieldType.value === \"Dropdown\" && options.length === 0) {\r\n    alert(\"Please provide at least one option for the dropdown.\");\r\n    return;\r\n  }\r\n\r\n  if (fieldType.value === \"Color\" && colorOptions.length === 0) {\r\n    alert(\"Please select at least one color.\");\r\n    return;\r\n  }\r\n\r\n  const configId = route.params.id;\r\n  const configurationPayload = {\r\n    fieldName: fieldName.value,\r\n    fieldType: fieldType.value,\r\n    // For color, pass all the selected colors\r\n    options:\r\n      fieldType.value === \"Color\"\r\n        ? colorOptions.map((c) => c.name) // Use the color name (or colorCode if preferred) instead of the _id\r\n        : options,\r\n    ...(fieldType.value === \"Color\" && { isColor: true }),\r\n  };\r\n\r\n  if (partnerId) {\r\n    configurationPayload.partnerId = partnerId;\r\n  }\r\n\r\n  try {\r\n    isLoading.value = true;\r\n    const response = await axios.put(\r\n      `${baseURL}/configurations/${configId}`,\r\n      configurationPayload,\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n\r\n    router.back();\r\n  } catch (error) {\r\n    console.error(\"Error updating configuration:\", error.message);\r\n    alert(\"Failed to update configuration. Please try again.\");\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\n// Update the configuration\r\n// Fetch configuration data\r\nconst fetchConfiguration = async () => {\r\n  const configId = route.params.id;\r\n  if (!configId) {\r\n    alert(\"Configuration ID is missing.\");\r\n    router.push(\"/configurations\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations/${configId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const config = response.data?.data || {};\r\n    fieldName.value = config.fieldName || \"\";\r\n    fieldType.value = config.fieldType || \"\";\r\n\r\n    // Handle dropdown and color field types\r\n    if (config.fieldType === \"Dropdown\" && Array.isArray(config.options)) {\r\n      const optionNames = await Promise.all(\r\n        config.options.map((optionId) => fetchOptionNameById(optionId))\r\n      );\r\n      options.splice(0, options.length, ...optionNames);\r\n      optionsInput.value = optionNames.join(\", \");\r\n    } else if (config.fieldType === \"Color\") {\r\n      // Fetch names for color options (colors are stored as IDs)\r\n      const colorDetails = await Promise.all(\r\n        config.options.map(async (colorId) => {\r\n          const name = await fetchOptionNameById(colorId);\r\n          return { name, colorCode: colorId }; // Store color name and code\r\n        })\r\n      );\r\n      colorOptions.splice(0, colorOptions.length, ...colorDetails); // Store color details\r\n      colorInput.value = colorDetails[0]?.colorCode || \"\"; // Set the first color option as default\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching configuration:\", error.message);\r\n    alert(\"Failed to load configuration. Please try again.\");\r\n  }\r\n};\r\n\r\n// Fetch configuration on mount\r\nonMounted(() => {\r\n  fetchConfiguration();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <h1>Edit Configuration</h1>\r\n\r\n    <form @submit.prevent=\"updateConfiguration\">\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldName\">Field Name:</label>\r\n          <input\r\n            v-model=\"fieldName\"\r\n            id=\"fieldName\"\r\n            type=\"text\"\r\n            placeholder=\"Enter field name\"\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"column\">\r\n          <label for=\"fieldType\">Field Type:</label>\r\n          <select v-model=\"fieldType\" id=\"fieldType\" required>\r\n            <option value=\"\">Select field type</option>\r\n            <option value=\"Text\">Text</option>\r\n            <option value=\"Dropdown\">Dropdown</option>\r\n            <option value=\"Color\">Color</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\" v-if=\"fieldType === 'Dropdown'\">\r\n        <div class=\"column\">\r\n          <label for=\"options\">Options:</label>\r\n          <input\r\n            v-model=\"optionsInput\"\r\n            id=\"options\"\r\n            type=\"text\"\r\n            placeholder=\"Enter options separated by commas\"\r\n            @input=\"updateOptions\"\r\n          />\r\n          <small>Example: Option 1, Option 2, Option 3</small>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\" v-if=\"fieldType === 'Color'\">\r\n        <div class=\"column\">\r\n          <label for=\"color\">Color:</label>\r\n          <input v-model=\"colorInput\" id=\"color\" type=\"color\" required />\r\n          <button type=\"button\" @click=\"addColorToList\">Add Color</button>\r\n        </div>\r\n\r\n        <div class=\"column\">\r\n          <label>Current Colors:</label>\r\n          <ul class=\"color-list\">\r\n            <li\r\n              v-for=\"(color, index) in colorOptions\"\r\n              :key=\"index\"\r\n              class=\"color-item\"\r\n              :style=\"{ backgroundColor: color.colorCode }\"\r\n            >\r\n              {{ color.name }}\r\n              <!-- We use the color name here -->\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <button type=\"submit\" :disabled=\"isLoading\">\r\n          <span v-if=\"isLoading\">Saving...</span>\r\n          <span v-else>Save Configuration</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* CSS */\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\nform .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  gap: 120px;\r\n  width: 100%;\r\n}\r\n\r\nform .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\ninput,\r\nselect {\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid var(--gray-700);\r\n  background-color: var(--gray-700);\r\n  color: white;\r\n}\r\n\r\nbutton {\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n\r\n.color-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 8px;\r\n}\r\n\r\n.color-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.color-circle {\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  border: 1px solid var(--gray-900);\r\n}\r\n</style>\r\n","import script from \"./EditConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditConfigurationPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditConfigurationPage.vue?vue&type=style&index=0&id=5ec094ce&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5ec094ce\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// JWT Token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// API base URL\r\nconst baseURL =\r\n  window.location.hostname !== \"localhost\"\r\n    ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n    : \"http://localhost:3000/api/v1\";\r\n\r\n// Reactive references for partner data and configurations\r\nconst partnerPackage = ref(null);\r\nconst configurations = ref([]);\r\nconst partnerConfigurations = ref([]);\r\nconst loadingConfigurations = ref(false);\r\nconst optionsMap = reactive({});\r\nconst isDataLoaded = ref(false); // Loading status flag\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const userData = response.data?.data?.user || {};\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\nconst fetchConfigurations = async () => {\r\n  loadingConfigurations.value = true;\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    configurations.value = response.data?.data || [];\r\n  } catch (error) {\r\n    console.error(\"Error fetching configurations:\", error);\r\n    configurations.value = [];\r\n  } finally {\r\n    loadingConfigurations.value = false;\r\n  }\r\n};\r\n\r\nconst fetchPartnerConfigurations = async () => {\r\n  loadingConfigurations.value = true;\r\n  try {\r\n    const [configResponse, optionsResponse] = await Promise.all([\r\n      axios.get(`${baseURL}/partnerconfigurations`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }),\r\n      axios.get(`${baseURL}/options`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      }),\r\n    ]);\r\n    const configs = configResponse.data?.data || [];\r\n    const options = optionsResponse.data?.data || [];\r\n\r\n    // Map options by their IDs\r\n    options.forEach((option) => {\r\n      optionsMap[option._id] = option;\r\n    });\r\n\r\n    // Filter configurations to only include those where the partnerId matches\r\n    partnerConfigurations.value = configs.filter(\r\n      (config) => config.partnerId === partnerId\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations or options:\", error);\r\n    partnerConfigurations.value = [];\r\n  } finally {\r\n    loadingConfigurations.value = false;\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n  await fetchPartnerConfigurations();\r\n  await fetchConfigurations();\r\n  isDataLoaded.value = true; // Data is fully loaded now\r\n});\r\n\r\n// Provide user data globally\r\nprovide(\"user\", user);\r\n\r\n// Reactive data for product selection and deletion logic\r\nconst selectedConfigurations = ref([]);\r\nconst searchTerm = ref(\"\"); // Add this line in your setup() function\r\n\r\n// Select all configurations\r\nconst selectAllPartnerConfigurations = (isSelected) => {\r\n  selectedConfigurations.value = isSelected\r\n    ? partnerConfigurations.value.map((config) => config._id)\r\n    : []; // If selected, set to all partner configuration IDs, else empty array\r\n};\r\n\r\n// Function to toggle the selection of individual partner configuration\r\nconst toggleSelection = (configId) => {\r\n  const index = selectedConfigurations.value.indexOf(configId);\r\n  if (index === -1) {\r\n    selectedConfigurations.value.push(configId); // Add to selection\r\n  } else {\r\n    selectedConfigurations.value.splice(index, 1); // Remove from selection\r\n  }\r\n};\r\n\r\n// Show confirmation popup\r\nconst isPopupVisible = ref(false);\r\nconst showPopup = () => {\r\n  isPopupVisible.value = true;\r\n};\r\n\r\n// Hide confirmation popup\r\nconst hidePopup = () => {\r\n  isPopupVisible.value = false;\r\n};\r\n\r\nconst confirmDelete = async () => {\r\n  if (!isDataLoaded.value) {\r\n    console.error(\"Data is still loading. Please try again later.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const productsToDelete =\r\n      selectedConfigurations.value.length > 0\r\n        ? selectedConfigurations.value\r\n        : partnerConfigurations.value.map((config) => config._id);\r\n\r\n    // Start the deletion process\r\n    for (const id of productsToDelete) {\r\n      // Zoek naar de configuratie in de partner-configuraties\r\n      const existingConfig = partnerConfigurations.value.find(\r\n        (config) => config._id === id\r\n      );\r\n\r\n      if (!existingConfig) {\r\n        console.error(\r\n          `Configuration with ID ${id} not found in partner configurations.`\r\n        );\r\n        continue; // Skip this ID if it's not found\r\n      }\r\n\r\n      const response = await axios.delete(\r\n        `${baseURL}/partnerConfigurations/${id}`,\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        // Adjusted to 200 OK\r\n        // Verwijder de configuratie uit de partner configuraties\r\n        partnerConfigurations.value = partnerConfigurations.value.filter(\r\n          (config) => config._id !== id\r\n        );\r\n        // Optionally, also remove from all configurations\r\n        configurations.value = configurations.value.filter(\r\n          (config) => config._id !== id\r\n        );\r\n      } else {\r\n        throw new Error(`Failed to delete configuration with ID ${id}`);\r\n      }\r\n    }\r\n\r\n    // Reset de geselecteerde configuraties\r\n    selectedConfigurations.value = [];\r\n    hidePopup(); // Verberg de popup na succesvol verwijderen\r\n  } catch (error) {\r\n    console.error(\"Error deleting configurations:\", error);\r\n    alert(\"An error occurred while trying to delete configurations.\");\r\n  }\r\n};\r\n\r\nconst getFullConfiguration = (partnerConfig) => {\r\n  return (\r\n    configurations.value.find(\r\n      (config) => config._id === partnerConfig.configurationId\r\n    ) || {} // Return an empty object if no matching configuration is found\r\n  );\r\n};\r\n\r\n// Define the getOptionsNames function\r\nconst getOptionsNames = (optionIds) => {\r\n  if (!Array.isArray(optionIds) || optionIds.length === 0) {\r\n    return \"No options\"; // Return a default string if there are no options\r\n  }\r\n  return optionIds\r\n    .map((id) => optionsMap[id]?.name || \"Unknown option\")\r\n    .join(\", \");\r\n};\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"overlay\" v-if=\"isPopupVisible\"></div>\r\n  <div class=\"content\">\r\n    <!-- Delete confirmation popup -->\r\n    <div class=\"popup\" v-if=\"isPopupVisible\">\r\n      <h2>Are you sure?</h2>\r\n      <p>Do you really want to delete the selected item(s)?</p>\r\n      <div class=\"popup-buttons\">\r\n        <button @click=\"hidePopup\">Cancel</button>\r\n        <button @click=\"confirmDelete\" class=\"btn active\">Delete</button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Actions menu -->\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link to=\"/admin/settings\" class=\"btn active\">\r\n          <p>Add New <img src=\"../../assets/icons/add.svg\" alt=\"icon\" /></p>\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{\r\n            visibility:\r\n              selectedConfigurations.length > 0 ? 'visible' : 'hidden',\r\n          }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Configurations table -->\r\n    <div class=\"configurations\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"selectAllPartnerConfigurations($event.target.checked)\"\r\n        />\r\n        <p>Field Name</p>\r\n        <p>Type</p>\r\n        <p>Options</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <div\r\n          v-for=\"config in partnerConfigurations\"\r\n          :key=\"config._id\"\r\n          class=\"listItem\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            :checked=\"selectedConfigurations.includes(config._id)\"\r\n            @change=\"toggleSelection(config._id)\"\r\n          />\r\n          <router-link\r\n            :to=\"{\r\n              name: 'EditConfiguration',\r\n              params: { id: config.configurationId },\r\n              query: { partnerId: config.partnerId },\r\n            }\"\r\n          >\r\n            <p>{{ getFullConfiguration(config)?.fieldName || \"No name\" }}</p>\r\n          </router-link>\r\n          <p>{{ getFullConfiguration(config)?.fieldType || \"No type\" }}</p>\r\n          <p>\r\n            {{\r\n              getOptionsNames(getFullConfiguration(config)?.options) ||\r\n              \"No options\"\r\n            }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n  white-space: nowrap;\r\n}\r\n\r\n.configurations::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.configurations .top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-radius: 4px 8px 0 0;\r\n  gap: 16px;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.configurations .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .listItem {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 16px;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .desktop .list li:nth-child(odd) {\r\n  background-color: var(--gray-900);\r\n}\r\n\r\n.configurations .listItem a {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  align-items: center;\r\n  column-gap: 16px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.configurations .top p,\r\n.configurations .listItem p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations .top p:nth-child(1),\r\n.configurations .listItem p:nth-child(1) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(2),\r\n.configurations .listItem p:nth-child(2) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(3),\r\n.configurations .listItem p:nth-child(3) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(4),\r\n.configurations .listItem p:nth-child(4) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(5),\r\n.configurations .listItem p:nth-child(5) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(6),\r\n.configurations .listItem p:nth-child(6) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(7),\r\n.configurations .listItem p:nth-child(7) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .listItem p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-configurations {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n</style>\r\n","import script from \"./MyConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MyConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MyConfigurationsPage.vue?vue&type=style&index=0&id=4aa385fe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4aa385fe\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, computed, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decodeToken = (token) => {\r\n  if (!token) return null;\r\n  const base64Payload = token.split(\".\")[1];\r\n  const decodedPayload = JSON.parse(atob(base64Payload));\r\n  return decodedPayload; // Dit bevat de payload, inclusief de partner-id\r\n};\r\n\r\n// JWT-token controle\r\nconst jwtToken = localStorage.getItem(\"jwtToken\");\r\nif (!jwtToken) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst decoded = decodeToken(token);\r\nconst decodedToken = decodeToken(jwtToken);\r\nconst userPartnerId = decodedToken?.companyId;\r\n\r\nconst parseJwt = (token) => {\r\n  try {\r\n    const base64Url = token.split(\".\")[1];\r\n    const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    const jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (error) {\r\n    console.error(\"Error parsing JWT:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nconst tokenPayload = parseJwt(token);\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.partnerId || null;\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Reactive variables for configurations and options\r\nconst configurations = ref([]);\r\nconst selectedConfigurations = ref([]);\r\nconst allOptions = ref([]); // To hold all options (ID -> name mapping)\r\nconst searchTerm = ref(\"\");\r\nconst showDeletePopup = ref(false); // To control the visibility of the delete popup\r\nconst isDeleteButtonVisible = computed(\r\n  () => selectedConfigurations.value.length > 0\r\n);\r\n\r\n// Fetch configurations data\r\nconst fetchConfigurations = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    configurations.value = response.data?.data || [];\r\n    fetchOptions();\r\n  } catch (error) {\r\n    console.error(\"Error fetching configurations:\", error);\r\n  }\r\n};\r\n\r\n// Fetch options data (used to map option IDs to option names)\r\nconst fetchOptions = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/options`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    allOptions.value = response.data?.data || [];\r\n  } catch (error) {\r\n    console.error(\"Error fetching options:\", error);\r\n  }\r\n};\r\n\r\n// Filtering configurations based on the search term\r\nconst filteredConfigurations = computed(() => {\r\n  const lowerSearchTerm = searchTerm.value.toLowerCase();\r\n  return configurations.value.filter((config) =>\r\n    Object.values(config).join(\" \").toLowerCase().includes(lowerSearchTerm)\r\n  );\r\n});\r\n\r\n// Toggle selection logic for individual configurations\r\nconst toggleSelection = (configId) => {\r\n  const index = selectedConfigurations.value.indexOf(configId);\r\n  if (index > -1) {\r\n    selectedConfigurations.value.splice(index, 1);\r\n  } else {\r\n    selectedConfigurations.value.push(configId);\r\n  }\r\n};\r\n\r\n// Toggle select all logic\r\nconst toggleSelectAll = () => {\r\n  if (selectedConfigurations.value.length === configurations.value.length) {\r\n    selectedConfigurations.value = [];\r\n  } else {\r\n    selectedConfigurations.value = configurations.value.map(\r\n      (config) => config._id\r\n    );\r\n  }\r\n};\r\n\r\nconst getOptionName = (optionId) => {\r\n  const option = allOptions.value.find((opt) => opt._id === optionId);\r\n  return option ? option.name : \"Unknown\"; // Return the name or \"Unknown\" if not found\r\n};\r\n\r\n// Show the delete confirmation popup\r\nconst showPopup = () => {\r\n  showDeletePopup.value = true;\r\n};\r\n\r\n// Hide the delete confirmation popup\r\nconst hidePopup = () => {\r\n  showDeletePopup.value = false;\r\n};\r\n\r\n// Delete selected configurations\r\n// Function to delete the selected configurations\r\nconst deleteSelectedConfigurations = async () => {\r\n  if (selectedConfigurations.value.length === 0) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Iterate over each selected configuration\r\n    for (const configId of selectedConfigurations.value) {\r\n      // Send the DELETE request to the correct endpoint with the specific config ID\r\n      await axios.delete(`${baseURL}/configurations/${configId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n    }\r\n\r\n    // Optionally, refresh the list of configurations after deletion\r\n    await fetchConfigurations();\r\n\r\n    // Clear the selected configurations\r\n    selectedConfigurations.value = [];\r\n  } catch (error) {\r\n    console.error(\"Error deleting configurations:\", error);\r\n  }\r\n};\r\n\r\n// Fetch data on component mount\r\nonMounted(() => {\r\n  fetchConfigurations();\r\n});\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n\r\n  <div class=\"content\">\r\n    <div class=\"popup\" v-if=\"showDeletePopup\">\r\n      <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n      <div class=\"text\">\r\n        <h2>Are you sure?</h2>\r\n        <p>Do you really want to delete this item(s)?</p>\r\n        <div class=\"btns\">\r\n          <button @click=\"hidePopup\">Cancel</button>\r\n          <button @click=\"deleteSelectedConfigurations\" class=\"btn active\">\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"menu\">\r\n      <div class=\"btns\">\r\n        <router-link to=\"/admin/add-new-configuration\" class=\"btn active\">\r\n          Add New <img src=\"../../assets/icons/add.svg\" alt=\"icon\" />\r\n        </router-link>\r\n        <div\r\n          class=\"btn display\"\r\n          :style=\"{ visibility: isDeleteButtonVisible ? 'visible' : 'hidden' }\"\r\n          @click=\"showPopup\"\r\n        >\r\n          <p>Delete item(s)</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"search\">\r\n        <img src=\"../../assets/icons/search.svg\" alt=\"icon\" />\r\n        <input placeholder=\"Search\" v-model=\"searchTerm\" />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Configurations Table -->\r\n    <div class=\"configurations\">\r\n      <div class=\"top\">\r\n        <input\r\n          type=\"checkbox\"\r\n          @change=\"toggleSelectAll\"\r\n          :checked=\"\r\n            selectedConfigurations.length === configurations.value?.length\r\n          \"\r\n        />\r\n        <p>Field Name</p>\r\n        <p>Type</p>\r\n        <p>Options</p>\r\n        <p>Partner ID</p>\r\n      </div>\r\n\r\n      <div class=\"table-container\">\r\n        <div\r\n          v-for=\"config in filteredConfigurations\"\r\n          :key=\"config._id\"\r\n          class=\"listItem\"\r\n        >\r\n          <input\r\n            type=\"checkbox\"\r\n            :checked=\"selectedConfigurations.includes(config._id)\"\r\n            @change=\"toggleSelection(config._id)\"\r\n          />\r\n          <router-link\r\n            :to=\"{\r\n              name: 'EditConfiguration',\r\n              params: { id: config._id },\r\n              query: { partnerId: config.partnerId },\r\n            }\"\r\n          >\r\n            <p>{{ config.fieldName }}</p>\r\n            <p>{{ config.fieldType }}</p>\r\n            <p>\r\n              {{\r\n                config.options && Array.isArray(config.options)\r\n                  ? config.options.map(getOptionName).join(\", \")\r\n                  : \"\"\r\n              }}\r\n            </p>\r\n            <p>{{ config.partnerId || \"None\" }}</p>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- No configurations message -->\r\n      <div v-if=\"!filteredConfigurations.length\" class=\"no-data\">\r\n        No configurations found.\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  width: 100%;\r\n  height: 100vh;\r\n}\r\n\r\n.overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  z-index: 999;\r\n}\r\n\r\n.popup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.popup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.popup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.popup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.menu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.menu .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 16px;\r\n  align-items: center;\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p {\r\n  color: #d34848;\r\n}\r\n\r\n.search,\r\nselect {\r\n  padding: 4px 12px;\r\n  border-radius: 4px;\r\n  border: none;\r\n  border: 1px solid var(--gray-900);\r\n  background-color: var(--gray-900);\r\n  color: var(--text-color);\r\n  width: 320px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.search input {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  overflow-x: auto;\r\n  white-space: nowrap;\r\n}\r\n\r\n.configurations::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.configurations .top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  border-radius: 4px 8px 0 0;\r\n  gap: 16px;\r\n  padding: 4px 16px;\r\n  background-color: var(--secondary-color);\r\n}\r\n\r\n.configurations .list {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .listItem {\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 16px;\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .listItem:nth-child(even) {\r\n  background-color: rgb(var(--primary-color), 0.1);\r\n}\r\n\r\n.configurations .listItem a {\r\n  display: grid;\r\n  grid-template-columns: repeat(7, 1fr);\r\n  align-items: center;\r\n  column-gap: 16px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.configurations .top p,\r\n.configurations .listItem p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.configurations .top p:nth-child(1),\r\n.configurations .listItem p:nth-child(1) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(2),\r\n.configurations .listItem p:nth-child(2) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(3),\r\n.configurations .listItem p:nth-child(3) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(4),\r\n.configurations .listItem p:nth-child(4) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(5),\r\n.configurations .listItem p:nth-child(5) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(6),\r\n.configurations .listItem p:nth-child(6) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .top p:nth-child(7),\r\n.configurations .listItem p:nth-child(7) {\r\n  width: 200px;\r\n}\r\n\r\n.configurations .listItem p:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-configurations {\r\n  padding: 16px;\r\n  text-align: center;\r\n  color: var(--text-color);\r\n}\r\n</style>\r\n","import script from \"./ManageConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ManageConfigurationsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ManageConfigurationsPage.vue?vue&type=style&index=0&id=73694da4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73694da4\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref, reactive, onMounted, watch, provide } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\nimport Navigation from \"../../components/navComponent.vue\";\r\nimport DynamicStyle from \"../../components/DynamicStyle.vue\";\r\n\r\n// Router setup\r\nconst router = useRouter();\r\n\r\n// Reactive user object to store user details (gebruik reactive voor betere reactiviteit)\r\nconst user = reactive({\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  newEmail: \"\",\r\n  oldEmail: \"\",\r\n  password: \"\",\r\n  newPassword: \"\",\r\n  oldPassword: \"\",\r\n  newPasswordRepeat: \"\",\r\n  country: \"\",\r\n  city: \"\",\r\n  postalCode: \"\",\r\n  profilePicture: \"\",\r\n  bio: \"\",\r\n  role: \"\",\r\n  activeUnactive: true,\r\n});\r\n\r\n// Authentication and token handling\r\nconst token = localStorage.getItem(\"jwtToken\");\r\nif (!token) {\r\n  router.push(\"/login\");\r\n}\r\n\r\nconst parseJwt = (token) => {\r\n  const base64Url = token.split(\".\")[1];\r\n  const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  const jsonPayload = decodeURIComponent(\r\n    atob(base64)\r\n      .split(\"\")\r\n      .map((c) => \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2))\r\n      .join(\"\")\r\n  );\r\n  return JSON.parse(jsonPayload);\r\n};\r\n\r\nconst tokenPayload = parseJwt(token); // Gebruik hier het token dat je hebt\r\nconst userId = tokenPayload?.userId;\r\nconst partnerId = tokenPayload?.companyId;\r\nconst showSaveButton = ref(false);\r\n\r\nconst onConfigurationChange = () => {\r\n  showSaveButton.value = true; // Maak de \"Save\"-knop zichtbaar\r\n};\r\n\r\nif (!userId) {\r\n  router.push(\"/login\");\r\n}\r\n\r\n// Base URL for API calls\r\nconst isProduction = window.location.hostname !== \"localhost\";\r\nconst baseURL = isProduction\r\n  ? \"https://rebilt-backend.onrender.com/api/v1\"\r\n  : \"http://localhost:3000/api/v1\";\r\n\r\n// Array om de configuraties op te slaan\r\nconst allConfigurations = ref([]); // Correcte initialisatie van ref\r\nconst partnerConfigurations = ref([]);\r\nconst selectedConfigurations = ref([]);\r\n\r\nconst isConfigurationSelected = (configurationId) => {\r\n  const partnerConfigIds = new Set(\r\n    partnerConfigurations.value.map((config) => config._id)\r\n  );\r\n  return partnerConfigIds.has(configurationId);\r\n};\r\n\r\n// Ophalen van alle configuraties\r\nconst fetchConfigurations = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/configurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    allConfigurations.value = response.data?.data || [];\r\n    await fetchPartnerConfigurations();\r\n  } catch (error) {\r\n    console.error(\"Error fetching all configurations:\", error);\r\n  }\r\n};\r\n\r\nconst fetchPartnerConfigurations = async () => {\r\n  if (!partnerId) return;\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partnerConfigurations`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      params: { partnerId },\r\n    });\r\n\r\n    partnerConfigurations.value = response.data?.data || [];\r\n\r\n    // Maak een set van partnerconfiguraties\r\n    const partnerConfigIds = new Set(\r\n      partnerConfigurations.value.map((config) => config.configurationId)\r\n    );\r\n\r\n    selectedConfigurations.value = allConfigurations.value.map((config) => {\r\n      const isChecked = partnerConfigIds.has(config._id);\r\n      return {\r\n        ...config,\r\n        checked: isChecked,\r\n        disabled: !partnerConfigIds.has(config._id),\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner configurations:\", error);\r\n  }\r\n};\r\n\r\nconst saveUpdatedConfigurations = async () => {\r\n  try {\r\n    const promises = selectedConfigurations.value.map(async (config) => {\r\n      const payload = {\r\n        partnerId: partnerId,\r\n        configurationId: config._id, // Gebruik config._id als configurationId\r\n        options: config.options || {}, // Zorg ervoor dat de juiste structuur is\r\n      };\r\n\r\n      // Controleer of de partnerId gelijk is aan configurationId\r\n      if (partnerId === config._id) {\r\n        alert(\"PartnerId en ConfigurationId kunnen niet hetzelfde zijn!\");\r\n        return; // Stop de uitvoering hier als de waarden gelijk zijn\r\n      }\r\n\r\n      // Controleer of de configuratie al bestaat voor deze partner\r\n      const existingConfig = partnerConfigurations.value.find(\r\n        (pc) => pc.configurationId === config._id && pc.partnerId === partnerId\r\n      );\r\n\r\n      if (config.checked) {\r\n        // Als de configuratie nog niet bestaat voor deze partner, voeg deze toe\r\n        if (!existingConfig) {\r\n          return axios\r\n            .post(`${baseURL}/partnerConfigurations`, payload, {\r\n              headers: { Authorization: `Bearer ${token}` },\r\n            })\r\n            .then((response) => {\r\n              console.log(\"Config toegevoegd:\", response.data);\r\n            })\r\n            .catch((error) => {\r\n              console.error(\r\n                \"Fout bij toevoegen configuratie:\",\r\n                error.response ? error.response.data : error\r\n              );\r\n            });\r\n        }\r\n      } else {\r\n        // Verwijder de configuratie als de checkbox is uitgeschakeld\r\n        if (existingConfig) {\r\n          return axios\r\n            .delete(`${baseURL}/partnerConfigurations/${existingConfig._id}`, {\r\n              headers: { Authorization: `Bearer ${token}` },\r\n            })\r\n            .then((response) => {\r\n              console.log(\"Config verwijderd:\", response.data);\r\n            })\r\n            .catch((error) => {\r\n              console.error(\r\n                \"Fout bij verwijderen configuratie:\",\r\n                error.response ? error.response.data : error\r\n              );\r\n            });\r\n        }\r\n      }\r\n    });\r\n\r\n    // Wacht op alle beloftes\r\n    await Promise.all(promises);\r\n\r\n    alert(\"Configuraties zijn succesvol opgeslagen!\");\r\n    showSaveButton.value = false;\r\n\r\n    // Reset originele status na succesvolle opslag\r\n    selectedConfigurations.value.forEach((config) => {\r\n      config.originalChecked = config.checked;\r\n    });\r\n\r\n    // Partnerconfiguraties opnieuw ophalen om duplicaten te voorkomen\r\n    await fetchPartnerConfigurations();\r\n  } catch (error) {\r\n    console.error(\"Error saving updated configurations:\", error);\r\n    alert(\"Er is een fout opgetreden bij het opslaan van de configuraties.\");\r\n  }\r\n};\r\n\r\n// Ophalen van de configuraties wanneer de component wordt geladen\r\nonMounted(() => {\r\n  fetchConfigurations();\r\n});\r\n\r\nprovide(\"partnerId\", partnerId); // Geeft partnerId door aan andere componenten indien nodig\r\n\r\n// State for managing the profile and other popups\r\nconst activeSection = ref(\"My profile\");\r\nconst profileEditPopup = ref(false);\r\nconst changeEmailAddressPopup = ref(false);\r\nconst changePasswordPopup = ref(false);\r\nconst changeSubscriptionPopup = ref(false);\r\nconst deleteAccountPopup = ref(false);\r\nconst successProfileEditPopup = ref(false);\r\nconst succesEmailAddressPopup = ref(false);\r\nconst succesPasswordPopup = ref(false);\r\n\r\n// Partner related data\r\nconst partnerPackage = ref(null);\r\n\r\n// Method to set active section\r\nconst setActiveSection = (section) => {\r\n  activeSection.value = section;\r\n};\r\n\r\n// Fetch user profile data\r\nconst fetchUserProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const userData = response.data?.data?.user || {};\r\n    // Update the user object\r\n    user.firstName = userData.firstname || \"\";\r\n    user.lastName = userData.lastname || \"\";\r\n    user.email = userData.email || \"\";\r\n    user.oldEmail = userData.email || \"\";\r\n    user.country = userData.country || \"\";\r\n    user.city = userData.city || \"\";\r\n    user.postalCode = userData.postalCode || \"\";\r\n    user.profilePicture = userData.profilePicture || \"\";\r\n    user.bio = userData.bio || \"\";\r\n    user.role = userData.role || \"\";\r\n    user.activeUnactive = userData.activeUnactive ?? true;\r\n  } catch (error) {\r\n    console.error(\"Error fetching user profile:\", error);\r\n  }\r\n};\r\n\r\n// Fetch partner data (if applicable)\r\nconst fetchPartnerData = async () => {\r\n  if (!partnerId) return;\r\n\r\n  try {\r\n    const response = await axios.get(`${baseURL}/partners/${partnerId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n\r\n    const partner = response.data?.data?.partner || {};\r\n    partnerPackage.value = partner.package || \"No package available\";\r\n  } catch (error) {\r\n    console.error(\"Error fetching partner data:\", error);\r\n    partnerPackage.value = \"Error loading partner data\";\r\n  }\r\n};\r\n\r\n// Update user profile\r\nconst updateProfile = async () => {\r\n  try {\r\n    if (!user.firstName || !user.lastName || !user.email) {\r\n      throw new Error(\"First Name, Last Name, and Email are required fields.\");\r\n    }\r\n\r\n    const response = await axios.put(\r\n      `${baseURL}/users/${userId}`,\r\n      {\r\n        user: {\r\n          firstname: user.firstName,\r\n          lastname: user.lastName,\r\n          email: user.email,\r\n          password: user.password,\r\n          role: user.role,\r\n          activeUnactive: user.activeUnactive,\r\n          country: user.country,\r\n          city: user.city,\r\n          postalCode: user.postalCode,\r\n          profileImage: user.profilePicture,\r\n          bio: user.bio,\r\n        },\r\n      },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n\r\n    if (response.status !== 200) {\r\n      throw new Error(`Unexpected response status: ${response.status}`);\r\n    }\r\n\r\n    closeProfileEditPopup();\r\n    opensuccessProfileEditPopup();\r\n    await fetchUserProfile();\r\n  } catch (error) {\r\n    console.error(\"Error updating profile:\", error);\r\n    if (error.response) {\r\n      console.error(\"Server responded with error:\", error.response.data);\r\n    }\r\n  }\r\n};\r\n\r\n// Update email address\r\nconst updateEmailAddress = async () => {\r\n  try {\r\n    const response = await axios.put(\r\n      `${baseURL}/users/${userId}`,\r\n      { user: { email: user.newEmail } },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n    closeChangeEmailAddressPopup();\r\n    openSuccesChangeEmailAddressPopup();\r\n    await fetchUserProfile();\r\n  } catch (error) {\r\n    console.error(\"Error updating email:\", error);\r\n  }\r\n};\r\n\r\n// Update password\r\nconst updatePassword = async () => {\r\n  try {\r\n    if (!user.oldPassword || !user.newPassword || !user.newPasswordRepeat) {\r\n      throw new Error(\r\n        \"Please enter the old password, the new password, and the repetition of the new password.\"\r\n      );\r\n    }\r\n\r\n    if (user.newPassword !== user.newPasswordRepeat) {\r\n      throw new Error(\r\n        \"The new password and the repetition of the new password do not match.\"\r\n      );\r\n    }\r\n\r\n    const response = await axios.put(\r\n      `${baseURL}/users/${userId}`,\r\n      {\r\n        user: {\r\n          oldPassword: user.oldPassword,\r\n          newPassword: user.newPassword,\r\n        },\r\n      },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n    closeChangePasswordPopup();\r\n    openSuccesChangePasswordPopup();\r\n  } catch (error) {\r\n    console.error(\"Error updating password:\", error);\r\n  }\r\n};\r\n\r\n// Handle account deletion\r\nconst handleDeleteAccount = async () => {\r\n  try {\r\n    await axios.delete(`${baseURL}/users/${userId}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    });\r\n    localStorage.removeItem(\"jwtToken\");\r\n    router.push(\"/login\");\r\n  } catch (error) {\r\n    console.error(\"Error deleting account:\", error);\r\n  }\r\n};\r\n\r\n// Popup control functions\r\nconst openEditPopup = () => (profileEditPopup.value = true);\r\nconst closeProfileEditPopup = () => (profileEditPopup.value = false);\r\n\r\nconst openChangeEmailAddressPopup = () =>\r\n  (changeEmailAddressPopup.value = true);\r\nconst closeChangeEmailAddressPopup = () =>\r\n  (changeEmailAddressPopup.value = false);\r\n\r\nconst openChangePasswordPopup = () => (changePasswordPopup.value = true);\r\nconst closeChangePasswordPopup = () => (changePasswordPopup.value = false);\r\n\r\nconst openDeleteAccountPopup = () => (deleteAccountPopup.value = true);\r\nconst closeDeleteAccountPopup = () => (deleteAccountPopup.value = false);\r\n\r\n// Success popups\r\nconst opensuccessProfileEditPopup = () =>\r\n  (successProfileEditPopup.value = true);\r\nconst openSuccesChangeEmailAddressPopup = () =>\r\n  (succesEmailAddressPopup.value = true);\r\nconst openSuccesChangePasswordPopup = () => (succesPasswordPopup.value = true);\r\n\r\nconst closeSuccessProfileEditPopup = () =>\r\n  (successProfileEditPopup.value = false);\r\nconst closeSuccessEmailAddressPopup = () =>\r\n  (succesEmailAddressPopup.value = false);\r\nconst closeSuccessChangePasswordPopup = () =>\r\n  (succesPasswordPopup.value = false);\r\n\r\n// Fetch initial data on mount\r\nonMounted(async () => {\r\n  await fetchUserProfile();\r\n  await fetchPartnerData();\r\n});\r\n\r\n// Provide the user data to all components (including Navigation)\r\nprovide(\"user\", user); // Makes user data available to child components like Navigation\r\n\r\n// Watch for changes in user data and update the Navigation component\r\nwatch(\r\n  user,\r\n  (newUser) => {\r\n    console.log(\"User data updated:\", newUser);\r\n  },\r\n  { deep: true }\r\n);\r\n\r\nwatch(\r\n  selectedConfigurations,\r\n  (newConfigurations) => {\r\n    // Sla de geselecteerde staat op in localStorage\r\n    const checkedState = newConfigurations.reduce((acc, config) => {\r\n      acc[config._id] = config.checked;\r\n      return acc;\r\n    }, {});\r\n\r\n    localStorage.setItem(\r\n      \"selectedConfigurations\",\r\n      JSON.stringify(checkedState)\r\n    );\r\n\r\n    // Controleer of er wijzigingen zijn in de geselecteerde configuraties\r\n    const hasChanges = newConfigurations.some(\r\n      (newConfig, index) =>\r\n        newConfig.checked !== selectedConfigurations.value[index]?.checked\r\n    );\r\n\r\n    showSaveButton.value = hasChanges;\r\n  },\r\n  { deep: true }\r\n);\r\n</script>\r\n\r\n<template>\r\n  <DynamicStyle />\r\n  <Navigation />\r\n  <div class=\"content\">\r\n    <div class=\"top\">\r\n      <h1>Settings</h1>\r\n      <font-awesome-icon icon=\"caret-right\" />\r\n    </div>\r\n\r\n    <div class=\"elements\">\r\n      <div class=\"menu\">\r\n        <p\r\n          :class=\"{ active: activeSection === 'My profile' }\"\r\n          @click=\"setActiveSection('My profile')\"\r\n        >\r\n          My profile\r\n        </p>\r\n        <p\r\n          :class=\"{ active: activeSection === 'Login settings' }\"\r\n          @click=\"setActiveSection('Login settings')\"\r\n        >\r\n          Login settings\r\n        </p>\r\n        <p\r\n          v-if=\"user.role === 'partner_owner' || user.role === 'partner_admin'\"\r\n          :class=\"{ active: activeSection === 'configurations' }\"\r\n          @click=\"setActiveSection('configurations')\"\r\n        >\r\n          Configurations\r\n        </p>\r\n        <p\r\n          v-if=\"user.role === 'partner_admin' && partnerPackage\"\r\n          :class=\"{ active: activeSection === 'Subscription' }\"\r\n          @click=\"setActiveSection('Subscription')\"\r\n          role=\"button\"\r\n          tabindex=\"0\"\r\n        >\r\n          Subscription\r\n        </p>\r\n      </div>\r\n\r\n      <div v-if=\"activeSection === 'My profile'\" class=\"myProfile\">\r\n        <div class=\"row\">\r\n          <h2 class=\"border\" style=\"visibility: hidden\">My profile</h2>\r\n\r\n          <button @click=\"openEditPopup\" class=\"btn\">\r\n            <img src=\"../../assets/icons/paintbrush.svg\" alt=\"icon\" />\r\n            <p>Edit</p>\r\n          </button>\r\n        </div>\r\n        <div class=\"info\">\r\n          <div class=\"pictureWithText\">\r\n            <div class=\"profilePicture\"></div>\r\n            <div>\r\n              <h3>{{ user.firstName }} {{ user.lastName }}</h3>\r\n              <p>{{ user.bio ? user.bio : user.role }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"personalInformation\">\r\n          <h3>Personal Information</h3>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>First name</label>\r\n              <p>{{ user.firstName }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Last name</label>\r\n              <p>{{ user.lastName }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Email address</label>\r\n              <p>{{ user.email }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"address\">\r\n          <h3>Address</h3>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Country</label>\r\n              <p>{{ user.country }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>City</label>\r\n              <p>{{ user.city }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Postal code</label>\r\n              <p>{{ user.postalCode }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"activeSection === 'Login settings'\" class=\"account\">\r\n        <h2 class=\"border\">Account</h2>\r\n        <div class=\"accountElements\">\r\n          <div class=\"column\">\r\n            <h3>Change email</h3>\r\n            <div class=\"row\">\r\n              <p>{{ user.email }}</p>\r\n              <button @click=\"openChangeEmailAddressPopup\" class=\"link\">\r\n                <p>Change email</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"column\">\r\n            <h3>Change password</h3>\r\n            <div class=\"row\">\r\n              <p>&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;</p>\r\n              <button @click=\"openChangePasswordPopup\" class=\"link\">\r\n                <p>Change password</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"column\">\r\n            <div class=\"row\">\r\n              <h3>Delete account</h3>\r\n              <button @click=\"openDeleteAccountPopup\" class=\"deletelink\">\r\n                <p>Delete account</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"activeSection === 'configurations'\" class=\"configurations\">\r\n        <h2 class=\"border\">Configurations</h2>\r\n\r\n        <!-- Voeg dit toe in je template om de status van de configuraties te controleren -->\r\n        <div v-if=\"!selectedConfigurations.length\">\r\n          Geen configuraties beschikbaar.\r\n        </div>\r\n\r\n        <div v-else class=\"configurationsItems\">\r\n          <div\r\n            v-for=\"config in selectedConfigurations\"\r\n            :key=\"config._id\"\r\n            class=\"row\"\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              v-model=\"config.checked\"\r\n              :id=\"'config-' + config._id\"\r\n              @change=\"onConfigurationChange\"\r\n              :checked=\"isConfigurationSelected(config._id)\"\r\n            />\r\n            <label :for=\"'config-' + config._id\">{{\r\n              config.fieldName || \"Naam niet beschikbaar\"\r\n            }}</label>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"frameBtn\">\r\n          <button\r\n            v-if=\"showSaveButton\"\r\n            @click=\"saveUpdatedConfigurations\"\r\n            class=\"btn active\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        v-if=\"activeSection === 'Subscription' && user.role === 'partner_admin'\"\r\n        class=\"subscription\"\r\n      >\r\n        <h2 class=\"border\">Subscription</h2>\r\n        <div class=\"subscriptionElements\">\r\n          <div class=\"column\" v-if=\"partnerPackage\">\r\n            <h3>Package</h3>\r\n            <div class=\"row\">\r\n              <p>{{ partnerPackage }}</p>\r\n              <button @click=\"openChangeSubscriptionPopup\" class=\"link\">\r\n                <p>Change subscription</p>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"profileEditPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeProfileEditPopup\">&times;</span>\r\n            <h2>Edit Profile</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label>First name</label>\r\n                <input v-model=\"user.firstName\" placeholder=\"Voornaam\" />\r\n              </div>\r\n              <div class=\"column\">\r\n                <label>Last name</label>\r\n                <input v-model=\"user.lastName\" placeholder=\"Achternaam\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label>Email address</label>\r\n                <input v-model=\"user.email\" placeholder=\"E-mail\" />\r\n              </div>\r\n              <div class=\"column\">\r\n                <label>Country</label>\r\n                <input v-model=\"user.country\" placeholder=\"Land\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"column\">\r\n                <label>City</label>\r\n                <input v-model=\"user.city\" placeholder=\"Stad\" />\r\n              </div>\r\n              <div class=\"column\">\r\n                <label>Postal code</label>\r\n                <input v-model=\"user.postalCode\" placeholder=\"Postcode\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Profile Picture URL</label>\r\n              <input\r\n                v-model=\"user.profilePicture\"\r\n                placeholder=\"URL voor profielfoto\"\r\n              />\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Bio</label>\r\n              <textarea v-model=\"user.bio\" placeholder=\"Bio\"></textarea>\r\n            </div>\r\n            <button @click=\"updateProfile\" class=\"btn\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div v-if=\"changeEmailAddressPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeChangeEmailAddressPopup\"\r\n              >&times;</span\r\n            >\r\n            <h2>Change Email Address</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Old Email Address</label>\r\n              <p>{{ user.email }}</p>\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>New Email Address</label>\r\n              <input v-model=\"user.newEmail\" placeholder=\"example@mail.be\" />\r\n            </div>\r\n            <button @click=\"updateEmailAddress\" class=\"btn\">Save</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"fade\">\r\n      <div v-if=\"changePasswordPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeChangePasswordPopup\">&times;</span>\r\n            <h2>Change Password</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Old password</label>\r\n              <input\r\n                v-model=\"user.oldpassword\"\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>New password</label>\r\n              <input\r\n                v-model=\"user.newpassword\"\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n            <div class=\"column\">\r\n              <label>Repeat new password</label>\r\n              <input\r\n                type=\"password\"\r\n                v-model=\"user.newPasswordRepeat\"\r\n                placeholder=\"\"\r\n              />\r\n            </div>\r\n            <p class=\"errorMessage\"></p>\r\n          </div>\r\n          <button\r\n            class=\"btn\"\r\n            @click=\"updatePassword(user.oldpassword, user.newpassword)\"\r\n          >\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"changeSubscriptionPopup\" class=\"popup\">\r\n        <div class=\"popup-content\">\r\n          <div class=\"row\">\r\n            <span class=\"close\" @click=\"closeChangeSubscriptionPopup\"\r\n              >&times;</span\r\n            >\r\n            <h2>Change Subscription</h2>\r\n          </div>\r\n          <div class=\"fields\">\r\n            <div class=\"column\">\r\n              <label>Package</label>\r\n              <select v-model=\"selectedPackage\">\r\n                <option\r\n                  value=\"standard\"\r\n                  :selected=\"selectedPackage === 'standard'\"\r\n                >\r\n                  Standard\r\n                </option>\r\n                <option value=\"pro\" :selected=\"selectedPackage === 'pro'\">\r\n                  Pro\r\n                </option>\r\n              </select>\r\n            </div>\r\n            <p class=\"errorMessage\">{{ errorMessage }}</p>\r\n          </div>\r\n          <button class=\"btn\" @click=\"updateSubscription\">Save</button>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"deleteAccountPopup\" class=\"deletePopup\">\r\n        <img src=\"../../assets/icons/cross-circle.svg\" alt=\"icon\" />\r\n        <div class=\"text\">\r\n          <h2>Are you sure?</h2>\r\n          <p>Do you really want to delete your account?</p>\r\n          <div class=\"btns\">\r\n            <button @click=\"closeDeleteAccountPopup\">Cancel</button>\r\n            <button @click=\"handleDeleteAccount\" class=\"btn active\">\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"successProfileEditPopup\" class=\"popup\">\r\n        <div class=\"successpopup\">\r\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\r\n          <div class=\"text\">\r\n            <div>\r\n              <h2>Succesfully!</h2>\r\n              <p>Your profile has been edited successfully.</p>\r\n            </div>\r\n            <button @click=\"closeSuccessProfileEditPopup\" class=\"btn active\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"succesEmailAddressPopup\" class=\"popup\">\r\n        <div class=\"successpopup\">\r\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\r\n          <div class=\"text\">\r\n            <div>\r\n              <h2>Succesfully!</h2>\r\n              <p>Your e-mail address has been changed.</p>\r\n            </div>\r\n            <button @click=\"closeSuccessEmailAddressPopup\" class=\"btn active\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n\r\n    <transition name=\"fade\">\r\n      <div v-if=\"succesPasswordPopup\" class=\"popup\">\r\n        <div class=\"successpopup\">\r\n          <img src=\"../../assets/icons/check-circle.svg\" alt=\"icon\" />\r\n          <div class=\"text\">\r\n            <div>\r\n              <h2>Succesfully!</h2>\r\n              <p>Your password has been changed.</p>\r\n            </div>\r\n            <button @click=\"closeSuccessPasswordPopup\" class=\"btn active\">\r\n              OK\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.content {\r\n  margin-bottom: 72px;\r\n}\r\n\r\n.top {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.top svg {\r\n  color: var(--titles-color);\r\n}\r\n\r\n.elements {\r\n  background-color: var(--secondary-color);\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 24px;\r\n  padding: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.elements .menu {\r\n  padding-right: 24px;\r\n  border-right: 1px solid rgba(255, 255, 255, 0.2);\r\n  display: none;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 200px;\r\n}\r\n\r\n.elements .menu p {\r\n  padding-left: 24px;\r\n}\r\n\r\n.elements .menu p.active {\r\n  background-color: var(--primary-color);\r\n  padding: 4px 12px 4px 24px;\r\n  border-radius: 4px;\r\n  color: var(--text-color);\r\n}\r\n\r\n.elements .myProfile {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.elements .account {\r\n  width: 100%;\r\n}\r\n\r\n.elements .myProfile .info {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n}\r\n\r\n.elements .myProfile .info .pictureWithText {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.elements .myProfile .info .pictureWithText .profilePicture {\r\n  background-image: url(\"../../assets/images/Odette_lunettes.webp\");\r\n  background-position: center;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n  width: 64px;\r\n  height: 64px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.elements .myProfile .info .pictureWithText div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.info,\r\n.personalInformation,\r\n.address {\r\n  padding: 16px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  border-radius: 4px;\r\n}\r\n\r\n.personalInformation,\r\n.address {\r\n  align-items: flex-start;\r\n}\r\n\r\n.myProfile .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.myProfile .row .mobile {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.myProfile .row .mobile i {\r\n  color: var(--titles-color);\r\n}\r\n\r\n.myProfile .row .desktop {\r\n  display: none;\r\n}\r\n\r\n.configurations,\r\n.account,\r\n.subscription {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.configurations {\r\n  align-items: flex-start;\r\n}\r\n\r\n.configurations .configurationsItems {\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  gap: 16px;\r\n}\r\n\r\n.configurations .configurationsItems .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.configurations .configurationsItems .row input {\r\n  border-radius: 4px;\r\n  width: auto;\r\n}\r\n\r\n.configurations .configurationsItems .row p {\r\n  color: var(--text-color);\r\n}\r\n\r\n.custom-checkbox {\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  appearance: none;\r\n  width: 24px;\r\n  height: 24px;\r\n  border: 2px solid white;\r\n  background-color: transparent;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.custom-checkbox:checked {\r\n  background-color: var(--white);\r\n}\r\n\r\n.custom-checkbox:checked::before {\r\n  content: \"\\2714\";\r\n  font-size: 16px;\r\n  color: var(--black);\r\n  position: absolute;\r\n  top: -2px;\r\n  left: 5px;\r\n}\r\n\r\n.account .accountElements,\r\n.subscription .subscriptionElements {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n}\r\n\r\n.account .accountElements .column,\r\n.subscription .subscriptionElements .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.account .accountElements .column .row,\r\n.subscription .subscriptionElements .column .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.account .accountElements .column .row .link,\r\n.subscription .subscriptionElements .column .row .link {\r\n  background-color: var(--gray);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.account .accountElements .column .row .link p,\r\n.subscription .subscriptionElements .column .row .link p {\r\n  color: var(--black);\r\n  font-weight: 400;\r\n}\r\n\r\n.account .accountElements .column .row .deletelink {\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.account .accountElements .column .row .deletelink p {\r\n  color: #d34848;\r\n}\r\n\r\n.fields {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.configurations .list {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  column-gap: 120px;\r\n  row-gap: 16px;\r\n}\r\n\r\n.configurations .list {\r\n  padding: 16px 0;\r\n}\r\n\r\n.fields .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.column p,\r\ninput,\r\ntextarea {\r\n  color: rgba(255, 255, 255, 0.4);\r\n  font-weight: 700;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  border: 1px solid rgba(255, 255, 255, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 8px;\r\n}\r\n\r\ntextarea {\r\n  background-color: transparent;\r\n  padding: 8px;\r\n  height: 100px;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  width: 100%;\r\n}\r\n\r\n.elements .display {\r\n  display: none;\r\n}\r\n\r\n.popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.successpopup {\r\n  background-color: var(--secondary-color);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 24px;\r\n  padding: 24px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.successpopup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n}\r\n\r\n.successpopup .text .btn {\r\n  color: var(--text-color);\r\n}\r\n\r\n.successpopup .text div {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.popup-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 4px;\r\n  width: 88%;\r\n  position: relative;\r\n  align-items: flex-end;\r\n}\r\n\r\n.close {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n.popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.popup-content {\r\n  background-color: var(--secondary-color);\r\n  padding: 24px;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n}\r\n\r\n.popup-content .row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.popup-content .fields {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 16px;\r\n  width: 100%;\r\n}\r\n\r\n.popup-content .row span {\r\n  font-size: 24px;\r\n}\r\n\r\n.popup-content .column {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  width: 100%;\r\n}\r\n\r\n.popup-content .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.popup-content .btns .btn {\r\n  color: var(--text-color);\r\n}\r\n\r\nbutton {\r\n  background-color: transparent;\r\n}\r\n\r\n.deletePopup {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 24px;\r\n  background-color: var(--secondary-color);\r\n  padding: 24px 32px;\r\n  border-radius: 4px;\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: 1000;\r\n}\r\n\r\n.deletePopup img {\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n\r\n.deletePopup .text {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16px;\r\n}\r\n\r\n.deletePopup .text .btns {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n.deletePopup .text .btns button {\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n}\r\n\r\n.deletePopup .text .btns .active {\r\n  background-color: #d34848;\r\n  color: var(--text-color);\r\n}\r\n\r\n.btn.display {\r\n  visibility: hidden;\r\n  border: 1px solid #d34848;\r\n  background-color: rgba(211, 72, 72, 0.2);\r\n  border-radius: 4px;\r\n  padding: 4px 12px;\r\n}\r\n\r\n.btn.display p,\r\n.errorMessage {\r\n  color: #d34848;\r\n}\r\n\r\n.frameBtn {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .content {\r\n    margin: 0;\r\n  }\r\n  .elements .menu {\r\n    display: flex;\r\n  }\r\n\r\n  .fields,\r\n  .configurations .list {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    column-gap: 120px;\r\n    row-gap: 16px;\r\n  }\r\n}\r\n@media (min-width: 1200px) {\r\n  .popup-content {\r\n    width: 400px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingsPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SettingsPage.vue?vue&type=style&index=0&id=918ff7a8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-918ff7a8\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\r\nimport Login from \"./views/LoginPage.vue\";\r\nimport ForgotPassword from \"./views/ForgotPassword.vue\";\r\nimport VerificationCode from \"./views/VerificationCode.vue\";\r\nimport NewPassword from \"./views/NewPassword.vue\";\r\nimport Collections from \"./views/Collections.vue\";\r\nimport DetailsProduct from \"./views/DetailsProduct.vue\";\r\nimport Home from \"./views/admin/HomePage.vue\";\r\nimport AddNewProduct from \"./views/admin/AddNewProductPage.vue\";\r\nimport EditProduct from \"./views/admin/EditProduct.vue\";\r\nimport Partners from \"./views/admin/PartnersPage.vue\";\r\nimport AddNewPartner from \"./views/admin/AddNewPartnerPage.vue\";\r\nimport EditPartner from \"./views/admin/EditPartner.vue\";\r\nimport Orders from \"./views/admin/OrdersPage.vue\";\r\nimport EditOrder from \"./views/admin/EditOrder.vue\";\r\nimport Styling from \"./views/admin/StylingPage.vue\";\r\nimport Users from \"./views/admin/UsersPage.vue\";\r\nimport AddNewUser from \"./views/admin/AddNewUserPage.vue\";\r\nimport EditUser from \"./views/admin/EditUser.vue\";\r\nimport AddNewConfiguration from \"./views/admin/AddNewConfigurationPage.vue\";\r\nimport EditConfiguration from \"./views/admin/EditConfigurationPage.vue\";\r\nimport MyConfigurations from \"./views/admin/MyConfigurationsPage.vue\";\r\nimport ManageConfigurations from \"./views/admin/ManageConfigurationsPage.vue\";\r\nimport Settings from \"./views/admin/SettingsPage.vue\";\r\n\r\nexport default createRouter({\r\n  history: createWebHistory(),\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"Collections\",\r\n      component: Collections,\r\n    },\r\n    {\r\n      path: \"/product/:productId\",\r\n      name: \"DetailsProduct\",\r\n      component: DetailsProduct,\r\n    },\r\n    {\r\n      path: \"/login\",\r\n      name: \"Login\",\r\n      component: Login,\r\n    },\r\n    {\r\n      path: \"/forgotPassword\",\r\n      name: \"ForgotPassword\",\r\n      component: ForgotPassword,\r\n    },\r\n    {\r\n      path: \"/verificationCode\",\r\n      name: \"VerificationCode\",\r\n      component: VerificationCode,\r\n    },\r\n    {\r\n      path: \"/newPassword\",\r\n      name: \"NewPassword\",\r\n      component: NewPassword,\r\n    },\r\n    {\r\n      path: \"/admin\",\r\n      name: \"Home\",\r\n      component: Home,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-product\",\r\n      name: \"AddNewProduct\",\r\n      component: AddNewProduct,\r\n    },\r\n    {\r\n      path: \"/admin/edit-product/:id\",\r\n      name: \"EditProduct\",\r\n      component: EditProduct,\r\n    },\r\n    {\r\n      path: \"/admin/partners\",\r\n      name: \"Partners\",\r\n      component: Partners,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-partner\",\r\n      name: \"AddNewPartner\",\r\n      component: AddNewPartner,\r\n    },\r\n    {\r\n      path: \"/admin/edit-partner/:id\",\r\n      name: \"EditPartner\",\r\n      component: EditPartner,\r\n    },\r\n    {\r\n      path: \"/admin/orders\",\r\n      name: \"Orders\",\r\n      component: Orders,\r\n    },\r\n    {\r\n      path: \"/admin/edit-order/:id\",\r\n      name: \"EditOrder\",\r\n      component: EditOrder,\r\n    },\r\n    {\r\n      path: \"/admin/styling\",\r\n      name: \"Styling\",\r\n      component: Styling,\r\n    },\r\n    {\r\n      path: \"/admin/users\",\r\n      name: \"Users\",\r\n      component: Users,\r\n    },\r\n    {\r\n      path: \"/admin/edit-user/:id\",\r\n      name: \"EditUser\",\r\n      component: EditUser,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-user\",\r\n      name: \"AddNewUser\",\r\n      component: AddNewUser,\r\n    },\r\n    {\r\n      path: \"/admin/settings\",\r\n      name: \"Settings\",\r\n      component: Settings,\r\n    },\r\n    {\r\n      path: \"/admin/manageconfigurations\",\r\n      name: \"ManageConfigurations\",\r\n      component: ManageConfigurations,\r\n    },\r\n    {\r\n      path: \"/admin/myconfigurations\",\r\n      name: \"MyConfigurations\",\r\n      component: MyConfigurations,\r\n    },\r\n    {\r\n      path: \"/admin/add-new-configuration\",\r\n      name: \"AddNewConfiguration\",\r\n      component: AddNewConfiguration,\r\n    },\r\n    {\r\n      path: \"/admin/edit-configuration/:id\",\r\n      name: \"EditConfiguration\",\r\n      component: EditConfiguration,\r\n    },\r\n  ],\r\n});\r\n","import { createApp } from \"vue\";\r\nimport \"./style.css\";\r\nimport App from \"./App.vue\";\r\nimport router from \"./router\";\r\nimport { createPinia } from \"pinia\";\r\n\r\ncreateApp(App).use(router).use(createPinia()).mount(\"#app\");\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(453)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["script","__exports__","render","router","jwtToken","localStorage","getItem","tokenPayload","JSON","parse","atob","split","partnerId","companyId","isProduction","window","location","hostname","baseURL","fallbackStyle","primary_color","secondary_color","text_color","titles_color","background_color","button_color","logo_url","fontFamilyTitles","fontFamilyBodyText","black","white","blue_600","gray_100","gray_200","gray_300","gray_400","gray_500","gray_600","gray_700","gray_800","gray_900","error","getPartnerId","async","partnerName","currentRoute","value","query","partner","fetchPartnerID","getHouseStyleFromDatabase","id","response","get","headers","Authorization","huisstijlData","data","document","documentElement","style","setProperty","loadFonts","applyFallbackStyles","formattedPartnerName","replace","trim","partners","find","p","name","toLowerCase","_id","err","bodyFont","titleFont","addFontToDocument","fontUrl","existingLink","head","querySelector","link","createElement","rel","href","appendChild","console","warn","email","password","errorMessage","login","fetch","method","body","stringify","then","ok","Error","json","status","setItem","token","decodedToken","userRole","role","push","message","catch","route","isValidEmail","emailPattern","test","routeEmail","sendMail","post","path","verificationCode","successMessage","isValidCode","code","length","emailQuery","verifyCode","isAxiosError","newPassword","repeatNewPassword","info","updatePassword","dracoLoader","DRACOLoader","setDecoderPath","gltfLoader","setDRACOLoader","model","isMouseDown","prevMouseX","prevMouseY","fetchProducts","partnerResponse","apiUrl","productResponse","products","fetchProductTypes","productTypesSet","Set","map","product","productType","productTypes","Array","from","getcolors","configResponse","configurations","selectedColors","forEach","config","options","option","optionId","colorName","some","o","color","onTouchStart","event","preventDefault","touches","clientX","clientY","onTouchMove","deltaX","deltaY","rotation","y","rotationSpeed","x","onTouchEnd","onMouseDown","onMouseMove","onMouseUp","addProductType","newType","isArray","includes","add2DProduct","images","selectedConfigurationId","productData","processedImages","imageUrl","url","configurationId","configuration","configId","selectedOptions","existingOption","opt","img","formattedProductData","productCode","productName","productPrice","description","brand","activeInactive","errorData","responseBody","add3DProduct","file","String","startsWith","validConfigurations","Date","now","checkToken","fetchPartnerPackage","packageData","package","fetchPartnerByName","fetchPartnerById","loading","filters","activeFilter","fetchAndSetProducts","filteredProducts","fetchAndSetProductTypes","filter","setActiveFilter","class","ref","autoplay","playsinline","server","proxy","target","changeOrigin","rewrite","video","canvas","faceMesh","scene","camera","renderer","mounted","this","initializeCamera","setupFaceMesh","setup3DScene","addEventListener","onResize","methods","$refs","videoElement","stream","navigator","mediaDevices","getUserMedia","srcObject","Module","canvasElement","FaceMesh","locateFile","setOptions","maxNumFaces","refineLandmarks","onResults","onFaceMeshResults","initialize","detectFaces","send","image","requestAnimationFrame","results","multiFaceLandmarks","landmarks","updateModelPosition","innerWidth","innerHeight","alpha","setSize","loader","load","gltf","add","undefined","position","z","nose","set","aspect","updateProjectionMatrix","sceneContainer","antialias","xr","enabled","domElement","light","animate","logMessage","logContainer","getElementById","innerHTML","log","isSessionSupported","supported","requestSession","requiredFeatures","session","setSession","onerror","source","lineno","colno","showModel","isFaceTrackingVisible","toggleFaceTracking","materials","layers","layersColors","currentPageIndex","productImages","selectedImage","productId","isLoading","logoUrl","optionNames","partnerPackage","rendererMobile","rendererDesktop","objLoader","isModelLoaded","isSceneInitialized","isRendererInitialized","selectedOption","selectedOptionName","selectedItems","productConfigs","partnerConfigurationsCount","fetchPartnerName","onWindowResize","container","offsetWidth","offsetHeight","logSceneLayers","initializeScene","lookAt","containerModelMobile","containerModelDesktop","contains","directionalLight","ambientLight","rendererToUse","extractMaterials","object","traverse","child","isMesh","material","load3DModel","filePath","fileExtension","pop","loadOBJModel","loadGLBModel","box","setFromObject","center","getCenter","scale","getColorForLayer","newOption","applyColorToActiveLayer","activePage","fieldNameElement","fieldName","textContent","match","validColor","colorApplied","mat","selectOption","params","result","findFieldNameForOption","optionName","fetchNumberOfPartnerConfigurations","count","fetchPartnerConfigurations","productConfigurationId","optionNameById","existing","item","loadOptionsForConfig","fetchProductData","selectedOptionImages","enrichedConfigurations","Promise","all","selectedConfigId","configUrl","configResult","selectedOptionData","optionUrl","optionResponse","optionResult","existingConfigIndex","findIndex","selectedItem","optionNamesList","flatMap","fetchLogoUrl","previousPage","pages","querySelectorAll","overview","summary","nextButton","backButton","display","page","classList","remove","visibility","nextPage","showPreviousImage","currentIndex","indexOf","showNextImage","setSelectedImage","removeEventListener","newCode","immediate","user","firstName","lastName","profilePicture","getUserDataFromToken","payload","decodedPayload","userId","firstname","lastname","fetchUserData","userData","primaryColor","secondaryColor","backgroundColor","textColor","logout","removeItem","getActiveIcon","routeName","defaultIcon","profileImage","URL","hoveredLabel","showLabel","label","hideLabel","newEmail","oldEmail","oldPassword","newPasswordRepeat","country","city","postalCode","bio","activeUnactive","parseJwt","base64Url","base64","jsonPayload","decodeURIComponent","c","charCodeAt","toString","slice","join","fetchData","getUserCompanyId","variantsCount","reduce","partnerConfigurations","fetchConfigurations","partnerConfigs","partnerConfig","matchingConfig","selectedTypeFilter","searchTerm","selectedProducts","isDeleteButtonVisible","isPopupVisible","decoded","toggleSelection","index","splice","toggleSelectAll","checked","deleteSelectedProducts","showPopup","confirmDelete","deleteProducts","hidePopup","fetchOptionNames","customConfigs","totalOptionsCount","optionsCount","fetchPartnerData","configurationsResponse","partnerConfigsWithDetails","configDetailsResponse","configDetails","configurationDetails","toggleDropdown","buttonText","types","type","key","placeholder","handleAddOption","props","required","dropdownStates","Object","computed","isOpen","$emit","stopPropagation","default","isAdding","handleAddAction","colorOptions","isSelected","toggleColor","newColor","addColor","isAddingColor","selectedColorsCopy","newColorOption","multiple","handleColorImageUpload","$event","triggerFileInput","colorUploads","src","alt","previewImages","previewUrl","imgIndex","isImageUrl","width","uploadFileToCloudinary","formData","FormData","append","sanitizeFolderName","folderName","uploadEndpoint","secure_url","Number","fileInput","click","files","validFiles","isImageFile","alert","is3DFile","uploadedUrls","secureUrl","render3DModel","containerId","defaults","uploadedFile","selectedType","selected","colorNames","fetchedColors","fetchcolors","fetchedColorsPerConfig","handleFileUpload","fileUrl","addNewProduct","values","every","colors","fieldType","selectedColorOptions","colorImages","partnerPackageResponse","partnerData","rawFetchedColors","configColors","fetchedProductTypes","sole_top","colorUploadsArray","editProduct","updateProduct","fetchUserProfile","userCompanyId","selectedFilter","selectedpartners","fetchpartners","deletepartners","filteredpartners","filteredBySearch","filteredByType","setInterval","street","contactEmail","contactPhone","subscriptionPackage","defaultStyles","addPartner","partnerPayload","address","postal_code","contact_email","contact_phone","errorDetail","updatePartner","getToken","orders","selectedOrders","fetchDataFromApi","assign","fetchOrders","ordersData","order","filteredOrders","matchesSearchTerm","matchesFilter","orderStatus","orderId","deleteSelectedOrders","deleteOrders","orderData","customer","houseNumber","lacesColor","soleBottomColor","soleTopColor","insideColor","outside1Color","outside2Color","outside3Color","lacesTexture","soleBottomTexture","soleTopTexture","insideTexture","outside1Texture","outside2Texture","outside3Texture","fetchOrderData","updateOrder","fallbackLogo","newUser","deep","titlesColor","buttonColor","fonts","logo","backgroundImage","selectedFontForTitles","selectedFontForText","GoogleFonts","fetchGoogleFonts","apiKey","googleFontsApi","items","font","family","selectFont","updateHouseStyleInDatabase","openColorPicker","field","input","button_Color","background_image_url","resetHouseStyle","defaultHuisstijl","houseStyleData","put","decodeToken","base64Payload","userPartnerId","selectedUsers","emptyState","users","filteredUsers","matchesPartner","selectAllUsers","deleteSelectedUsers","addUser","userPayload","userResponse","company","handleFileChange","updateUser","optionsInput","colorInput","generateUniqueId","Math","random","substr","colorId","hex","addConfiguration","configurationPayload","isColor","back","updateOptions","fetchOptionNameById","addColorToList","colorOption","colorCode","updateConfiguration","fetchConfiguration","colorDetails","loadingConfigurations","optionsMap","isDataLoaded","optionsResponse","configs","selectedConfigurations","selectAllPartnerConfigurations","productsToDelete","existingConfig","delete","getFullConfiguration","getOptionsNames","optionIds","allOptions","showDeletePopup","fetchOptions","filteredConfigurations","lowerSearchTerm","getOptionName","deleteSelectedConfigurations","showSaveButton","onConfigurationChange","allConfigurations","isConfigurationSelected","partnerConfigIds","has","isChecked","disabled","saveUpdatedConfigurations","promises","pc","originalChecked","activeSection","profileEditPopup","changeEmailAddressPopup","changePasswordPopup","changeSubscriptionPopup","deleteAccountPopup","successProfileEditPopup","succesEmailAddressPopup","succesPasswordPopup","setActiveSection","section","updateProfile","closeProfileEditPopup","opensuccessProfileEditPopup","updateEmailAddress","closeChangeEmailAddressPopup","openSuccesChangeEmailAddressPopup","closeChangePasswordPopup","openSuccesChangePasswordPopup","handleDeleteAccount","openEditPopup","openChangeEmailAddressPopup","openChangePasswordPopup","openDeleteAccountPopup","closeDeleteAccountPopup","closeSuccessProfileEditPopup","closeSuccessEmailAddressPopup","newConfigurations","checkedState","acc","hasChanges","newConfig","history","routes","component","Collections","DetailsProduct","ForgotPassword","VerificationCode","NewPassword","EditProduct","EditPartner","EditOrder","EditUser","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","keys","r","d","definition","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","b","baseURI","self","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}